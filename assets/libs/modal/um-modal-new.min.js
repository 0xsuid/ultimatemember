!function(s){s.fn.umModalN=function(t){s.extend({color:"#556b2f",backgroundColor:"white"},t);return console.log(this),this.each(function(t){console.log(t),console.log(this)}),this}}(jQuery),function(u,g){var s,f,y,w,v=!1,x={href:null,win_w:u(window).width(),win_h:u(window).height(),title:"&nbsp;",width:!1,height:!1,class:"",show_nav:!0,self_init:!0};"undefined"==typeof sb_opened&&(sb_opened=!1);var m={init:function(t){if(0===jQuery(this).length)return!1;(s=u.extend({},x,t)).uniq_id=parseInt(99*Math.random()+1),this.data("options",s),"gallery"==this.data("options").type?this.each(function(){u(this).addClass("shutter_box_item")}):"lightbox"==this.data("options").type&&u(this).addClass("shutter_box_lightbox"),this.data("options").self_init&&this.click(function(t){if(f)return!1;f=!0,m.before_show.apply(u(this));var s=this,o=0,i=setInterval(function(){sb_opened||(m.show.apply(u(s)),clearInterval(i)),100<++o&&clearInterval(i)},500);t.preventDefault(),t.stopPropagation()})},before_show:function(t){"function"==typeof this.data("options").onSBLoad&&this.data("options").onSBLoad.apply(u(this))},after_load_content:function(t){"function"==typeof this.data("options").afterLoad&&this.data("options").afterLoad.apply(u(this))},showBackground:function(){var t=u(".sb_background");t.hasClass("hidden")&&t.height(u(document).height()).toggleClass("hidden").fadeTo("slow",.7)},showPreLoader:function(){0==u(".sb_background").length?u("body").append('<div class="sb_background hidden"><div class="sb_loader"></div></div>'):m.showLoader.apply(u(this)),m.showBackground.apply(u(this)),v=!0},hidePreLoader:function(){u(".sb_background").fadeTo("slow",0,function(){u(this).remove()})},show:function(t){var s,o,i,e,n,a,d,h,p,l,b,c=this,_=u("body"),r=this.data("options");if(v&&0!=u(".sb_background").length||_.append('<div class="sb_background hidden"></div>'),"lightbox"==this.data("options").view_type?(s=this.data("options").title,0<u(".sb_lightbox").length&&(u(".sb_lightbox").hide(),m.hideLoader.apply(u(this))),(o=u('<div class="sb_lightbox '+this.data("options").class+'"></div>').appendTo("body")).html('<div class="sb_lightbox_content"><div class="sb_lightbox_content_header"><div class="sb_lightbox_content_title">'+s+'</div><div class="sb_lightbox_header_actions_line"><button type="button" class="sb_button sb_close"><span class="sb_fonticon"></span></button></div></div><div class="sb_lightbox_content_wrapper"><div class="sb_lightbox_content_body"></div></div></div>'),i=u(".sb_lightbox:last"),e=this.data("options").width,n=this.data("options").height,"ajax"==this.data("options").type&&(e?i.css({width:e}):i.css({width:"1px"}),n?i.css({height:n}):i.css({height:"1px"}),i.css({left:(u(window).width()-i.width())/2+"px",top:(u(window).height()-i.height())/2+"px"})),u(window).bind("resize.number"+u(".sb_lightbox").length,function(){m.resize.apply(u(c))}),v?(u(".sb_background > .sb_loader").remove(),v=!1):m.showBackground.apply(u(this))):("popup"==this.data("options").view_type?_.append('<div class="sb_basic sb_clean hidden"><div class="sb_content_modal"><div class="sb_popup"><div class="sb_popup_content"><div class="sb_popup_content_header"><div class="sb_popup_header_actions_line"><button type="button" class="sb_button sb_close"><span class="sb_fonticon"></span></button></div></div><div class="sb_popup_content_body"><div class="sb_popup_content_navigation"><button type="button" class="sb_button sb_popup_nav_back" data-current_step="1" disabled="true"><span class="sb_fonticon"></span></button><ul class="sb_popup_nav_breadcrumbs"></ul></div><div class="sb_popup_content_container"><div class="sb_popup_container_preview"><div class="sb_loader_inner"></div></div><div class="sb_popup_container_sidebar"><div class="sb_popup_sidebar_content"><div class="sb_loader_inner"></div></div></div></div></div></div></div></div></div>'):_.append('<div class="sb_basic sb_clean hidden"><div class="sb_content"><div class="sb_content_header"><div class="sb_tools"><button type="button" class="sb_button sb_close"><span class="sb_fonticon"></span></button></div></div><div class="sb_content_body"></div><div class="sb_content_footer"></div></div></div>'),u(".sb_background, .sb_basic").height(u(document).height()).toggleClass("hidden").fadeTo("slow",.95)),"gallery"==this.data("options").type?(d=u("a.shutter_box_item"),a=this.data("options").show_nav,w=d.index(this),y===g&&(m.showLoader.apply(u(this)),y={}),d.each(function(t){y[t]=new Image,y[t].onload=function(){y[t].onload=null,y[t].kx=parseFloat(y[t].width/x.win_w),y[t].ky=parseFloat(y[t].height/x.win_h),(1<y[t].kx||1<y[t].ky)&&(y[t].kx>y[t].ky?(y[t].width=parseInt(parseInt(y[t].width)/y[t].kx),y[t].height=parseInt(parseInt(y[t].height)/y[t].kx)):y[t].kx<y[t].ky&&(y[t].width=parseInt(parseInt(y[t].width)/y[t].ky),y[t].height=parseInt(parseInt(y[t].height)/y[t].ky))),t==w&&(a&&m.showNav.apply(u(c)),m.footerLoad.apply(u(c)),1<y[t].kx||1<y[t].ky?u(".sb_content_body").append('<img class="sb_image" src="'+y[w].src+'" alt="" style="width:'+y[w].width+"px; height:"+y[w].height+'px; position: absolute;">'):u(".sb_content_body").append('<img class="sb_image" src="'+y[w].src+'" alt="" style="width:'+y[w].width+"px; height:"+y[w].height+"px; position: fixed; margin:-"+y[w].height/2+'px auto 0px; top:50%;">'),m.hideLoader.apply(u(this)))},y[t].src=u(this).attr("href")})):"inline"==this.data("options").type?(d=this.data("options").href,p=u((p=d)&&"string"===u.type(p)?d.replace(/.*(?=#[^\s]+$)/,""):d),u('<div class="shutter_box_placeholder'+this.data("options").uniq_id+'"></div>').insertAfter(p).hide(),p=u("<div>").html(p).find(d).show(),"lightbox"==this.data("options").view_type?(u(".sb_lightbox_content_body:last").append(p),("function"==typeof r.inlineBeforeLoad?r:m).inlineBeforeLoad.apply(u(this)),e?i.css({width:e}):i.css({width:u(".sb_lightbox_content_body:last").children().width()+25+"px"}),n?i.css({height:n}):i.css({height:u(".sb_lightbox_content_body:last").children().height()+60+"px"}),i.css({left:(u(window).width()-i.width())/2+"px",top:(u(window).height()-i.height())/2+"px"}),m.resize.apply(u(c))):(u(".sb_content_body").append('<div class="sb_html_content"></div>'),u(".sb_html_content").append(p))):"iframe"==this.data("options").type?(p='<iframe class="shutterbox-iframe" style="width:100%;height:100%;float:left;margin:0;padding:0;" scrolling="auto" src="'+this.attr("href")+'"></iframe>',u(".sb_lightbox_content_body").append(p),e?i.css({width:e}):i.css({width:u(".sb_lightbox_content_body").children().width()+25+"px"}),n?i.css({height:n}):i.css({height:u(".sb_lightbox_content_body").children().height()+60+"px"}),i.css({left:(u(window).width()-i.width())/2+"px",top:(u(window).height()-i.height())/2+"px"})):"ajax"==this.data("options").type?(h===g&&(m.showLoader.apply(u(this)),h=""),p="",p=("function"==typeof r.setAjaxData?r:m).setAjaxData.apply(u(this),[r.ajax_data]),jQuery.ajax({type:"POST",url:r.href,data:p,dataType:r.dataType,timeout:2e4,success:function(t){"popup"==r.view_type||"lightbox"==r.view_type?("function"==typeof r.setAjaxResponse&&r.setAjaxResponse.apply(u(this),[t]),"lightbox"==r.view_type&&(e?i.css({width:e}):i.css({width:u(".sb_lightbox_content_body:last").children().width()+25+"px"}),n?i.css({height:n}):i.css({height:u(".sb_lightbox_content_body:last").children().height()+60+"px"}),i.css({left:(u(window).width()-i.width())/2+"px",top:(u(window).height()-i.height())/2+"px"})),m.hideLoader.apply(u(this))):(m.hideLoader.apply(u(this)),h="function"==typeof r.responseLoad&&"json"==r.dataType?r.responseLoad.apply(u(this),t):t,"function"==typeof r.beforeAjaxContent&&(h=r.beforeAjaxContent.apply(u(this))+h),u(".sb_content_body").append('<div class="sb_html_content">'+h+"</div>"),"function"==typeof r.afterLoadHTML&&"html"==r.dataType&&r.afterLoadHTML.apply(u(this)),m.footerLoad.apply(u(c)))},error:function(t,s,o){m.hideLoader.apply(u(this)),h="timeout"===s?"Timeout, try again.":"Error, try again later.",u(".sb_content_body").append('<div class="sb_html_content">'+h+"</div>")}})):"function"==this.data("options").type&&"function"==typeof this.data("options").setContent&&this.data("options").setContent.apply(u(this)),"lightbox"==this.data("options").view_type?(u(".sb_lightbox").length<=1?u(".sb_background").click(function(t){m.close.apply(u(c))}):(l=u._data(u(".sb_background").get(0),"events").click[0].handler,u(".sb_background").unbind("click"),u(".sb_background").click(function(t){m.close.apply(u(c)),u(".sb_background").unbind("click"),u(".sb_background").click(l)})),o.find(".sb_close").click(function(){m.close.apply(u(c))})):u(".sb_background, .sb_close").click(function(t){m.close.apply(u(c))}),u(".sb_lightbox").length<=1&&u(document).keydown(function(t){27===t.keyCode&&(m.close.apply(u(c)),u(".sb_lightbox").length<=1&&u(this).unbind(t))}),u(".sb_content_modal").click(function(t){(!(0<jQuery(this).find(".sb_popup").length)||0==jQuery(".sb_popup").has(t.target).length)&&m.close.apply(u(c))}),u(".sb_basic").mousemove(function(){void 0!==b&&clearTimeout(b),u(this).removeClass("sb_clean"),u(".sb_close").is(":hover")||0<u(".sb_left").length&&u(".sb_left").is(":hover")||0<u(".sb_right").length&&u(".sb_right").is(":hover")||0<u(".sb_footer_right").length&&u(".sb_footer_right").is(":hover")||(b=setTimeout(function(){u(".sb_basic").addClass("sb_clean")},1500))}),"object"==typeof this.data("options").buttons)for(button in this.data("options").buttons)jQuery("body").on("click",".sb_"+button,this.data("options").buttons[button].handler);sb_opened=!(f=!1),m.after_load_content.apply(u(this))},showLoader:function(){("lightbox"==this.data("options").view_type?u(".sb_lightbox_content_body"):u(".sb_content_body")).append('<div class="sb_loader"></div>')},hideLoader:function(){u(".sb_loader").remove()},resize:function(t){var s=this.data("options"),o=u(".sb_lightbox:last");o.width()+.2*u(window).width()>u(window).width()?o.css({width:.9*u(window).width()+"px"}):s.width?o.css({width:s.width}):o.css({width:o.find(".sb_lightbox_content_body:last").children().width()+25+"px"}),o.find(".sb_lightbox_content_body:last").children().height()+60+.2*u(window).height()>u(window).height()?o.css({height:.9*u(window).height()+"px"}):s.height?o.css({height:s.height}):o.css({height:o.find(".sb_lightbox_content_body:last").children().height()+60+"px"}),o.css({left:(u(window).width()-o.width())/2+"px",top:(u(window).height()-o.height())/2+"px"})},showNav:function(){var t=this;"gallery"==this.data("options").type&&(u(".sb_content_header").append('<div class="sb_navigation_left"><button type="button" class="sb_button sb_left"><span class="sb_fonticon"></span></button></div><div class="sb_navigation_right"><button type="button" class="sb_button sb_right"><span class="sb_fonticon"></span></button></div>'),u(".sb_left").click(function(){m.prev.apply(u(t))}),u(".sb_right").click(function(){m.next.apply(u(t))}))},prev:function(){if(y[w-1]===g)return!1;w-=1,u(".sb_image").remove(),u(".sb_content_footer").html(""),1<y[w].kx||1<y[w].ky?u(".sb_content_body").append('<img class="sb_image" src="'+y[w].src+'" alt="" style="width:'+y[w].width+"px; height:"+y[w].height+'px; position: absolute;">'):u(".sb_content_body").append('<img class="sb_image" src="'+y[w].src+'" alt="" style="width:'+y[w].width+"px; height:"+y[w].height+"px; position: fixed; margin:-"+y[w].height/2+'px auto 0px; top:50%;">'),m.footerLoad.apply(u(this)),y[w+1]!==g&&u(".sb_right").attr("disabled",!1),y[w-1]===g&&u(".sb_left").attr("disabled",!0)},next:function(){if(y[w+1]===g)return!1;w+=1,u(".sb_image").remove(),u(".sb_content_footer").html(""),1<y[w].kx||1<y[w].ky?u(".sb_content_body").append('<img class="sb_image" src="'+y[w].src+'" alt="" style="width:'+y[w].width+"px; height:"+y[w].height+'px; position: absolute;">'):u(".sb_content_body").append('<img class="sb_image" src="'+y[w].src+'" alt="" style="width:'+y[w].width+"px; height:"+y[w].height+"px; position: fixed; margin:-"+y[w].height/2+'px auto 0px; top:50%;">'),m.footerLoad.apply(u(this)),y[w-1]!==g&&u(".sb_left").attr("disabled",!1),y[w+1]===g&&u(".sb_right").attr("disabled",!0)},footerLoad:function(){var t=this.data("options");if(footer_content="",footer_content+='<div class="sb_footer_right">',"object"==typeof this.data("options").buttons)for(button in this.data("options").buttons)"function"==typeof this.data("options").buttons[button].condition&&this.data("options").buttons[button].condition.apply(jQuery(this))&&"constant"==this.data("options").buttons[button].type&&(footer_content+='<button type="button" class="sb_'+button+'"><span class="sb_fonttext">'+this.data("options").buttons[button].title+"</span></button>");"function"==typeof this.data("options").onFooterLoad&&(footer_content+=this.data("options").onFooterLoad.apply(u(this),[t,w])),footer_content+="</div>",u(".sb_content_footer").append(footer_content)},setAjaxData:function(t){return t},inlineBeforeLoad:function(t){return t},close:function(){var t=this.data("options");"function"==typeof t.onClose&&t.onClose.apply(u(this)),"lightbox"==this.data("options").view_type?1<u(".sb_lightbox").length?(u(".sb_lightbox:last").fadeTo("slow",0),setTimeout(function(){"inline"==t.type&&u(".shutter_box_placeholder"+t.uniq_id).replaceWith(u(t.href).hide()),u(window).unbind("resize.number"+u(".sb_lightbox").length),u(".sb_lightbox:last").remove(),u(".sb_lightbox:last").show()},500)):(u(".sb_background, .sb_lightbox").fadeTo("slow",0),setTimeout(function(){"inline"==t.type&&u(".shutter_box_placeholder"+t.uniq_id).replaceWith(u(t.href).hide()),u(".sb_background, .sb_lightbox").remove(),sb_opened=!1},500),m.destroy.apply(u(this))):(u(".sb_background, .sb_basic").fadeTo("slow",0),setTimeout(function(){"inline"==t.type&&u(".shutter_box_placeholder"+t.uniq_id).replaceWith(u(t.href).hide()),u(".sb_background, .sb_basic").remove(),sb_opened=!1},500),m.destroy.apply(u(this))),"function"==typeof t.afterClose&&t.afterClose.apply(u(this))},destroy:function(){u(".sb_background, .sb_close, .sb_left, .sb_right").unbind("click"),u(".sb_basic").unbind("mousemove"),u("a.shutter_box_item").unbind("each")}};u.fn.shutter_box=function(t){return m[t]?m[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void u.error("Method "+t+" does not exist for jQuery.shutter_box plugin"):m.init.apply(this,arguments)}}(jQuery);