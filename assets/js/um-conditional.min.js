function condition_fields(){var h=JSON.parse(JSON.stringify(jQuery(".condition-data").data("conds")));jQuery.each(h,function(e){var l=0,y=[],f="show";jQuery.each(h[e],function(){var e,i=this[0],h=this[1],s=this[2],t=this[3],r=this[5],a=jQuery('.um-field[data-key="'+h+'"] .um-field-area input'),n=jQuery('.um-field[data-key="'+h+'"] .um-field-area>select'),u=jQuery('.um-field[data-key="'+h+'"] .um-field-area>textarea'),c=jQuery('.um-field[data-key="'+h+'"] .um-field-block'),o=[],d=jQuery('.um-field[data-key="'+h+'"] .um-field-value');if(0<a.length&&0===n.length)a.is(":checkbox")?jQuery('.um-field[data-key="'+h+'"] input:checked').each(function(){var e=jQuery(this).val();o.push(e)}):a.is(":radio")?e=jQuery('.um-field[data-key="'+h+'"] input:checked').val():a.is(":hidden")?"empty_file"===(e=jQuery('.um-field[data-key="'+h+'"] input').val())&&(e=""):e=a.val();else if(0<n.length){!0===n.prop("multiple")?0<jQuery.inArray(t,n.val())?e=t:o=n.val():e=0<jQuery.inArray(t,n.val())?t:n.val()}else 0<u.length?e=u.val():0<c.length?e=c.text():0<d.length&&(d.hasClass("um-field-value-multiselect")||d.hasClass("um-field-value-checkbox")?o=d.text().split(", "):e=d.text());if(parseInt(r)!==l){if("show"===i)switch(s){case"equals to":o&&0<o.length?jQuery.each(o,function(){if(this==t)return!(f="show");f="hide"}):f=e==t?"show":"hide";break;case"not equals":o&&0<o.length?jQuery.each(o,function(){if(!this||this==t)return!(f="hide");f="show"}):f=e!=t?"show":"hide";break;case"empty":f=o&&0<o.length?0===o.length?"show":"hide":e&&""!==e?"hide":"show";break;case"not empty":f=o&&0<o.length?0<o.length?"show":"hide":e&&""!==e?"show":"hide";break;case"greater than":o&&0<o.length?jQuery.each(o,function(){if(jQuery.isNumeric(t)&&jQuery.isNumeric(this)){if(parseInt(t)<parseInt(this))return!(f="show");f="hide"}else f="hide"}):f=jQuery.isNumeric(t)&&jQuery.isNumeric(e)&&parseInt(t)<parseInt(e)?"show":"hide";break;case"less than":o&&0<o.length?jQuery.each(o,function(){if(jQuery.isNumeric(t)&&jQuery.isNumeric(this)){if(parseInt(t)>parseInt(this))return!(f="show");f="hide"}else f="hide"}):f=jQuery.isNumeric(t)&&jQuery.isNumeric(e)&&parseInt(t)>parseInt(e)?"show":"hide";break;case"contains":o&&0<o.length?jQuery.each(o,function(){if(this&&0<=this.search(t))return!(f="show");f="hide"}):f=e&&0<=e.search(t)?"show":"hide"}else switch(s){case"equals to":o&&0<o.length?jQuery.each(o,function(){if(this==t)return!(f="hide");f="show"}):f=e==t?"hide":"show";break;case"not equals":o&&0<o.length?jQuery.each(o,function(){if(!this||this==t)return!(f="show");f="hide"}):f=e!=t?"hide":"show";break;case"empty":f=o&&0<o.length?0===o.length?"hide":"show":e&&""!==e?"show":"hide";break;case"not empty":f=o&&0<o.length?0<o.length?"hide":"show":e&&""!==e?"hide":"show";break;case"greater than":o&&0<o.length?jQuery.each(o,function(){if(jQuery.isNumeric(t)&&jQuery.isNumeric(this)){if(parseInt(t)<parseInt(this))return!(f="hide");f="show"}else f="show"}):f=jQuery.isNumeric(t)&&jQuery.isNumeric(e)&&parseInt(t)<parseInt(e)?"hide":"show";break;case"less than":o&&0<o.length?jQuery.each(o,function(){if(jQuery.isNumeric(t)&&jQuery.isNumeric(this)){if(parseInt(t)>parseInt(this))return!(f="hide");f="show"}else f="show"}):f=jQuery.isNumeric(t)&&jQuery.isNumeric(e)&&parseInt(t)>parseInt(e)?"hide":"show";break;case"contains":o&&0<o.length?jQuery.each(o,function(){if(this&&0<=this.search(t))return!(f="hide");f="show"}):f=e&&0<=e.search(t)?"hide":"show"}l++,y.push(f)}else{if("show"===i)switch(s){case"equals to":o&&0<o.length?jQuery.each(o,function(){if(this==t)return!(f="show");f="hide"}):f=e==t?"show":"hide";break;case"not equals":o&&0<o.length?jQuery.each(o,function(){if(!this||this==t)return!(f="hide");f="show"}):f=e!=t?"show":"hide";break;case"empty":f=o&&0<o.length?0===o.length?"show":"hide":e&&""!==e?"hide":"show";break;case"not empty":f=o&&0<o.length?0<o.length?"show":"hide":e&&""!==e?"show":"hide";break;case"greater than":o&&0<o.length?jQuery.each(o,function(){if(jQuery.isNumeric(t)&&jQuery.isNumeric(this)){if(parseInt(t)<parseInt(this))return!(f="show");f="hide"}else f="hide"}):f=jQuery.isNumeric(t)&&jQuery.isNumeric(e)&&parseInt(t)<parseInt(e)?"show":"hide";break;case"less than":o&&0<o.length?jQuery.each(o,function(){if(jQuery.isNumeric(t)&&jQuery.isNumeric(this)){if(parseInt(t)>parseInt(this))return!(f="show");f="hide"}else f="hide"}):f=jQuery.isNumeric(t)&&jQuery.isNumeric(e)&&parseInt(t)>parseInt(e)?"show":"hide";break;case"contains":o&&0<o.length?jQuery.each(o,function(){if(this&&0<=this.search(t))return!(f="show");f="hide"}):f=e&&0<=e.search(t)?"show":"hide"}else switch(s){case"equals to":o&&0<o.length?jQuery.each(o,function(){if(this&&this==t)return!(f="hide");f="show"}):f=e==t?"hide":"show";break;case"not equals":o&&0<o.length?jQuery.each(o,function(){if(!this||this==t)return!(f="show");f="hide"}):f=e!=t?"hide":"show";break;case"empty":f=o&&0<o.length?0===o.length?"hide":"show":e&&""!==e?"show":"hide";break;case"not empty":f=o&&0<o.length?0<o.length?"hide":"show":e&&""!==e?"hide":"show";break;case"greater than":o&&0<o.length?jQuery.each(o,function(){if(jQuery.isNumeric(t)&&jQuery.isNumeric(this)){if(parseInt(t)<parseInt(this))return!(f="hide");f="show"}else f="show"}):f=jQuery.isNumeric(t)&&jQuery.isNumeric(e)&&parseInt(t)<parseInt(e)?"hide":"show";break;case"less than":o&&0<o.length?jQuery.each(o,function(){if(jQuery.isNumeric(t)&&jQuery.isNumeric(this)){if(parseInt(t)>parseInt(this))return!(f="hide");f="show"}else f="show"}):f=jQuery.isNumeric(t)&&jQuery.isNumeric(e)&&parseInt(t)>parseInt(e)?"hide":"show";break;case"contains":o&&0<o.length?jQuery.each(o,function(){if(this&&0<=this.search(t))return!(f="hide");f="show"}):f=e&&0<=e.search(t)?"hide":"show"}y[l]?"show"===y[l]&&"show"===f?y[l]="show":y[l]="hide":y[l]="show"===f?"show":"hide"}});var i=jQuery('.um-field[data-key="'+e+'"]');jQuery.inArray("show",y)<0?(i.hide(),i.find("input, textarea").attr("disabled","disabled").attr("readonly","readonly")):(i.show(),i.find("input, textarea").removeAttr("disabled").removeAttr("readonly"))})}function check_parent(){var e=JSON.parse(JSON.stringify(jQuery(".condition-data").data("conds")));jQuery.each(e,function(r){var a=0,n=[];jQuery.each(e[r],function(){var e,i=this[1],h=this[5],s=jQuery('.um-field[data-key="'+i+'"]').is(":visible"),t=jQuery('.um-field[data-key="'+r+'"]');a!==parseInt(h)?(e=!1===s?"hide":"show",a++,n.push(e)):(e=!1===s?"hide":"show",n[a]?"show"===n[a]&&"show"===e?n[a]="show":n[a]="hide":n[a]="show"===e?"show":"hide"),jQuery.inArray("show",n)<0?t.addClass("hide-after-parent-check"):t.removeClass("hide-after-parent-check")})})}jQuery(document).ready(function(){0<jQuery(".um-field").length&&(condition_fields(),check_parent(),jQuery(".um-field input, .um-field textarea").on("change keyup",function(){condition_fields(),check_parent()}),jQuery(".um-field select").on("change",function(){condition_fields(),check_parent()}),jQuery(document).on("click",".um-modal .um-finish-upload",function(){condition_fields(),check_parent()}),jQuery(document).on("click",".um-field-area .cancel",function(){setTimeout(function(){condition_fields(),check_parent()})}))});