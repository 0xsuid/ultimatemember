!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(i){var e=function(){if(i&&i.fn&&i.fn.select2&&i.fn.select2.amd)var e=i.fn.select2.amd;var t,r,u,c;return e&&e.requirejs||(e?u=e:e={},function(h){function p(e,t){return i.call(e,t)}function o(e,t){var i,n,r,a,o,s,l,u,c,d,h,p=t&&t.split("/"),f=_.map,m=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(o=(e=e.split("/")).length-1,_.nodeIdCompat&&j.test(e[o])&&(e[o]=e[o].replace(j,"")),e=p.slice(0,p.length-1).concat(e),c=0;c<e.length;c+=1)if("."===(h=e[c]))e.splice(c,1),c-=1;else if(".."===h){if(1===c&&(".."===e[2]||".."===e[0]))break;0<c&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((p||m)&&f){for(c=(i=e.split("/")).length;0<c;c-=1){if(n=i.slice(0,c).join("/"),p)for(d=p.length;0<d;d-=1)if((r=f[p.slice(0,d).join("/")])&&(r=r[n])){a=r,s=c;break}if(a)break;!l&&m&&m[n]&&(l=m[n],u=c)}!a&&l&&(a=l,s=u),a&&(i.splice(0,s,a),e=i.join("/"))}return e}function f(t,i){return function(){var e=n.call(arguments,0);return"string"!=typeof e[0]&&1===e.length&&e.push(null),l.apply(h,e.concat([t,i]))}}function m(t){return function(e){b[t]=e}}function g(e){if(p(w,e)){var t=w[e];delete w[e],x[e]=!0,a.apply(h,t)}if(!p(b,e)&&!p(x,e))throw new Error("No "+e);return b[e]}function s(e){var t,i=e?e.indexOf("!"):-1;return-1<i&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}var a,l,v,y,b={},w={},_={},x={},i=Object.prototype.hasOwnProperty,n=[].slice,j=/\.js$/;v=function(e,t){var i,n,r=s(e),a=r[0];return e=r[1],a&&(i=g(a=o(a,t))),a?e=i&&i.normalize?i.normalize(e,(n=t,function(e){return o(e,n)})):o(e,t):(a=(r=s(e=o(e,t)))[0],e=r[1],a&&(i=g(a))),{f:a?a+"!"+e:e,n:e,pr:a,p:i}},y={require:function(e){return f(e)},exports:function(e){var t=b[e];return void 0!==t?t:b[e]={}},module:function(e){return{id:e,uri:"",exports:b[e],config:(t=e,function(){return _&&_.config&&_.config[t]||{}})};var t}},a=function(e,t,i,n){var r,a,o,s,l,u,c=[],d=typeof i;if(n=n||e,"undefined"===d||"function"===d){for(t=!t.length&&i.length?["require","exports","module"]:t,l=0;l<t.length;l+=1)if("require"===(a=(s=v(t[l],n)).f))c[l]=y.require(e);else if("exports"===a)c[l]=y.exports(e),u=!0;else if("module"===a)r=c[l]=y.module(e);else if(p(b,a)||p(w,a)||p(x,a))c[l]=g(a);else{if(!s.p)throw new Error(e+" missing "+a);s.p.load(s.n,f(n,!0),m(a),{}),c[l]=b[a]}o=i?i.apply(b[e],c):void 0,e&&(r&&r.exports!==h&&r.exports!==b[e]?b[e]=r.exports:o===h&&u||(b[e]=o))}else e&&(b[e]=i)},r=u=l=function(e,t,i,n,r){if("string"==typeof e)return y[e]?y[e](t):g(v(e,t).f);if(!e.splice){if((_=e).deps&&l(_.deps,_.callback),!t)return;t.splice?(e=t,t=i,i=null):e=h}return t=t||function(){},"function"==typeof i&&(i=n,n=r),n?a(h,e,t,i):setTimeout(function(){a(h,e,t,i)},4),l},l.config=function(e){return l(e)},r._defined=b,(c=function(e,t,i){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(i=t,t=[]),p(b,e)||p(w,e)||(w[e]=[e,t,i])}).amd={jQuery:!0}}(),e.requirejs=r,e.require=u,e.define=c),e.define("almond",function(){}),e.define("jquery",[],function(){var e=i||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(a){function c(e){var t=e.prototype,i=[];for(var n in t){"function"==typeof t[n]&&"constructor"!==n&&i.push(n)}return i}var e={Extend:function(e,t){function i(){this.constructor=e}var n={}.hasOwnProperty;for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},Decorate:function(n,r){function a(){var e=Array.prototype.unshift,t=r.prototype.constructor.length,i=n.prototype.constructor;0<t&&(e.call(arguments,n.prototype.constructor),i=r.prototype.constructor),i.apply(this,arguments)}var e=c(r),t=c(n);r.displayName=n.displayName,a.prototype=new function(){this.constructor=a};for(var i=0;i<t.length;i++){var o=t[i];a.prototype[o]=n.prototype[o]}for(var s=function(e){var t=function(){};e in a.prototype&&(t=a.prototype[e]);var i=r.prototype[e];return function(){return Array.prototype.unshift.call(arguments,t),i.apply(this,arguments)}},l=0;l<e.length;l++){var u=e[l];a.prototype[u]=s(u)}return a}},t=function(){this.listeners={}};return t.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},t.prototype.trigger=function(e){var t=Array.prototype.slice;this.listeners=this.listeners||{},e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},t.prototype.invoke=function(e,t){for(var i=0,n=e.length;i<n;i++)e[i].apply(this,t)},e.Observable=t,e.generateChars=function(e){for(var t="",i=0;i<e;i++){t+=Math.floor(36*Math.random()).toString(36)}return t},e.bind=function(e,t){return function(){e.apply(t,arguments)}},e._convertData=function(e){for(var t in e){var i=t.split("-"),n=e;if(1!==i.length){for(var r=0;r<i.length;r++){var a=i[r];(a=a.substring(0,1).toLowerCase()+a.substring(1))in n||(n[a]={}),r==i.length-1&&(n[a]=e[t]),n=n[a]}delete e[t]}}return e},e.hasScroll=function(e,t){var i=a(t),n=t.style.overflowX,r=t.style.overflowY;return(n!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===n||"scroll"===r||(i.innerHeight()<t.scrollHeight||i.innerWidth()<t.scrollWidth))},e.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},e.appendMany=function(e,t){if("1.7"===a.fn.jquery.substr(0,3)){var i=a();a.map(t,function(e){i=i.add(e)}),t=i}e.append(t)},e}),e.define("select2/results",["jquery","./utils"],function(h,e){function n(e,t,i){this.$element=e,this.data=i,this.options=t,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=h('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var t=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=h('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),n=this.options.get("translations").get(e.message);i.append(t(n(e.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var i=0;i<e.results.length;i++){var n=e.results[i],r=this.option(n);t.push(r)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(e,t){t.find(".select2-results").append(e)},n.prototype.sort=function(e){return this.options.get("sorter")(e)},n.prototype.setClasses=function(){var r=this;this.data.current(function(e){var n=h.map(e,function(e){return e.id.toString()}),t=r.$results.find(".select2-results__option[aria-selected]");t.each(function(){var e=h(this),t=h.data(this,"data"),i=""+t.id;null!=t.element&&t.element.selected||null==t.element&&-1<h.inArray(i,n)?e.attr("aria-selected","true"):e.attr("aria-selected","false")});var i=t.filter("[aria-selected=true]");0<i.length?i.first().trigger("mouseenter"):t.first().trigger("mouseenter")})},n.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},i=this.option(t);i.className+=" loading-results",this.$results.prepend(i)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(e){var t=document.createElement("li");t.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};for(var n in e.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==e.id&&delete i["aria-selected"],null!=e._resultId&&(t.id=e._resultId),e.title&&(t.title=e.title),e.children&&(i.role="group",i["aria-label"]=e.text,delete i["aria-selected"]),i){var r=i[n];t.setAttribute(n,r)}if(e.children){var a=h(t),o=document.createElement("strong");o.className="select2-results__group",h(o),this.template(e,o);for(var s=[],l=0;l<e.children.length;l++){var u=e.children[l],c=this.option(u);s.push(c)}var d=h("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});d.append(s),a.append(o),a.append(d)}else this.template(e,t);return h.data(t,"data",e),t},n.prototype.bind=function(t,e){var l=this,i=t.id+"-results";this.$results.attr("id",i),t.on("results:all",function(e){l.clear(),l.append(e.data),t.isOpen()&&l.setClasses()}),t.on("results:append",function(e){l.append(e.data),t.isOpen()&&l.setClasses()}),t.on("query",function(e){l.hideMessages(),l.showLoading(e)}),t.on("select",function(){t.isOpen()&&l.setClasses()}),t.on("unselect",function(){t.isOpen()&&l.setClasses()}),t.on("open",function(){l.$results.attr("aria-expanded","true"),l.$results.attr("aria-hidden","false"),l.setClasses(),l.ensureHighlightVisible()}),t.on("close",function(){l.$results.attr("aria-expanded","false"),l.$results.attr("aria-hidden","true"),l.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=l.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e=l.getHighlightedResults();if(0!==e.length){var t=e.data("data");"true"==e.attr("aria-selected")?l.trigger("close",{}):l.trigger("select",{data:t})}}),t.on("results:previous",function(){var e=l.getHighlightedResults(),t=l.$results.find("[aria-selected]"),i=t.index(e);if(0!==i){var n=i-1;0===e.length&&(n=0);var r=t.eq(n);r.trigger("mouseenter");var a=l.$results.offset().top,o=r.offset().top,s=l.$results.scrollTop()+(o-a);0===n?l.$results.scrollTop(0):o-a<0&&l.$results.scrollTop(s)}}),t.on("results:next",function(){var e=l.getHighlightedResults(),t=l.$results.find("[aria-selected]"),i=t.index(e)+1;if(!(i>=t.length)){var n=t.eq(i);n.trigger("mouseenter");var r=l.$results.offset().top+l.$results.outerHeight(!1),a=n.offset().top+n.outerHeight(!1),o=l.$results.scrollTop()+a-r;0===i?l.$results.scrollTop(0):r<a&&l.$results.scrollTop(o)}}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){l.displayMessage(e)}),h.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=l.$results.scrollTop(),i=l.$results.get(0).scrollHeight-t+e.deltaY,n=0<e.deltaY&&t-e.deltaY<=0,r=e.deltaY<0&&i<=l.$results.height();n?(l.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):r&&(l.$results.scrollTop(l.$results.get(0).scrollHeight-l.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var t=h(this),i=t.data("data");return"true"===t.attr("aria-selected")?void(l.options.get("multiple")?l.trigger("unselect",{originalEvent:e,data:i}):l.trigger("close",{})):void l.trigger("select",{originalEvent:e,data:i})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(e){var t=h(this).data("data");l.getHighlightedResults().removeClass("select2-results__option--highlighted"),l.trigger("results:focus",{data:t,element:h(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]").index(e),i=this.$results.offset().top,n=e.offset().top,r=this.$results.scrollTop()+(n-i),a=n-i;r-=2*e.outerHeight(!1),t<=2?this.$results.scrollTop(0):(a>this.$results.outerHeight()||a<0)&&this.$results.scrollTop(r)}},n.prototype.template=function(e,t){var i=this.options.get("templateResult"),n=this.options.get("escapeMarkup"),r=i(e,t);null==r?t.style.display="none":"string"==typeof r?t.innerHTML=n(r):h(t).append(r)},n}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(i,e,r){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=i('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e},n.prototype.bind=function(e,t){var i=this,n=(e.id,e.id+"-results");this.container=e,this.$selection.on("focus",function(e){i.trigger("focus",e)}),this.$selection.on("blur",function(e){i._handleBlur(e)}),this.$selection.on("keydown",function(e){i.trigger("keypress",e),e.which===r.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){i.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){i.update(e.data)}),e.on("open",function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",n),i._attachCloseHandler(e)}),e.on("close",function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.focus(),i._detachCloseHandler(e)}),e.on("enable",function(){i.$selection.attr("tabindex",i._tabindex)}),e.on("disable",function(){i.$selection.attr("tabindex","-1")})},n.prototype._handleBlur=function(e){var t=this;window.setTimeout(function(){document.activeElement==t.$selection[0]||i.contains(t.$selection[0],document.activeElement)||t.trigger("blur",e)},1)},n.prototype._attachCloseHandler=function(e){i(document.body).on("mousedown.select2."+e.id,function(e){var t=i(e.target).closest(".select2");i(".select2.select2-container--open").each(function(){var e=i(this);this!=t[0]&&e.data("element").select2("close")})})},n.prototype._detachCloseHandler=function(e){i(document.body).off("mousedown.select2."+e.id)},n.prototype.position=function(e,t){t.find(".selection").append(e)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},n}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,i,n){function r(){r.__super__.constructor.apply(this,arguments)}return i.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},r.prototype.bind=function(e,t){var i=this;r.__super__.bind.apply(this,arguments);var n=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(e){1===e.which&&i.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),e.on("selection:update",function(e){i.update(e.data)})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(e,t){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(e,t))},r.prototype.selectionContainer=function(){return e("<span></span>")},r.prototype.update=function(e){if(0!==e.length){var t=e[0],i=this.$selection.find(".select2-selection__rendered"),n=this.display(t,i);i.empty().append(n),i.prop("title",t.title||t.text)}else this.clear()},r}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(n,e,s){function r(e,t){r.__super__.constructor.apply(this,arguments)}return s.Extend(r,e),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},r.prototype.bind=function(e,t){var i=this;r.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){i.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){if(!i.options.get("disabled")){var t=n(this).parent().data("data");i.trigger("unselect",{originalEvent:e,data:t})}})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(e,t){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(e,t))},r.prototype.selectionContainer=function(){return n('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},r.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],i=0;i<e.length;i++){var n=e[i],r=this.selectionContainer(),a=this.display(n,r);r.append(a),r.prop("title",n.title||n.text),r.data("data",n),t.push(r)}var o=this.$selection.find(".select2-selection__rendered");s.appendMany(o,t)}},r}),e.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),e.call(this,t,i)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var i=this.selectionContainer();return i.html(this.display(t)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},t.prototype.update=function(e,t){var i=1==t.length&&t[0].id!=this.placeholder.id;if(1<t.length||i)return e.call(this,t);this.clear();var n=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(n)},t}),e.define("select2/selection/allowClear",["jquery","../keys"],function(n,r){function e(){}return e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){n._handleClear(e)}),t.on("keypress",function(e){n._handleKeyboardClear(e,t)})},e.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){t.stopPropagation();for(var n=i.data("data"),r=0;r<n.length;r++){var a={data:n[r]};if(this.trigger("unselect",a),a.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},e.prototype._handleKeyboardClear=function(e,t,i){i.isOpen()||(t.which==r.DELETE||t.which==r.BACKSPACE)&&this._handleClear(t)},e.prototype.update=function(e,t){if(e.call(this,t),!(0<this.$selection.find(".select2-selection__placeholder").length||0===t.length)){var i=n('<span class="select2-selection__clear">&times;</span>');i.data("data",t),this.$selection.find(".select2-selection__rendered").prepend(i)}},e}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(n,e,o){function t(e,t,i){e.call(this,t,i)}return t.prototype.render=function(e){var t=n('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=t,this.$search=t.find("input");var i=e.call(this);return this._transferTabIndex(),i},t.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("open",function(){n.$search.trigger("focus")}),t.on("close",function(){n.$search.val(""),n.$search.removeAttr("aria-activedescendant"),n.$search.trigger("focus")}),t.on("enable",function(){n.$search.prop("disabled",!1),n._transferTabIndex()}),t.on("disable",function(){n.$search.prop("disabled",!0)}),t.on("focus",function(e){n.$search.trigger("focus")}),t.on("results:focus",function(e){n.$search.attr("aria-activedescendant",e.id)}),this.$selection.on("focusin",".select2-search--inline",function(e){n.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){n._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){if(e.stopPropagation(),n.trigger("keypress",e),n._keyUpPrevented=e.isDefaultPrevented(),e.which===o.BACKSPACE&&""===n.$search.val()){var t=n.$searchContainer.prev(".select2-selection__choice");if(0<t.length){var i=t.data("data");n.searchRemoveChoice(i),e.preventDefault()}}});var r=document.documentMode,a=r&&r<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){return a?void n.$selection.off("input.search input.searchcheck"):void n.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(a&&"input"===e.type)n.$selection.off("input.search input.searchcheck");else{var t=e.which;t!=o.SHIFT&&t!=o.CTRL&&t!=o.ALT&&t!=o.TAB&&n.handleSearch(e)}})},t.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},t.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},t.prototype.update=function(e,t){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),i&&this.$search.focus()},t.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},t.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},t.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";""!==this.$search.attr("placeholder")?e=this.$selection.find(".select2-selection__rendered").innerWidth():e=.75*(this.$search.val().length+1)+"em";this.$search.css("width",e)},t}),e.define("select2/selection/eventRelay",["jquery"],function(o){function e(){}return e.prototype.bind=function(e,t,i){var n=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting"],a=["opening","closing","selecting","unselecting"];e.call(this,t,i),t.on("*",function(e,t){if(-1!==o.inArray(e,r)){t=t||{};var i=o.Event("select2:"+e,{params:t});n.$element.trigger(i),-1!==o.inArray(e,a)&&(t.prevented=i.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,i){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(e){if(!(e in n._cache)){var t=i(e);n._cache[e]=t}return new n(n._cache[e])},n}),e.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"}}),e.define("select2/data/base",["../utils"],function(n){function i(e,t){i.__super__.constructor.call(this)}return n.Extend(i,n.Observable),i.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},i.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},i.prototype.bind=function(e,t){},i.prototype.destroy=function(){},i.prototype.generateResultId=function(e,t){var i=e.id+"-result-";return(i+=n.generateChars(4))+(null!=t.id?"-"+t.id.toString():"-"+n.generateChars(4))},i}),e.define("select2/data/select",["./base","../utils","jquery"],function(e,t,s){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,e),i.prototype.current=function(e){var i=[],n=this;this.$element.find(":selected").each(function(){var e=s(this),t=n.item(e);i.push(t)}),e(i)},i.prototype.select=function(r){var a=this;if(r.selected=!0,s(r.element).is("option"))return r.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(e){var t=[];(r=[r]).push.apply(r,e);for(var i=0;i<r.length;i++){var n=r[i].id;-1===s.inArray(n,t)&&t.push(n)}a.$element.val(t),a.$element.trigger("change")});else{var e=r.id;this.$element.val(e),this.$element.trigger("change")}},i.prototype.unselect=function(r){var a=this;if(this.$element.prop("multiple"))return r.selected=!1,s(r.element).is("option")?(r.element.selected=!1,void this.$element.trigger("change")):void this.current(function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i].id;n!==r.id&&-1===s.inArray(n,t)&&t.push(n)}a.$element.val(t),a.$element.trigger("change")})},i.prototype.bind=function(e,t){var i=this;(this.container=e).on("select",function(e){i.select(e.data)}),e.on("unselect",function(e){i.unselect(e.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){s.removeData(this,"data")})},i.prototype.query=function(n,e){var r=[],a=this;this.$element.children().each(function(){var e=s(this);if(e.is("option")||e.is("optgroup")){var t=a.item(e),i=a.matches(n,t);null!==i&&r.push(i)}}),e({results:r})},i.prototype.addOptions=function(e){t.appendMany(this.$element,e)},i.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup")).label=e.text:void 0!==(t=document.createElement("option")).textContent?t.textContent=e.text:t.innerText=e.text,e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var i=s(t),n=this._normalizeItem(e);return n.element=t,s.data(t,"data",n),i},i.prototype.item=function(e){var t={};if(null!=(t=s.data(e[0],"data")))return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var i=e.children("option"),n=[],r=0;r<i.length;r++){var a=s(i[r]),o=this.item(a);n.push(o)}t.children=n}return(t=this._normalizeItem(t)).element=e[0],s.data(e[0],"data",t),t},i.prototype._normalizeItem=function(e){s.isPlainObject(e)||(e={id:e,text:e});return null!=(e=s.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),s.extend({},{selected:!1,disabled:!1},e)},i.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},i}),e.define("select2/data/array",["./select","../utils","jquery"],function(e,f,m){function n(e,t){var i=t.get("data")||[];n.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(i))}return f.Extend(n,e),n.prototype.select=function(i){var e=this.$element.find("option").filter(function(e,t){return t.value==i.id.toString()});0===e.length&&(e=this.option(i),this.addOptions(e)),n.__super__.select.call(this,i)},n.prototype.convertToOptions=function(e){function t(e){return function(){return m(this).val()==e.id}}for(var i=this,n=this.$element.find("option"),r=n.map(function(){return i.item(m(this)).id}).get(),a=[],o=0;o<e.length;o++){var s=this._normalizeItem(e[o]);if(0<=m.inArray(s.id,r)){var l=n.filter(t(s)),u=this.item(l),c=m.extend(!0,{},s,u),d=this.option(c);l.replaceWith(d)}else{var h=this.option(s);if(s.children){var p=this.convertToOptions(s.children);f.appendMany(h,p)}a.push(h)}}return a},n}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,a){function i(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,e,t)}return t.Extend(i,e),i.prototype._applyDefaults=function(e){var t={data:function(e){return a.extend({},e,{q:e.term})},transport:function(e,t,i){var n=a.ajax(e);return n.then(t),n.fail(i),n}};return a.extend({},t,e,!0)},i.prototype.processResults=function(e){return e},i.prototype.query=function(i,n){function e(){var e=t.transport(t,function(e){var t=r.processResults(e,i);r.options.get("debug")&&window.console&&console.error&&(t&&t.results&&a.isArray(t.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),n(t)},function(){r.trigger("results:message",{message:"errorLoading"})});r._request=e}var r=this;null!=this._request&&(a.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var t=a.extend({type:"GET"},this.ajaxOptions);"function"==typeof t.url&&(t.url=t.url.call(this.$element,i)),"function"==typeof t.data&&(t.data=t.data.call(this.$element,i)),this.ajaxOptions.delay&&""!==i.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(e,this.ajaxOptions.delay)):e()},i}),e.define("select2/data/tags",["jquery"],function(c){function e(e,t,i){var n=i.get("tags"),r=i.get("createTag");void 0!==r&&(this.createTag=r);var a=i.get("insertTag");if(void 0!==a&&(this.insertTag=a),e.call(this,t,i),c.isArray(n))for(var o=0;o<n.length;o++){var s=n[o],l=this._normalizeItem(s),u=this.option(l);this.$element.append(u)}}return e.prototype.query=function(e,u,c){var d=this;return this._removeOldTags(),null==u.term||null!=u.page?void e.call(this,u,c):void e.call(this,u,function e(t,i){for(var n=t.results,r=0;r<n.length;r++){var a=n[r],o=null!=a.children&&!e({results:a.children},!0);if(a.text===u.term||o)return!i&&(t.data=n,void c(t))}if(i)return!0;var s=d.createTag(u);if(null!=s){var l=d.option(s);l.attr("data-select2-tag",!0),d.addOptions([l]),d.insertTag(n,s)}t.results=n,c(t)})},e.prototype.createTag=function(e,t){var i=c.trim(t.term);return""===i?null:{id:i,text:i}},e.prototype.insertTag=function(e,t,i){t.unshift(i)},e.prototype._removeOldTags=function(e){(this._lastTag,this.$element.find("option[data-select2-tag]")).each(function(){this.selected||c(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(d){function e(e,t,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),e.call(this,t,i)}return e.prototype.bind=function(e,t,i){e.call(this,t,i),this.$search=t.dropdown.$search||t.selection.$search||i.find(".select2-search__field")},e.prototype.query=function(e,t,i){var n=this;t.term=t.term||"";var r=this.tokenizer(t,this.options,function(e){n.trigger("select",{data:e})});r.term!==t.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.focus()),t.term=r.term),e.call(this,t,i)},e.prototype.tokenizer=function(e,t,i,n){for(var r=i.get("tokenSeparators")||[],a=t.term,o=0,s=this.createTag||function(e){return{id:e.term,text:e.term}};o<a.length;){var l=a[o];if(-1!==d.inArray(l,r)){var u=a.substr(0,o),c=s(d.extend({},t,{term:u}));null!=c?(n(c),a=a.substr(o+1)||"",o=0):o++}else o++}return{term:a}},e}),e.define("select2/data/minimumInputLength",[],function(){function e(e,t,i){this.minimumInputLength=i.get("minimumInputLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){return t.term=t.term||"",t.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):void e.call(this,t,i)},e}),e.define("select2/data/maximumInputLength",[],function(){function e(e,t,i){this.maximumInputLength=i.get("maximumInputLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){return t.term=t.term||"",0<this.maximumInputLength&&t.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):void e.call(this,t,i)},e}),e.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),e.call(this,t,i)}return e.prototype.query=function(i,n,r){var a=this;this.current(function(e){var t=null!=e?e.length:0;return 0<a.maximumSelectionLength&&t>=a.maximumSelectionLength?void a.trigger("results:message",{message:"maximumSelected",args:{maximum:a.maximumSelectionLength}}):void i.call(a,n,r)})},e}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e},i.prototype.bind=function(){},i.prototype.position=function(e,t){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),e.define("select2/dropdown/search",["jquery","../utils"],function(r,e){function t(){}return t.prototype.render=function(e){var t=e.call(this),i=r('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),t.prepend(i),t},t.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),this.$search.on("keydown",function(e){n.trigger("keypress",e),n._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(e){r(this).off("keyup")}),this.$search.on("keyup input",function(e){n.handleSearch(e)}),t.on("open",function(){n.$search.attr("tabindex",0),n.$search.focus(),window.setTimeout(function(){n.$search.focus()},0)}),t.on("close",function(){n.$search.attr("tabindex",-1),n.$search.val("")}),t.on("results:all",function(e){null!=e.query.term&&""!==e.query.term||(n.showSearch(e)?n.$searchContainer.removeClass("select2-search--hide"):n.$searchContainer.addClass("select2-search--hide"))})},t.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},t.prototype.showSearch=function(e,t){return!0},t}),e.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),e.call(this,t,i,n)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var i=t.slice(0),n=t.length-1;0<=n;n--){var r=t[n];this.placeholder.id===r.id&&i.splice(n,1)}return i},e}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(r){function e(e,t,i,n){this.lastParams={},e.call(this,t,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("query",function(e){n.lastParams=e,n.loading=!0}),t.on("query:append",function(e){n.lastParams=e,n.loading=!0}),this.$results.on("scroll",function(){var e=r.contains(document.documentElement,n.$loadingMore[0]);if(!n.loading&&e){var t=n.$results.offset().top+n.$results.outerHeight(!1);n.$loadingMore.offset().top+n.$loadingMore.outerHeight(!1)<=t+50&&n.loadMore()}})},e.prototype.loadMore=function(){this.loading=!0;var e=r.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},e.prototype.createLoadingMore=function(){var e=r('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),t=this.options.get("translations").get("loadingMore");return e.html(t(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(f,s){function e(e,t,i){this.$dropdownParent=i.get("dropdownParent")||f(document.body),e.call(this,t,i)}return e.prototype.bind=function(e,t,i){var n=this,r=!1;e.call(this,t,i),t.on("open",function(){n._showDropdown(),n._attachPositioningHandler(t),r||(r=!0,t.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}))}),t.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},e.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},e.prototype.position=function(e,t,i){t.attr("class",i.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=i},e.prototype.render=function(e){var t=f("<span></span>"),i=e.call(this);return t.append(i),this.$dropdownContainer=t},e.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},e.prototype._attachPositioningHandler=function(e,t){var i=this,n="scroll.select2."+t.id,r="resize.select2."+t.id,a="orientationchange.select2."+t.id,o=this.$container.parents().filter(s.hasScroll);o.each(function(){f(this).data("select2-scroll-position",{x:f(this).scrollLeft(),y:f(this).scrollTop()})}),o.on(n,function(e){var t=f(this).data("select2-scroll-position");f(this).scrollTop(t.y)}),f(window).on(n+" "+r+" "+a,function(e){i._positionDropdown(),i._resizeDropdown()})},e.prototype._detachPositioningHandler=function(e,t){var i="scroll.select2."+t.id,n="resize.select2."+t.id,r="orientationchange.select2."+t.id;this.$container.parents().filter(s.hasScroll).off(i),f(window).off(i+" "+n+" "+r)},e.prototype._positionDropdown=function(){var e=f(window),t=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),n=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=r.top,a.bottom=r.top+a.height;var o=this.$dropdown.outerHeight(!1),s=e.scrollTop(),l=e.scrollTop()+e.height(),u=s<r.top-o,c=l>r.bottom+o,d={left:r.left,top:a.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var p=h.offset();d.top-=p.top,d.left-=p.left,t||i||(n="below"),c||!u||t?!u&&c&&t&&(n="below"):n="above",("above"==n||t&&"below"!==n)&&(d.top=a.top-o),null!=n&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+n),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+n)),this.$dropdownContainer.css(d)},e.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.width="auto"),this.$dropdown.css(e)},e.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},e}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(e,t,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,i,n)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var i=0,n=0;n<t.length;n++){var r=t[n];r.children?i+=e(r.children):i++}return i}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function e(){}return e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("close",function(){n._handleSelectOnClose()})},e.prototype._handleSelectOnClose=function(){var e=this.getHighlightedResults();if(!(e.length<1)){var t=e.data("data");null!=t.element&&t.element.selected||null==t.element&&t.selected||this.trigger("select",{data:t})}},e}),e.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("select",function(e){n._selectTriggered(e)}),t.on("unselect",function(e){n._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var i=t.originalEvent;i&&i.ctrlKey||this.trigger("close",{})},e}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,i="Please delete "+t+" character";return 1!=t&&(i+="s"),i},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(f,m,g,v,y,b,w,_,x,j,C,t,k,S,Q,D,$,T,A,O,M,E,I,P,L,R,H,B,e){function i(){this.reset()}return i.prototype.apply=function(t){if(null==(t=f.extend(!0,{},this.defaults,t)).dataAdapter){if(null!=t.ajax?t.dataAdapter=Q:null!=t.data?t.dataAdapter=S:t.dataAdapter=k,0<t.minimumInputLength&&(t.dataAdapter=j.Decorate(t.dataAdapter,T)),0<t.maximumInputLength&&(t.dataAdapter=j.Decorate(t.dataAdapter,A)),0<t.maximumSelectionLength&&(t.dataAdapter=j.Decorate(t.dataAdapter,O)),t.tags&&(t.dataAdapter=j.Decorate(t.dataAdapter,D)),(null!=t.tokenSeparators||null!=t.tokenizer)&&(t.dataAdapter=j.Decorate(t.dataAdapter,$)),null!=t.query){var e=m(t.amdBase+"compat/query");t.dataAdapter=j.Decorate(t.dataAdapter,e)}if(null!=t.initSelection){var i=m(t.amdBase+"compat/initSelection");t.dataAdapter=j.Decorate(t.dataAdapter,i)}}if(null==t.resultsAdapter&&(t.resultsAdapter=g,null!=t.ajax&&(t.resultsAdapter=j.Decorate(t.resultsAdapter,P)),null!=t.placeholder&&(t.resultsAdapter=j.Decorate(t.resultsAdapter,I)),t.selectOnClose&&(t.resultsAdapter=j.Decorate(t.resultsAdapter,H))),null==t.dropdownAdapter){if(t.multiple)t.dropdownAdapter=M;else{var n=j.Decorate(M,E);t.dropdownAdapter=n}if(0!==t.minimumResultsForSearch&&(t.dropdownAdapter=j.Decorate(t.dropdownAdapter,R)),t.closeOnSelect&&(t.dropdownAdapter=j.Decorate(t.dropdownAdapter,B)),null!=t.dropdownCssClass||null!=t.dropdownCss||null!=t.adaptDropdownCssClass){var r=m(t.amdBase+"compat/dropdownCss");t.dropdownAdapter=j.Decorate(t.dropdownAdapter,r)}t.dropdownAdapter=j.Decorate(t.dropdownAdapter,L)}if(null==t.selectionAdapter){if(t.multiple?t.selectionAdapter=y:t.selectionAdapter=v,null!=t.placeholder&&(t.selectionAdapter=j.Decorate(t.selectionAdapter,b)),t.allowClear&&(t.selectionAdapter=j.Decorate(t.selectionAdapter,w)),t.multiple&&(t.selectionAdapter=j.Decorate(t.selectionAdapter,_)),null!=t.containerCssClass||null!=t.containerCss||null!=t.adaptContainerCssClass){var a=m(t.amdBase+"compat/containerCss");t.selectionAdapter=j.Decorate(t.selectionAdapter,a)}t.selectionAdapter=j.Decorate(t.selectionAdapter,x)}if("string"==typeof t.language)if(0<t.language.indexOf("-")){var o=t.language.split("-")[0];t.language=[t.language,o]}else t.language=[t.language];if(f.isArray(t.language)){var s=new C;t.language.push("en");for(var l=t.language,u=0;u<l.length;u++){var c=l[u],d={};try{d=C.loadPath(c)}catch(e){try{c=this.defaults.amdLanguageBase+c,d=C.loadPath(c)}catch(e){t.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+c+'" could not be automatically loaded. A fallback will be used instead.');continue}}s.extend(d)}t.translations=s}else{var h=C.loadPath(this.defaults.amdLanguageBase+"en"),p=new C(t.language);p.extend(h),t.translations=p}return t},i.prototype.reset=function(){function s(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return t[e]||e})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:j.escapeMarkup,language:e,matcher:function e(t,i){if(""===f.trim(t.term))return i;if(i.children&&0<i.children.length){for(var n=f.extend(!0,{},i),r=i.children.length-1;0<=r;r--)null==e(t,i.children[r])&&n.children.splice(r,1);return 0<n.children.length?n:e(t,n)}var a=s(i.text).toUpperCase(),o=s(t.term).toUpperCase();return-1<a.indexOf(o)?i:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},i.prototype.set=function(e,t){var i={};i[f.camelCase(e)]=t;var n=j._convertData(i);f.extend(this.defaults,n)},new i}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(n,a,r,o){function e(e,t){if(this.options=e,null!=t&&this.fromElement(t),this.options=r.apply(this.options),t&&t.is("input")){var i=n(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=o.Decorate(this.options.dataAdapter,i)}}return e.prototype.fromElement=function(e){var t=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),e.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),e.data("data",e.data("select2Tags")),e.data("tags",!0)),e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",e.data("ajaxUrl")),e.data("ajax--url",e.data("ajaxUrl")));var i;i=a.fn.jquery&&"1."==a.fn.jquery.substr(0,2)&&e[0].dataset?a.extend(!0,{},e[0].dataset,e.data()):e.data();var n=a.extend(!0,{},i);for(var r in n=o._convertData(n))-1<a.inArray(r,t)||(a.isPlainObject(this.options[r])?a.extend(this.options[r],n[r]):this.options[r]=n[r]);return this},e.prototype.get=function(e){return this.options[e]},e.prototype.set=function(e,t){this.options[e]=t},e}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(r,u,i,n){var c=function(e,t){null!=e.data("select2")&&e.data("select2").destroy(),this.$element=e,this.id=this._generateId(e),t=t||{},this.options=new u(t,e),c.__super__.constructor.call(this);var i=e.attr("tabindex")||0;e.data("old-tabindex",i),e.attr("tabindex","-1");var n=this.options.get("dataAdapter");this.dataAdapter=new n(e,this.options);var r=this.render();this._placeContainer(r);var a=this.options.get("selectionAdapter");this.selection=new a(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,r);var o=this.options.get("dropdownAdapter");this.dropdown=new o(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,r);var s=this.options.get("resultsAdapter");this.results=new s(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){l.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),e.data("select2",this)};return i.Extend(c,i.Observable),c.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+i.generateChars(2):i.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},c.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},c.prototype._resolveWidth=function(e,t){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var n=this._resolveWidth(e,"style");return null!=n?n:this._resolveWidth(e,"element")}if("element"==t){var r=e.outerWidth(!1);return r<=0?"auto":r+"px"}if("style"==t){var a=e.attr("style");if("string"!=typeof a)return null;for(var o=a.split(";"),s=0,l=o.length;s<l;s+=1){var u=o[s].replace(/\s/g,"").match(i);if(null!==u&&1<=u.length)return u[1]}return null}return t},c.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},c.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this._sync=i.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=e?(this._observer=new e(function(e){r.each(e,t._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",t._sync,!1)},c.prototype._registerDataEvents=function(){var i=this;this.dataAdapter.on("*",function(e,t){i.trigger(e,t)})},c.prototype._registerSelectionEvents=function(){var i=this,n=["toggle","focus"];this.selection.on("toggle",function(){i.toggleDropdown()}),this.selection.on("focus",function(e){i.focus(e)}),this.selection.on("*",function(e,t){-1===r.inArray(e,n)&&i.trigger(e,t)})},c.prototype._registerDropdownEvents=function(){var i=this;this.dropdown.on("*",function(e,t){i.trigger(e,t)})},c.prototype._registerResultsEvents=function(){var i=this;this.results.on("*",function(e,t){i.trigger(e,t)})},c.prototype._registerEvents=function(){var i=this;this.on("open",function(){i.$container.addClass("select2-container--open")}),this.on("close",function(){i.$container.removeClass("select2-container--open")}),this.on("enable",function(){i.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){i.$container.addClass("select2-container--disabled")}),this.on("blur",function(){i.$container.removeClass("select2-container--focus")}),this.on("query",function(t){i.isOpen()||i.trigger("open",{}),this.dataAdapter.query(t,function(e){i.trigger("results:all",{data:e,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(e){i.trigger("results:append",{data:e,query:t})})}),this.on("keypress",function(e){var t=e.which;i.isOpen()?t===n.ESC||t===n.TAB||t===n.UP&&e.altKey?(i.close(),e.preventDefault()):t===n.ENTER?(i.trigger("results:select",{}),e.preventDefault()):t===n.SPACE&&e.ctrlKey?(i.trigger("results:toggle",{}),e.preventDefault()):t===n.UP?(i.trigger("results:previous",{}),e.preventDefault()):t===n.DOWN&&(i.trigger("results:next",{}),e.preventDefault()):(t===n.ENTER||t===n.SPACE||t===n.DOWN&&e.altKey)&&(i.open(),e.preventDefault())})},c.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},c.prototype.trigger=function(e,t){var i=c.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===t&&(t={}),e in n){var r=n[e],a={prevented:!1,name:e,args:t};if(i.call(this,r,a),a.prevented)return void(t.prevented=!0)}i.call(this,e,t)},c.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},c.prototype.open=function(){this.isOpen()||this.trigger("query",{})},c.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},c.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},c.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},c.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},c.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==e||0===e.length)&&(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},c.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},c.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var t=e[0];r.isArray(t)&&(t=r.map(t,function(e){return e.toString()})),this.$element.val(t).trigger("change")},c.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},c.prototype.render=function(){var e=r('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},c}),e.define("select2/compat/utils",["jquery"],function(o){return{syncCssClasses:function(e,t,i){var n,r,a=[];(n=o.trim(e.attr("class")))&&o((n=""+n).split(/\s+/)).each(function(){0===this.indexOf("select2-")&&a.push(this)}),(n=o.trim(t.attr("class")))&&o((n=""+n).split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(r=i(this))&&a.push(r)}),e.attr("class",a.join(" "))}}}),e.define("select2/compat/containerCss",["jquery","./utils"],function(o,s){function l(e){return null}function e(){}return e.prototype.render=function(e){var t=e.call(this),i=this.options.get("containerCssClass")||"";o.isFunction(i)&&(i=i(this.$element));var n=this.options.get("adaptContainerCssClass");if(n=n||l,-1!==i.indexOf(":all:")){i=i.replace(":all:","");var r=n;n=function(e){var t=r(e);return null!=t?t+" "+e:e}}var a=this.options.get("containerCss")||{};return o.isFunction(a)&&(a=a(this.$element)),s.syncCssClasses(t,this.$element,n),t.css(a),t.addClass(i),t},e}),e.define("select2/compat/dropdownCss",["jquery","./utils"],function(o,s){function l(e){return null}function e(){}return e.prototype.render=function(e){var t=e.call(this),i=this.options.get("dropdownCssClass")||"";o.isFunction(i)&&(i=i(this.$element));var n=this.options.get("adaptDropdownCssClass");if(n=n||l,-1!==i.indexOf(":all:")){i=i.replace(":all:","");var r=n;n=function(e){var t=r(e);return null!=t?t+" "+e:e}}var a=this.options.get("dropdownCss")||{};return o.isFunction(a)&&(a=a(this.$element)),s.syncCssClasses(t,this.$element,n),t.css(a),t.addClass(i),t},e}),e.define("select2/compat/initSelection",["jquery"],function(n){function e(e,t,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=i.get("initSelection"),this._isInitialized=!1,e.call(this,t,i)}return e.prototype.current=function(e,t){var i=this;return this._isInitialized?void e.call(this,t):void this.initSelection.call(null,this.$element,function(e){i._isInitialized=!0,n.isArray(e)||(e=[e]),t(e)})},e}),e.define("select2/compat/inputData",["jquery"],function(o){function e(e,t,i){this._currentData=[],this._valueSeparator=i.get("valueSeparator")||",","hidden"===t.prop("type")&&i.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),e.call(this,t,i)}return e.prototype.current=function(e,t){function n(e,t){var i=[];return e.selected||-1!==o.inArray(e.id,t)?(e.selected=!0,i.push(e)):e.selected=!1,e.children&&i.push.apply(i,n(e.children,t)),i}for(var i=[],r=0;r<this._currentData.length;r++){var a=this._currentData[r];i.push.apply(i,n(a,this.$element.val().split(this._valueSeparator)))}t(i)},e.prototype.select=function(e,t){if(this.options.get("multiple")){var i=this.$element.val();i+=this._valueSeparator+t.id,this.$element.val(i),this.$element.trigger("change")}else this.current(function(e){o.map(e,function(e){e.selected=!1})}),this.$element.val(t.id),this.$element.trigger("change")},e.prototype.unselect=function(e,r){var a=this;r.selected=!1,this.current(function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];r.id!=n.id&&t.push(n.id)}a.$element.val(t.join(a._valueSeparator)),a.$element.trigger("change")})},e.prototype.query=function(e,t,i){for(var n=[],r=0;r<this._currentData.length;r++){var a=this._currentData[r],o=this.matches(t,a);null!==o&&n.push(o)}i({results:n})},e.prototype.addOptions=function(e,t){var i=o.map(t,function(e){return o.data(e[0],"data")});this._currentData.push.apply(this._currentData,i)},e}),e.define("select2/compat/matcher",["jquery"],function(o){return function(a){return function(e,t){var i=o.extend(!0,{},t);if(null==e.term||""===o.trim(e.term))return i;if(t.children){for(var n=t.children.length-1;0<=n;n--){var r=t.children[n];a(e.term,r.text,r)||i.children.splice(n,1)}if(0<i.children.length)return i}return a(e.term,t.text,t)?i:null}}}),e.define("select2/compat/query",[],function(){function e(e,t,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),e.call(this,t,i)}return e.prototype.query=function(e,t,i){t.callback=i,this.options.get("query").call(null,t)},e}),e.define("select2/dropdown/attachContainer",[],function(){function e(e,t,i){e.call(this,t,i)}return e.prototype.position=function(e,t,i){i.find(".dropdown-wrapper").append(t),t.addClass("select2-dropdown--below"),i.addClass("select2-container--below")},e}),e.define("select2/dropdown/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,i){e.call(this,t,i);this.$dropdown.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(e){e.stopPropagation()})},e}),e.define("select2/selection/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,i){e.call(this,t,i);this.$selection.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(e){e.stopPropagation()})},e}),t=function(h){function t(e){var t=e||window.event,i=v.call(arguments,1),n=0,r=0,a=0,o=0,s=0,l=0;if((e=h.event.fix(t)).type="mousewheel","detail"in t&&(a=-1*t.detail),"wheelDelta"in t&&(a=t.wheelDelta),"wheelDeltaY"in t&&(a=t.wheelDeltaY),"wheelDeltaX"in t&&(r=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(r=-1*a,a=0),n=0===a?r:a,"deltaY"in t&&(n=a=-1*t.deltaY),"deltaX"in t&&(r=t.deltaX,0===a&&(n=-1*r)),0!==a||0!==r){if(1===t.deltaMode){var u=h.data(this,"mousewheel-line-height");n*=u,a*=u,r*=u}else if(2===t.deltaMode){var c=h.data(this,"mousewheel-page-height");n*=c,a*=c,r*=c}if(o=Math.max(Math.abs(a),Math.abs(r)),(!g||o<g)&&(f(t,g=o)&&(g/=40)),f(t,o)&&(n/=40,r/=40,a/=40),n=Math[1<=n?"floor":"ceil"](n/g),r=Math[1<=r?"floor":"ceil"](r/g),a=Math[1<=a?"floor":"ceil"](a/g),y.settings.normalizeOffset&&this.getBoundingClientRect){var d=this.getBoundingClientRect();s=e.clientX-d.left,l=e.clientY-d.top}return e.deltaX=r,e.deltaY=a,e.deltaFactor=g,e.offsetX=s,e.offsetY=l,e.deltaMode=0,i.unshift(e,n,r,a),m&&clearTimeout(m),m=setTimeout(p,200),(h.event.dispatch||h.event.handle).apply(this,i)}}function p(){g=null}function f(e,t){return y.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var m,g,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],v=Array.prototype.slice;if(h.event.fixHooks)for(var n=e.length;n;)h.event.fixHooks[e[--n]]=h.event.mouseHooks;var y=h.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],t,!1);else this.onmousewheel=t;h.data(this,"mousewheel-line-height",y.getLineHeight(this)),h.data(this,"mousewheel-page-height",y.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],t,!1);else this.onmousewheel=null;h.removeData(this,"mousewheel-line-height"),h.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var t=h(e),i=t["offsetParent"in h.fn?"offsetParent":"parent"]();return i.length||(i=h("body")),parseInt(i.css("fontSize"),10)||parseInt(t.css("fontSize"),10)||16},getPageHeight:function(e){return h(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};h.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})},"function"==typeof e.define&&e.define.amd?e.define("jquery-mousewheel",["jquery"],t):"object"==typeof exports?module.exports=t:t(i),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(r,e,t,i){if(null==r.fn.select2){var a=["open","close","destroy"];r.fn.select2=function(i){if("object"==typeof(i=i||{}))return this.each(function(){var e=r.extend(!0,{},i);new t(r(this),e)}),this;var n;if("string"==typeof i)return this.each(function(){var e=r(this).data("select2");null==e&&window.console&&console.error&&console.error("The select2('"+i+"') method was called on an element that is not using Select2.");var t=Array.prototype.slice.call(arguments,1);n=e[i].apply(e,t)}),-1<r.inArray(i,a)?this:n;throw new Error("Invalid arguments for Select2: "+i)}}return null==r.fn.select2.defaults&&(r.fn.select2.defaults=i),t}),{define:e.define,require:e.require}}(),t=e.require("jquery.select2");return i.fn.select2.amd=e,t}),jQuery(document).ready(function(){jQuery(document).on("click",".um-popup-overlay",function(){remove_Modal()}),jQuery(document).on("click",'.um-modal-overlay, a[data-action="um_remove_modal"]',function(){um_remove_modal()}),jQuery(document).on("click",'a[data-modal^="um_"], span[data-modal^="um_"], .um-modal a',function(e){return e.preventDefault(),!1}),jQuery(document).on("click",".um-modal .um-single-file-preview a.cancel",function(e){e.preventDefault();var t=jQuery(this).parents(".um-modal-body"),i=jQuery(this).parents(".um-modal-body").find(".um-single-fileinfo a").attr("href");return t.find(".um-single-file-preview").hide(),t.find(".ajax-upload-dragdrop").show(),t.find(".um-modal-btn.um-finish-upload").addClass("disabled"),um_modal_responsive(),jQuery.ajax({url:um_scripts.ajaxurl,type:"post",data:{action:"ultimatemember_remove_file",src:i}}),!1}),jQuery(document).on("click",".um-modal .um-single-image-preview a.cancel",function(e){e.preventDefault();var t=jQuery(this).parents(".um-modal-body"),i=jQuery(this).parents(".um-modal-body").find(".um-single-image-preview img").attr("src");return jQuery("img.cropper-hidden").cropper("destroy"),t.find(".um-single-image-preview img").attr("src",""),t.find(".um-single-image-preview").hide(),t.find(".ajax-upload-dragdrop").show(),t.find(".um-modal-btn.um-finish-upload").addClass("disabled"),um_modal_responsive(),jQuery.ajax({url:um_scripts.ajaxurl,type:"post",data:{action:"ultimatemember_remove_file",src:i}}),!1}),jQuery(document).on("click",".um-finish-upload.file",function(){var e=jQuery(this).attr("data-key"),t=jQuery(this).parents(".um-modal-body").find(".um-single-file-preview").html();um_remove_modal(),jQuery(".um-single-file-preview[data-key="+e+"]").fadeIn().html(t);var i=jQuery(".um-field[data-key="+e+"]").find(".um-single-fileinfo a").data("file");jQuery(".um-single-file-preview[data-key="+e+"]").parents(".um-field").find(".um-btn-auto-width").html(jQuery(this).attr("data-change")),jQuery(".um-single-file-preview[data-key="+e+"]").parents(".um-field").find('input[type="hidden"]').val(i)}),jQuery(document).on("click",".um-finish-upload.image",function(){var t=jQuery(this),i=jQuery(this).attr("data-key"),e=jQuery(this).parents(".um-modal-body").find(".um-single-image-preview"),n=e.find("img").attr("src"),r=e.attr("data-coord"),a=e.find("img").data("file"),o=0;if(jQuery(this).parents("#um_upload_single").data("user_id")&&(o=jQuery(this).parents("#um_upload_single").data("user_id")),jQuery(this).parents("#um_upload_single").attr("data-user_id"))o=jQuery(this).parents("#um_upload_single").attr("data-user_id");else o=0;r?(jQuery(this).html(jQuery(this).attr("data-processing")).addClass("disabled"),jQuery.ajax({url:wp.ajax.settings.url,type:"POST",dataType:"json",data:{action:"ultimatemember_resize_image",src:n,coord:r,user_id:o,key:i},success:function(e){1==e.success&&(d=new Date,"profile_photo"==i?jQuery(".um-profile-photo-img img").attr("src",e.data.image.source_url+"?"+d.getTime()):"cover_photo"==i&&(jQuery(".um-cover-e").empty().html('<img src="'+e.data.image.source_url+"?"+d.getTime()+'" alt="" />'),jQuery(".um").hasClass("um-editing")&&jQuery(".um-cover-overlay").show()),jQuery(".um-single-image-preview[data-key="+i+"]").fadeIn().find("img").attr("src",e.data.image.source_url+"?"+d.getTime()),um_remove_modal(),jQuery(".um-single-image-preview[data-key="+i+"]").parents(".um-field").find(".um-btn-auto-width").html(t.attr("data-change")),jQuery(".um-single-image-preview[data-key="+i+"]").parents(".um-field").find('input[type="hidden"]').val(e.data.image.filename))}})):(d=new Date,jQuery(".um-single-image-preview[data-key="+i+"]").fadeIn().find("img").attr("src",n+"?"+d.getTime()),um_remove_modal(),jQuery(".um-single-image-preview[data-key="+i+"]").parents(".um-field").find(".um-btn-auto-width").html(t.attr("data-change")),jQuery(".um-single-image-preview[data-key="+i+"]").parents(".um-field").find("input[type=hidden]").val(a))}),jQuery(document).on("click",'a[data-modal^="um_"], span[data-modal^="um_"]',function(e){var t=jQuery(this).attr("data-modal"),i="normal";if(jQuery(this).data("modal-size"))i=jQuery(this).data("modal-size");jQuery(this).data("modal-copy")&&(jQuery("#"+t).html(jQuery(this).parents(".um-field").find(".um-modal-hidden-content").html()),jQuery(this).parents(".um-profile-photo").attr("data-user_id")&&jQuery("#"+t).attr("data-user_id",jQuery(this).parents(".um-profile-photo").attr("data-user_id")),jQuery(this).parents(".um-cover").attr("data-ratio")&&jQuery("#"+t).attr("data-ratio",jQuery(this).parents(".um-cover").attr("data-ratio")),jQuery(this).parents(".um-cover").attr("data-user_id")&&jQuery("#"+t).attr("data-user_id",jQuery(this).parents(".um-cover").attr("data-user_id")),0<jQuery('input[type="hidden"][name="user_id"]').length&&jQuery("#"+t).attr("data-user_id",jQuery('input[type="hidden"][name="user_id"]').val())),um_new_modal(t,i)})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(M){"use strict";var b={};b.fileapi=void 0!==M("<input type='file'/>").get(0).files,b.formdata=void 0!==window.FormData;var E=!!M.fn.prop;function i(e){var t=e.data;e.isDefaultPrevented()||(e.preventDefault(),M(e.target).ajaxSubmit(t))}function n(e){var t=e.target,i=M(t);if(!i.is("[type=submit],[type=image]")){var n=i.closest("[type=submit]");if(0===n.length)return;t=n[0]}var r=this;if("image"==(r.clk=t).type)if(void 0!==e.offsetX)r.clk_x=e.offsetX,r.clk_y=e.offsetY;else if("function"==typeof M.fn.offset){var a=i.offset();r.clk_x=e.pageX-a.left,r.clk_y=e.pageY-a.top}else r.clk_x=e.pageX-t.offsetLeft,r.clk_y=e.pageY-t.offsetTop;setTimeout(function(){r.clk=r.clk_x=r.clk_y=null},100)}function I(){if(M.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}M.fn.attr2=function(){if(!E)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},M.fn.ajaxSubmit=function($){if(!this.length)return I("ajaxSubmit: skipping submit process - no element selected"),this;var T,e,t,A=this;"function"==typeof $?$={success:$}:void 0===$&&($={}),T=$.type||this.attr2("method"),(t=(t="string"==typeof(e=$.url||this.attr2("action"))?M.trim(e):"")||window.location.href||"")&&(t=(t.match(/^([^#]+)/)||[])[1]),$=M.extend(!0,{url:t,success:M.ajaxSettings.success,type:T||M.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},$);var i={};if(this.trigger("form-pre-serialize",[this,$,i]),i.veto)return I("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if($.beforeSerialize&&!1===$.beforeSerialize(this,$))return I("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var n=$.traditional;void 0===n&&(n=M.ajaxSettings.traditional);var r,O=[],a=this.formToArray($.semantic,O);if($.data&&($.extraData=$.data,r=M.param($.data,n)),$.beforeSubmit&&!1===$.beforeSubmit(a,this,$))return I("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[a,this,$,i]),i.veto)return I("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var o=M.param(a,n);r&&(o=o?o+"&"+r:r),"GET"==$.type.toUpperCase()?($.url+=(0<=$.url.indexOf("?")?"&":"?")+o,$.data=null):$.data=o;var s=[];if($.resetForm&&s.push(function(){A.resetForm()}),$.clearForm&&s.push(function(){A.clearForm($.includeHidden)}),!$.dataType&&$.target){var l=$.success||function(){};s.push(function(e){var t=$.replaceTarget?"replaceWith":"html";M($.target)[t](e).each(l,arguments)})}else $.success&&s.push($.success);if($.success=function(e,t,i){for(var n=$.context||this,r=0,a=s.length;r<a;r++)s[r].apply(n,[e,t,i||A,A])},$.error){var u=$.error;$.error=function(e,t,i){var n=$.context||this;u.apply(n,[e,t,i,A])}}if($.complete){var c=$.complete;$.complete=function(e,t){var i=$.context||this;c.apply(i,[e,t,A])}}var d=0<M("input[type=file]:enabled",this).filter(function(){return""!==M(this).val()}).length,h="multipart/form-data",p=A.attr("enctype")==h||A.attr("encoding")==h,f=b.fileapi&&b.formdata;I("fileAPI :"+f);var m,g=(d||p)&&!f;!1!==$.iframe&&($.iframe||g)?$.closeKeepAlive?M.get($.closeKeepAlive,function(){m=y(a)}):m=y(a):m=(d||p)&&f?function(e){for(var i=new FormData,t=0;t<e.length;t++)i.append(e[t].name,e[t].value);if($.extraData){var n=function(e){var t,i,n=M.param(e,$.traditional).split("&"),r=n.length,a=[];for(t=0;t<r;t++)n[t]=n[t].replace(/\+/g," "),i=n[t].split("="),a.push([decodeURIComponent(i[0]),decodeURIComponent(i[1])]);return a}($.extraData);for(t=0;t<n.length;t++)n[t]&&i.append(n[t][0],n[t][1])}$.data=null;var r=M.extend(!0,{},M.ajaxSettings,$,{contentType:!1,processData:!1,cache:!1,type:T||"POST"});$.uploadProgress&&(r.xhr=function(){var e=M.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",function(e){var t=0,i=e.loaded||e.position,n=e.total;e.lengthComputable&&(t=Math.ceil(i/n*100)),$.uploadProgress(e,i,n,t)},!1),e});r.data=null;var a=r.beforeSend;return r.beforeSend=function(e,t){$.formData?t.data=$.formData:t.data=i,a&&a.call(this,e,t)},M.ajax(r)}(a):M.ajax($),A.removeData("jqxhr").data("jqxhr",m);for(var v=0;v<O.length;v++)O[v]=null;return this.trigger("form-submit-notify",[this,$]),this;function y(e){var t,i,c,d,a,h,p,f,n,r,m,g,o=A[0],v=M.Deferred();if(v.abort=function(e){f.abort(e)},e)for(i=0;i<O.length;i++)t=M(O[i]),E?t.prop("disabled",!1):t.removeAttr("disabled");if((c=M.extend(!0,{},M.ajaxSettings,$)).context=c.context||c,a="jqFormIO"+(new Date).getTime(),c.iframeTarget?(r=(h=M(c.iframeTarget)).attr2("name"))?a=r:h.attr2("name",a):(h=M('<iframe name="'+a+'" src="'+c.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),p=h[0],f={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var t="timeout"===e?"timeout":"aborted";I("aborting upload... "+t),this.aborted=1;try{p.contentWindow.document.execCommand&&p.contentWindow.document.execCommand("Stop")}catch(e){}h.attr("src",c.iframeSrc),f.error=t,c.error&&c.error.call(c.context,f,t,e),d&&M.event.trigger("ajaxError",[f,c,t]),c.complete&&c.complete.call(c.context,f,t)}},(d=c.global)&&0==M.active++&&M.event.trigger("ajaxStart"),d&&M.event.trigger("ajaxSend",[f,c]),c.beforeSend&&!1===c.beforeSend.call(c.context,f,c))return c.global&&M.active--,v.reject(),v;if(f.aborted)return v.reject(),v;(n=o.clk)&&(r=n.name)&&!n.disabled&&(c.extraData=c.extraData||{},c.extraData[r]=n.value,"image"==n.type&&(c.extraData[r+".x"]=o.clk_x,c.extraData[r+".y"]=o.clk_y));var y=1,b=2;function w(t){var i=null;try{t.contentWindow&&(i=t.contentWindow.document)}catch(e){I("cannot get iframe.contentWindow document: "+e)}if(i)return i;try{i=t.contentDocument?t.contentDocument:t.document}catch(e){I("cannot get iframe.contentDocument: "+e),i=t.document}return i}var s=M("meta[name=csrf-token]").attr("content"),l=M("meta[name=csrf-param]").attr("content");function u(){var e=A.attr2("target"),t=A.attr2("action"),i=A.attr("enctype")||A.attr("encoding")||"multipart/form-data";o.setAttribute("target",a),T&&!/post/i.test(T)||o.setAttribute("method","POST"),t!=c.url&&o.setAttribute("action",c.url),c.skipEncodingOverride||T&&!/post/i.test(T)||A.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),c.timeout&&(g=setTimeout(function(){m=!0,k(y)},c.timeout));var n=[];try{if(c.extraData)for(var r in c.extraData)c.extraData.hasOwnProperty(r)&&(M.isPlainObject(c.extraData[r])&&c.extraData[r].hasOwnProperty("name")&&c.extraData[r].hasOwnProperty("value")?n.push(M('<input type="hidden" name="'+c.extraData[r].name+'">').val(c.extraData[r].value).appendTo(o)[0]):n.push(M('<input type="hidden" name="'+r+'">').val(c.extraData[r]).appendTo(o)[0]));c.iframeTarget||h.appendTo("body"),p.attachEvent?p.attachEvent("onload",k):p.addEventListener("load",k,!1),setTimeout(function e(){try{var t=w(p).readyState;I("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(e){I("Server abort: ",e," (",e.name,")"),k(b),g&&clearTimeout(g),g=void 0}},15);try{o.submit()}catch(e){document.createElement("form").submit.apply(o)}}finally{o.setAttribute("action",t),o.setAttribute("enctype",i),e?o.setAttribute("target",e):A.removeAttr("target"),M(n).remove()}}l&&s&&(c.extraData=c.extraData||{},c.extraData[l]=s),c.forceSync?u():setTimeout(u,10);var _,x,j,C=50;function k(e){if(!f.aborted&&!j){if((x=w(p))||(I("cannot access response document"),e=b),e===y&&f)return f.abort("timeout"),void v.reject(f,"timeout");if(e==b&&f)return f.abort("server abort"),void v.reject(f,"error","server abort");if(x&&x.location.href!=c.iframeSrc||m){p.detachEvent?p.detachEvent("onload",k):p.removeEventListener("load",k,!1);var t,i="success";try{if(m)throw"timeout";var n="xml"==c.dataType||x.XMLDocument||M.isXMLDoc(x);if(I("isXml="+n),!n&&window.opera&&(null===x.body||!x.body.innerHTML)&&--C)return I("requeing onLoad callback, DOM not available"),void setTimeout(k,250);var r=x.body?x.body:x.documentElement;f.responseText=r?r.innerHTML:null,f.responseXML=x.XMLDocument?x.XMLDocument:x,n&&(c.dataType="xml"),f.getResponseHeader=function(e){return{"content-type":c.dataType}[e.toLowerCase()]},r&&(f.status=Number(r.getAttribute("status"))||f.status,f.statusText=r.getAttribute("statusText")||f.statusText);var a=(c.dataType||"").toLowerCase(),o=/(json|script|text)/.test(a);if(o||c.textarea){var s=x.getElementsByTagName("textarea")[0];if(s)f.responseText=s.value,f.status=Number(s.getAttribute("status"))||f.status,f.statusText=s.getAttribute("statusText")||f.statusText;else if(o){var l=x.getElementsByTagName("pre")[0],u=x.getElementsByTagName("body")[0];l?f.responseText=l.textContent?l.textContent:l.innerText:u&&(f.responseText=u.textContent?u.textContent:u.innerText)}}else"xml"==a&&!f.responseXML&&f.responseText&&(f.responseXML=S(f.responseText));try{_=D(f,a,c)}catch(e){i="parsererror",f.error=t=e||i}}catch(e){I("error caught: ",e),i="error",f.error=t=e||i}f.aborted&&(I("upload aborted"),i=null),f.status&&(i=200<=f.status&&f.status<300||304===f.status?"success":"error"),"success"===i?(c.success&&c.success.call(c.context,_,"success",f),v.resolve(f.responseText,"success",f),d&&M.event.trigger("ajaxSuccess",[f,c])):i&&(void 0===t&&(t=f.statusText),c.error&&c.error.call(c.context,f,i,t),v.reject(f,"error",t),d&&M.event.trigger("ajaxError",[f,c,t])),d&&M.event.trigger("ajaxComplete",[f,c]),d&&!--M.active&&M.event.trigger("ajaxStop"),c.complete&&c.complete.call(c.context,f,i),j=!0,c.timeout&&clearTimeout(g),setTimeout(function(){c.iframeTarget?h.attr("src",c.iframeSrc):h.remove(),f.responseXML=null},100)}}}var S=M.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},Q=M.parseJSON||function(e){return window.eval("("+e+")")},D=function(e,t,i){var n=e.getResponseHeader("content-type")||"",r="xml"===t||!t&&0<=n.indexOf("xml"),a=r?e.responseXML:e.responseText;return r&&"parsererror"===a.documentElement.nodeName&&M.error&&M.error("parsererror"),i&&i.dataFilter&&(a=i.dataFilter(a,t)),"string"==typeof a&&("json"===t||!t&&0<=n.indexOf("json")?a=Q(a):("script"===t||!t&&0<=n.indexOf("javascript"))&&M.globalEval(a)),a};return v}},M.fn.ajaxForm=function(e){if((e=e||{}).delegation=e.delegation&&M.isFunction(M.fn.on),!e.delegation&&0===this.length){var t={s:this.selector,c:this.context};return!M.isReady&&t.s?(I("DOM not ready, queuing ajaxForm"),M(function(){M(t.s,t.c).ajaxForm(e)})):I("terminating; zero elements found by selector"+(M.isReady?"":" (DOM not ready)")),this}return e.delegation?(M(document).off("submit.form-plugin",this.selector,i).off("click.form-plugin",this.selector,n).on("submit.form-plugin",this.selector,e,i).on("click.form-plugin",this.selector,e,n),this):this.ajaxFormUnbind().bind("submit.form-plugin",e,i).bind("click.form-plugin",e,n)},M.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},M.fn.formToArray=function(e,t){var i=[];if(0===this.length)return i;var n,r,a,o,s,l,u,c,d=this[0],h=this.attr("id"),p=e?d.getElementsByTagName("*"):d.elements;if(p&&!/MSIE [678]/.test(navigator.userAgent)&&(p=M(p).get()),h&&(n=M(':input[form="'+h+'"]').get()).length&&(p=(p||[]).concat(n)),!p||!p.length)return i;for(r=0,u=p.length;r<u;r++)if((o=(l=p[r]).name)&&!l.disabled)if(e&&d.clk&&"image"==l.type)d.clk==l&&(i.push({name:o,value:M(l).val(),type:l.type}),i.push({name:o+".x",value:d.clk_x},{name:o+".y",value:d.clk_y}));else if((s=M.fieldValue(l,!0))&&s.constructor==Array)for(t&&t.push(l),a=0,c=s.length;a<c;a++)i.push({name:o,value:s[a]});else if(b.fileapi&&"file"==l.type){t&&t.push(l);var f=l.files;if(f.length)for(a=0;a<f.length;a++)i.push({name:o,value:f[a],type:l.type});else i.push({name:o,value:"",type:l.type})}else null!=s&&(t&&t.push(l),i.push({name:o,value:s,type:l.type,required:l.required}));if(!e&&d.clk){var m=M(d.clk),g=m[0];(o=g.name)&&!g.disabled&&"image"==g.type&&(i.push({name:o,value:m.val()}),i.push({name:o+".x",value:d.clk_x},{name:o+".y",value:d.clk_y}))}return i},M.fn.formSerialize=function(e){return M.param(this.formToArray(e))},M.fn.fieldSerialize=function(r){var a=[];return this.each(function(){var e=this.name;if(e){var t=M.fieldValue(this,r);if(t&&t.constructor==Array)for(var i=0,n=t.length;i<n;i++)a.push({name:e,value:t[i]});else null!=t&&a.push({name:this.name,value:t})}}),M.param(a)},M.fn.fieldValue=function(e){for(var t=[],i=0,n=this.length;i<n;i++){var r=this[i],a=M.fieldValue(r,e);null==a||a.constructor==Array&&!a.length||(a.constructor==Array?M.merge(t,a):t.push(a))}return t},M.fieldValue=function(e,t){var i=e.name,n=e.type,r=e.tagName.toLowerCase();if(void 0===t&&(t=!0),t&&(!i||e.disabled||"reset"==n||"button"==n||("checkbox"==n||"radio"==n)&&!e.checked||("submit"==n||"image"==n)&&e.form&&e.form.clk!=e||"select"==r&&-1==e.selectedIndex))return null;if("select"==r){var a=e.selectedIndex;if(a<0)return null;for(var o=[],s=e.options,l="select-one"==n,u=l?a+1:s.length,c=l?a:0;c<u;c++){var d=s[c];if(d.selected){var h=d.value;if(h||(h=d.attributes&&d.attributes.value&&!d.attributes.value.specified?d.text:d.value),l)return h;o.push(h)}}return o}return M(e).val()},M.fn.clearForm=function(e){return this.each(function(){M("input,select,textarea",this).clearFields(e)})},M.fn.clearFields=M.fn.clearInputs=function(i){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var e=this.type,t=this.tagName.toLowerCase();n.test(e)||"textarea"==t?this.value="":"checkbox"==e||"radio"==e?this.checked=!1:"select"==t?this.selectedIndex=-1:"file"==e?/MSIE/.test(navigator.userAgent)?M(this).replaceWith(M(this).clone(!0)):M(this).val(""):i&&(!0===i&&/hidden/.test(e)||"string"==typeof i&&M(this).is(i))&&(this.value="")})},M.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},M.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},M.fn.selected=function(i){return void 0===i&&(i=!0),this.each(function(){var e=this.type;if("checkbox"==e||"radio"==e)this.checked=i;else if("option"==this.tagName.toLowerCase()){var t=M(this).parent("select");i&&t[0]&&"select-one"==t[0].type&&t.find("option").selected(!1),this.selected=i}})},M.fn.ajaxSubmit.debug=!1}),function(w){w.fn.ajaxForm;var _={};_.fileapi=void 0!==w("<input type='file'/>").get(0).files,_.formdata=void 0!==window.FormData,w.fn.uploadFile=function(e){var d=w.extend({url:"",method:"POST",enctype:"multipart/form-data",formData:null,returnType:null,allowedTypes:"*",fileName:"file",formData:{},dynamicFormData:function(){return{}},maxFileSize:-1,maxFileCount:-1,multiple:!0,dragDrop:!0,autoSubmit:!0,showCancel:!0,showAbort:!0,showDone:!0,showDelete:!1,showError:!0,showStatusAfterSuccess:!0,showStatusAfterError:!0,showFileCounter:!0,fileCounterStyle:"). ",showProgress:!1,onSelect:function(e){return!0},onSubmit:function(e,t){},onSuccess:function(e,t,i){},onError:function(e,t,i){},deleteCallback:!1,afterUploadAll:!1,uploadButtonClass:"upload",dragDropStr:"",abortStr:"Abort",cancelStr:"Cancel",deletelStr:"Delete",doneStr:"Done",multiDragErrorStr:"Multiple File Drag &amp; Drop is not allowed.",extErrorStr:"",sizeErrorStr:"",uploadErrorStr:"Upload is not allowed",maxFileCountErrorStr:""},e);this.fileCounter=1,this.selectedFiles=0,this.fCounter=0,this.sCounter=0,this.tCounter=0;var a="upload-"+(new Date).getTime();this.formGroup=a,this.hide(),this.errorLog=w("<div></div>"),this.after(this.errorLog),this.responses=[],_.formdata||(d.dragDrop=!1),_.formdata||(d.multiple=!1);var h=this,o=w("<div>"+w(this).html()+"</div>");w(o).addClass(d.uploadButtonClass),function e(){if(w.fn.ajaxForm){if(d.dragDrop){var t=w('<div class="ajax-upload-dragdrop" style="vertical-align:top;"></div>');w(h).before(t),w(t).append(o),w(t).prepend(w(d.dragDropStr)),i=h,n=d,(r=t).on("dragenter",function(e){e.stopPropagation(),e.preventDefault(),w(this).css("border","2px dashed #ddd")}),r.on("dragover",function(e){e.stopPropagation(),e.preventDefault()}),r.on("drop",function(e){w(this).css("border","2px dashed #ddd"),e.preventDefault(),i.errorLog.html("");var t=e.originalEvent.dataTransfer.files;!n.multiple&&1<t.length?n.showError&&w("<div class='um-error-block'>"+n.multiDragErrorStr+"</div>").appendTo(i.errorLog):0!=n.onSelect(t)&&m(n,i,t)}),w(document).on("dragenter",function(e){e.stopPropagation(),e.preventDefault()}),w(document).on("dragover",function(e){e.stopPropagation(),e.preventDefault(),r.css("border","2px dashed #ddd")}),w(document).on("drop",function(e){e.stopPropagation(),e.preventDefault(),r.css("border","2px dashed #ddd")})}else w(h).before(o);!function s(l,u,c,d){var e="ajax-upload-id-"+(new Date).getTime();var h=w("<form method='"+c.method+"' action='"+c.url+"' enctype='"+c.enctype+"'></form>");var t="<input type='file' id='"+e+"' name='"+c.fileName+"'/>";c.multiple&&(c.fileName.indexOf("[]")!=c.fileName.length-2&&(c.fileName+="[]"),t="<input type='file' id='"+e+"' name='"+c.fileName+"' multiple/>");var i=w(t).appendTo(h);i.change(function(){l.errorLog.html("");c.allowedTypes.toLowerCase().split(",");var e=[];if(this.files){for(a=0;a<this.files.length;a++)e.push(this.files[a].name);if(0==c.onSelect(this.files))return}else{var t=w(this).val(),i=[];if(e.push(t),!g(l,c,t))return void(c.showError&&w("<div class='um-error-block'>"+c.extErrorStr+"</div>").appendTo(l.errorLog));if(i.push({name:t,size:"NA"}),0==c.onSelect(i))return}if(v(c,l),d.unbind("click"),h.hide(),s(l,u,c,d),h.addClass(u),_.fileapi&&_.formdata){h.removeClass(u);var n=this.files;m(c,l,n)}else{for(var r="",a=0;a<e.length;a++)c.showFileCounter?r+=l.fileCounter+c.fileCounterStyle+e[a]+"<br>":r+=e[a]+"<br>",l.fileCounter++;if(-1!=c.maxFileCount&&l.selectedFiles+e.length>c.maxFileCount)return void(c.showError&&w("<div class='um-error-block'>"+c.maxFileCountErrorStr+"</div>").appendTo(l.errorLog));l.selectedFiles+=e.length;var o=new y(l,c);o.filename.html(r),b(h,c,o,e,l)}});h.css({margin:0,padding:0});var n=w(d).width()+10;10==n&&(n=120);var r=d.height()+10;10==r&&(r=35);d.css({position:"relative",overflow:"hidden",cursor:"default"});i.css({position:"absolute",cursor:"pointer",top:"0px",width:"100%",height:"34px",left:"0px","z-index":"100",opacity:"0.0",filter:"alpha(opacity=0)","-ms-filter":"alpha(opacity=0)","-khtml-opacity":"0.0","-moz-opacity":"0.0"});h.appendTo(d)}(h,a,d,o)}else window.setTimeout(e,10);var i,n,r}(),this.startUpload=function(){w("."+this.formGroup).each(function(e,t){w(this).is("form")&&w(this).submit()})},this.stopUpload=function(){w(".upload-red").each(function(e,t){w(this).hasClass(h.formGroup)&&w(this).click()})};var p=!(this.getResponses=function(){return this.responses});function f(e){var t,i,n=[],r=(n="string"==jQuery.type(e)?e.split("&"):w.param(e).split("&")).length,a=[];for(t=0;t<r;t++)n[t]=n[t].replace(/\+/g," "),i=n[t].split("="),a.push([decodeURIComponent(i[0]),decodeURIComponent(i[1])]);return a}function m(e,t,i){for(var n=0;n<i.length;n++)if(g(t,e,i[n].name))if(-1!=e.maxFileSize&&i[n].size>e.maxFileSize)e.showError&&w("<div class='um-error-block'>"+e.sizeErrorStr+"</div>").appendTo(t.errorLog);else if(-1!=e.maxFileCount&&t.selectedFiles>=e.maxFileCount)e.showError&&w("<div class='um-error-block'>"+e.maxFileCountErrorStr+"</div>").appendTo(t.errorLog);else{t.selectedFiles++;var r=e,a=new FormData,o=e.fileName.replace("[]","");a.append(o,i[n]);var s=e.formData;if(s)for(var l=f(s),u=0;u<l.length;u++)l[u]&&a.append(l[u][0],l[u][1]);r.fileData=a;var c=new y(t,e),d="";d=e.showFileCounter?t.fileCounter+e.fileCounterStyle+i[n].name:i[n].name,c.filename.html(d);var h=w("<form style='display:block; position:absolute;left: 150px;' class='"+t.formGroup+"' method='"+e.method+"' action='"+e.url+"' enctype='"+e.enctype+"'></form>");h.appendTo("body");var p=[];p.push(i[n].name),b(h,r,c,p,t),t.fileCounter++}else e.showError&&w("<div class='um-error-block'>"+e.extErrorStr+"</div>").appendTo(t.errorLog)}function g(e,t,i){var n=t.allowedTypes.toLowerCase().split(","),r=i.split(".").pop().toLowerCase();return!("*"!=t.allowedTypes&&jQuery.inArray(r,n)<0)}function v(r,e){if(r.showFileCounter){var a=w(".upload-filename").length;e.fileCounter=a+1,w(".upload-filename").each(function(e,t){var i=w(this).html().split(r.fileCounterStyle),n=(parseInt(i[0]),a+r.fileCounterStyle+i[1]);w(this).html(n),a--})}}function y(e,t){return this.statusbar=w("<div class='upload-statusbar'></div>"),this.filename=w("<div class='upload-filename'></div>").appendTo(this.statusbar),this.progressDiv=w("<div class='upload-progress'>").appendTo(this.statusbar).hide(),this.progressbar=w("<div class='upload-bar "+e.formGroup+"'></div>").appendTo(this.progressDiv),this.abort=w("<div class='upload-red "+e.formGroup+"'>"+t.abortStr+"</div>").appendTo(this.statusbar).hide(),this.cancel=w("<div class='upload-red'>"+t.cancelStr+"</div>").appendTo(this.statusbar).hide(),this.done=w("<div class='upload-green'>"+t.doneStr+"</div>").appendTo(this.statusbar).hide(),this.del=w("<div class='upload-red'>"+t.deletelStr+"</div>").appendTo(this.statusbar).hide(),e.errorLog.after(this.statusbar),this}function b(o,s,l,u,c){var e={cache:!1,contentType:!1,processData:!1,forceSync:!1,data:s.formData,formData:s.fileData,dataType:s.returnType,beforeSubmit:function(e,t,i){if(0!=s.onSubmit.call(this,u)){var n=s.dynamicFormData();if(n){var r=f(n);if(r)for(var a=0;a<r.length;a++)r[a]&&(null!=s.fileData?i.formData.append(r[a][0],r[a][1]):i.data[r[a][0]]=r[a][1])}return c.tCounter+=u.length,d.afterUploadAll&&!p&&(p=!0,function e(){0!=h.sCounter&&h.sCounter+h.fCounter==h.tCounter?(d.afterUploadAll(h),p=!1):window.setTimeout(e,100)}()),!0}return l.statusbar.append("<div class='um-error-block'>"+s.uploadErrorStr+"</div>"),l.cancel.show(),o.remove(),l.cancel.click(function(){l.statusbar.remove()}),!1},beforeSend:function(e,t){l.progressDiv.show(),l.cancel.hide(),l.done.hide(),s.showAbort&&(l.abort.show(),l.abort.click(function(){e.abort(),c.selectedFiles-=u.length})),_.formdata?l.progressbar.width("1%"):l.progressbar.width("5%")},uploadProgress:function(e,t,i,n){98<n&&(n=98);var r=n+"%";1<n&&l.progressbar.width(r),s.showProgress&&(l.progressbar.html(r),l.progressbar.css("text-align","center"))},success:function(e,t,i){c.responses.push(e),l.progressbar.width("100%"),s.showProgress&&(l.progressbar.html("100%"),l.progressbar.css("text-align","center")),l.abort.hide(),s.onSuccess.call(this,u,e,i),s.showStatusAfterSuccess?(s.showDone?(l.done.show(),l.done.click(function(){l.statusbar.hide("slow"),l.statusbar.remove()})):l.done.hide(),s.showDelete?(l.del.show(),l.del.click(function(){l.statusbar.hide().remove(),s.deleteCallback&&s.deleteCallback.call(this,e,l),c.selectedFiles-=u.length,v(s,c)})):l.del.hide()):(l.statusbar.hide("slow"),l.statusbar.remove()),o.remove(),c.sCounter+=u.length},error:function(e,t,i){l.abort.hide(),"abort"==e.statusText?(l.statusbar.hide("slow").remove(),v(s,c)):(s.onError.call(this,u,t,i),s.showStatusAfterError?(l.progressDiv.hide(),l.statusbar.append("<span class='um-error-block'>ERROR: "+i+"</span>")):(l.statusbar.hide(),l.statusbar.remove()),c.selectedFiles-=u.length),o.remove(),c.fCounter+=u.length}};s.autoSubmit?o.ajaxSubmit(e):(s.showCancel&&(l.cancel.show(),l.cancel.click(function(){o.remove(),l.statusbar.remove(),c.selectedFiles-=u.length,v(s,c)})),o.ajaxForm(e))}return this}}(jQuery),function(e){"function"==typeof define&&define.amd?define("picker",["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):this.Picker=e(jQuery)}(function(m){var n=m(window),g=m(document),v=m(document.documentElement),y=null!=document.documentElement.style.transition;function b(n,e,t,i){if(!n)return b;var r=!1,s={id:n.id||"P"+Math.abs(~~(Math.random()*new Date))},l=t?m.extend(!0,{},t.defaults,i):i||{},a=m.extend({},b.klasses(),l.klass),u=m(n),o=function(){return this.start()},c=o.prototype={constructor:o,$node:u,start:function(){return s&&s.start?c:(s.methods={},s.start=!0,s.open=!1,s.type=n.type,n.autofocus=n==x(),n.readOnly=!l.editable,n.id=n.id||s.id,"text"!=n.type&&(n.type="text"),c.component=new t(c,l),c.$root=m('<div class="'+a.picker+'" id="'+n.id+'_root" />'),_(c.$root[0],"hidden",!0),c.$holder=m(d()).appendTo(c.$root),h(),l.formatSubmit&&function(){var e;!0===l.hiddenName?(e=n.name,n.name=""):e=(e=["string"==typeof l.hiddenPrefix?l.hiddenPrefix:"","string"==typeof l.hiddenSuffix?l.hiddenSuffix:"_submit"])[0]+n.name+e[1];c._hidden=m('<input type=hidden name="'+e+'"'+(u.data("value")||n.value?' value="'+c.get("select",l.formatSubmit)+'"':"")+">")[0],u.on("change."+s.id,function(){c._hidden.value=n.value?c.get("select",l.formatSubmit):""})}(),function(){u.data(e,c).addClass(a.input).val(u.data("value")?c.get("select",l.format):n.value),l.editable||u.on("focus."+s.id+" click."+s.id,function(e){e.preventDefault(),c.open()}).on("keydown."+s.id,f);_(n,{haspopup:!0,expanded:!1,readonly:!1,owns:n.id+"_root"})}(),l.containerHidden?m(l.containerHidden).append(c._hidden):u.after(c._hidden),l.container?m(l.container).append(c.$root):u.after(c.$root),c.on({start:c.component.onStart,render:c.component.onRender,stop:c.component.onStop,open:c.component.onOpen,close:c.component.onClose,set:c.component.onSet}).on({start:l.onStart,render:l.onRender,stop:l.onStop,open:l.onOpen,close:l.onClose,set:l.onSet}),r=function(e){var t,i="position";e.currentStyle?t=e.currentStyle[i]:window.getComputedStyle&&(t=getComputedStyle(e)[i]);return"fixed"==t}(c.$holder[0]),n.autofocus&&c.open(),c.trigger("start").trigger("render"))},render:function(e){return e?(c.$holder=m(d()),h(),c.$root.html(c.$holder)):c.$root.find("."+a.box).html(c.component.nodes(s.open)),c.trigger("render")},stop:function(){return s.start&&(c.close(),c._hidden&&c._hidden.parentNode.removeChild(c._hidden),c.$root.remove(),u.removeClass(a.input).removeData(e),setTimeout(function(){u.off("."+s.id)},0),n.type=s.type,n.readOnly=!1,c.trigger("stop"),s.methods={},s.start=!1),c},open:function(e){return s.open?c:(u.addClass(a.active),_(n,"expanded",!0),setTimeout(function(){c.$root.addClass(a.opened),_(c.$root[0],"hidden",!1)},0),!1!==e&&(s.open=!0,r&&v.css("overflow","hidden").css("padding-right","+="+w()),r&&y?c.$holder.find("."+a.frame).one("transitionend",function(){c.$holder[0].focus()}):c.$holder[0].focus(),g.on("click."+s.id+" focusin."+s.id,function(e){var t=e.target;t!=n&&t!=document&&3!=e.which&&c.close(t===c.$holder[0])}).on("keydown."+s.id,function(e){var t=e.keyCode,i=c.component.key[t],n=e.target;27==t?c.close(!0):n!=c.$holder[0]||!i&&13!=t?m.contains(c.$root[0],n)&&13==t&&(e.preventDefault(),n.click()):(e.preventDefault(),i?b._.trigger(c.component.key.go,c,[b._.trigger(i)]):c.$root.find("."+a.highlighted).hasClass(a.disabled)||(c.set("select",c.component.item.highlight),l.closeOnSelect&&c.close(!0)))})),c.trigger("open"))},close:function(e){return e&&(l.editable?n.focus():(c.$holder.off("focus.toOpen").focus(),setTimeout(function(){c.$holder.on("focus.toOpen",p)},0))),u.removeClass(a.active),_(n,"expanded",!1),setTimeout(function(){c.$root.removeClass(a.opened+" "+a.focused),_(c.$root[0],"hidden",!0)},0),s.open?(s.open=!1,r&&v.css("overflow","").css("padding-right","-="+w()),g.off("."+s.id),c.trigger("close")):c},clear:function(e){return c.set("clear",null,e)},set:function(e,t,i){var n,r,a=m.isPlainObject(e),o=a?e:{};if(i=a&&m.isPlainObject(t)?t:i||{},e){for(n in a||(o[e]=t),o)r=o[n],n in c.component.item&&(void 0===r&&(r=null),c.component.set(n,r,i)),"select"!=n&&"clear"!=n||u.val("clear"==n?"":c.get(n,l.format)).trigger("change");c.render()}return i.muted?c:c.trigger("set",o)},get:function(e,t){if(null!=s[e=e||"value"])return s[e];if("valueSubmit"==e){if(c._hidden)return c._hidden.value;e="value"}if("value"==e)return n.value;if(e in c.component.item){if("string"==typeof t){var i=c.component.get(e);return i?b._.trigger(c.component.formats.toString,c.component,[t,i]):""}return c.component.get(e)}},on:function(e,t,i){var n,r,a=m.isPlainObject(e),o=a?e:{};if(e)for(n in a||(o[e]=t),o)r=o[n],i&&(n="_"+n),s.methods[n]=s.methods[n]||[],s.methods[n].push(r);return c},off:function(){var e,t,i=arguments;for(e=0,namesCount=i.length;e<namesCount;e+=1)(t=i[e])in s.methods&&delete s.methods[t];return c},trigger:function(e,i){var t=function(e){var t=s.methods[e];t&&t.map(function(e){b._.trigger(e,c,[i])})};return t("_"+e),t(e),c}};function d(){return b._.node("div",b._.node("div",b._.node("div",b._.node("div",c.component.nodes(s.open),a.box),a.wrap),a.frame),a.holder,'tabindex="-1"')}function h(){c.$holder.on({keydown:f,"focus.toOpen":p,blur:function(){u.removeClass(a.target)},focusin:function(e){c.$root.removeClass(a.focused),e.stopPropagation()},"mousedown click":function(e){var t=e.target;t!=c.$holder[0]&&(e.stopPropagation(),"mousedown"!=e.type||m(t).is("input, select, textarea, button, option")||(e.preventDefault(),c.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var e=m(this),t=e.data(),i=e.hasClass(a.navDisabled)||e.hasClass(a.disabled),n=x();n=n&&(n.type||n.href),(i||n&&!m.contains(c.$root[0],n))&&c.$holder[0].focus(),!i&&t.nav?c.set("highlight",c.component.item.highlight,{nav:t.nav}):!i&&"pick"in t?(c.set("select",t.pick),l.closeOnSelect&&c.close(!0)):t.clear?(c.clear(),l.closeOnClear&&c.close(!0)):t.close&&c.close(!0)})}function p(e){e.stopPropagation(),u.addClass(a.target),c.$root.addClass(a.focused),c.open()}function f(e){var t=e.keyCode,i=/^(8|46)$/.test(t);if(27==t)return c.close(!0),!1;(32==t||i||!s.open&&c.component.key[t])&&(e.preventDefault(),e.stopPropagation(),i?c.clear().close():c.open())}return new o}function w(){if(v.height()<=n.height())return 0;var e=m('<div style="visibility:hidden;width:100px" />').appendTo("body"),t=e[0].offsetWidth;e.css("overflow","scroll");var i=m('<div style="width:100%" />').appendTo(e)[0].offsetWidth;return e.remove(),t-i}function _(e,t,i){if(m.isPlainObject(t))for(var n in t)r(e,n,t[n]);else r(e,t,i)}function r(e,t,i){e.setAttribute(("role"==t?"":"aria-")+t,i)}function x(){try{return document.activeElement}catch(e){}}return b.klasses=function(e){return{picker:e=e||"picker",opened:e+"--opened",focused:e+"--focused",input:e+"__input",active:e+"__input--active",target:e+"__input--target",holder:e+"__holder",frame:e+"__frame",wrap:e+"__wrap",box:e+"__box"}},b._={group:function(e){for(var t,i="",n=b._.trigger(e.min,e);n<=b._.trigger(e.max,e,[n]);n+=e.i)t=b._.trigger(e.item,e,[n]),i+=b._.node(e.node,t[0],t[1],t[2]);return i},node:function(e,t,i,n){return t?"<"+e+(i=i?' class="'+i+'"':"")+(n=n?" "+n:"")+">"+(t=m.isArray(t)?t.join(""):t)+"</"+e+">":""},lead:function(e){return(e<10?"0":"")+e},trigger:function(e,t,i){return"function"==typeof e?e.apply(t,i||[]):e},digits:function(e){return/\d/.test(e[1])?2:1},isDate:function(e){return-1<{}.toString.call(e).indexOf("Date")&&this.isInteger(e.getDate())},isInteger:function(e){return-1<{}.toString.call(e).indexOf("Number")&&e%1==0},ariaAttr:function(e,t){m.isPlainObject(e)||(e={attribute:t});for(var i in t="",e){var n=("role"==i?"":"aria-")+i,r=e[i];t+=null==r?"":n+'="'+e[i]+'"'}return t}},b.extend=function(n,r){m.fn[n]=function(e,t){var i=this.data(n);return"picker"==e?i:i&&"string"==typeof e?b._.trigger(i[e],i,[t]):this.each(function(){m(this).data(n)||new b(this,n,r,e)})},m.fn[n].defaults=r.defaults},b}),function(e){"function"==typeof define&&define.amd?define(["picker","jquery"],e):"object"==typeof exports?module.exports=e(require("./picker.js"),require("jquery")):e(Picker,jQuery)}(function(e,f){var t,v=e._;function i(t,i){var e,n=this,r=t.$node[0],a=r.value,o=t.$node.data("value"),s=o||a,l=o?i.formatSubmit:i.format,u=function(){return r.currentStyle?"rtl"==r.currentStyle.direction:"rtl"==getComputedStyle(t.$root[0]).direction};n.settings=i,n.$node=t.$node,n.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},n.item={},n.item.clear=null,n.item.disable=(i.disable||[]).slice(0),n.item.enable=-(!0===(e=n.item.disable)[0]?e.shift():-1),n.set("min",i.min).set("max",i.max).set("now"),s?n.set("select",s,{format:l,defaultValue:!0}):n.set("select",null).set("highlight",n.item.now),n.key={40:7,38:-7,39:function(){return u()?-1:1},37:function(){return u()?1:-1},go:function(e){var t=n.item.highlight,i=new Date(t.year,t.month,t.date+e);n.set("highlight",i,{interval:e}),this.render()}},t.on("render",function(){t.$root.find("."+i.klass.selectMonth).on("change",function(){var e=this.value;e&&(t.set("highlight",[t.get("view").year,e,t.get("highlight").date]),t.$root.find("."+i.klass.selectMonth).trigger("focus"))}),t.$root.find("."+i.klass.selectYear).on("change",function(){var e=this.value;e&&(t.set("highlight",[e,t.get("view").month,t.get("highlight").date]),t.$root.find("."+i.klass.selectYear).trigger("focus"))})},1).on("open",function(){var e="";n.disabled(n.get("now"))&&(e=":not(."+i.klass.buttonToday+")"),t.$root.find("button"+e+", select").attr("disabled",!1)},1).on("close",function(){t.$root.find("button, select").attr("disabled",!0)},1)}i.prototype.set=function(t,i,n){var r=this,e=r.item;return null===i?("clear"==t&&(t="select"),e[t]=i):(e["enable"==t?"disable":"flip"==t?"enable":t]=r.queue[t].split(" ").map(function(e){return i=r[e](t,i,n)}).pop(),"select"==t?r.set("highlight",e.select,n):"highlight"==t?r.set("view",e.highlight,n):t.match(/^(flip|min|max|disable|enable)$/)&&(e.select&&r.disabled(e.select)&&r.set("select",e.select,n),e.highlight&&r.disabled(e.highlight)&&r.set("highlight",e.highlight,n))),r},i.prototype.get=function(e){return this.item[e]},i.prototype.create=function(e,t,i){var n;return(t=void 0===t?e:t)==-1/0||t==1/0?n=t:f.isPlainObject(t)&&v.isInteger(t.pick)?t=t.obj:f.isArray(t)?(t=new Date(t[0],t[1],t[2]),t=v.isDate(t)?t:this.create().obj):t=v.isInteger(t)||v.isDate(t)?this.normalize(new Date(t),i):this.now(e,t,i),{year:n||t.getFullYear(),month:n||t.getMonth(),date:n||t.getDate(),day:n||t.getDay(),obj:n||t,pick:n||t.getTime()}},i.prototype.createRange=function(e,t){var i=this,n=function(e){return!0===e||f.isArray(e)||v.isDate(e)?i.create(e):e};return v.isInteger(e)||(e=n(e)),v.isInteger(t)||(t=n(t)),v.isInteger(e)&&f.isPlainObject(t)?e=[t.year,t.month,t.date+e]:v.isInteger(t)&&f.isPlainObject(e)&&(t=[e.year,e.month,e.date+t]),{from:n(e),to:n(t)}},i.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},i.prototype.overlapRanges=function(e,t){var i=this;return e=i.createRange(e.from,e.to),t=i.createRange(t.from,t.to),i.withinRange(e,t.from)||i.withinRange(e,t.to)||i.withinRange(t,e.from)||i.withinRange(t,e.to)},i.prototype.now=function(e,t,i){return t=new Date,i&&i.rel&&t.setDate(t.getDate()+i.rel),this.normalize(t,i)},i.prototype.navigate=function(e,t,i){var n,r,a,o,s=f.isArray(t),l=f.isPlainObject(t),u=this.item.view;if(s||l){for(l?(r=t.year,a=t.month,o=t.date):(r=+t[0],a=+t[1],o=+t[2]),i&&i.nav&&u&&u.month!==a&&(r=u.year,a=u.month),r=(n=new Date(r,a+(i&&i.nav?i.nav:0),1)).getFullYear(),a=n.getMonth();new Date(r,a,o).getMonth()!==a;)o-=1;t=[r,a,o]}return t},i.prototype.normalize=function(e){return e.setHours(0,0,0,0),e},i.prototype.measure=function(e,t){return t?"string"==typeof t?t=this.parse(e,t):v.isInteger(t)&&(t=this.now(e,t,{rel:t})):t="min"==e?-1/0:1/0,t},i.prototype.viewset=function(e,t){return this.create([t.year,t.month,1])},i.prototype.validate=function(e,i,t){var n,r,a,o,s=this,l=i,u=t&&t.interval?t.interval:1,c=-1===s.item.enable,d=s.item.min,h=s.item.max,p=c&&s.item.disable.filter(function(e){if(f.isArray(e)){var t=s.create(e).pick;t<i.pick?n=!0:t>i.pick&&(r=!0)}return v.isInteger(e)}).length;if((!t||!t.nav&&!t.defaultValue)&&(!c&&s.disabled(i)||c&&s.disabled(i)&&(p||n||r)||!c&&(i.pick<=d.pick||i.pick>=h.pick)))for(c&&!p&&(!r&&0<u||!n&&u<0)&&(u*=-1);s.disabled(i)&&(1<Math.abs(u)&&(i.month<l.month||i.month>l.month)&&(i=l,u=0<u?1:-1),i.pick<=d.pick?(a=!0,u=1,i=s.create([d.year,d.month,d.date+(i.pick===d.pick?0:-1)])):i.pick>=h.pick&&(o=!0,u=-1,i=s.create([h.year,h.month,h.date+(i.pick===h.pick?0:1)])),!a||!o);)i=s.create([i.year,i.month,i.date+u]);return i},i.prototype.disabled=function(t){var i=this,e=i.item.disable.filter(function(e){return v.isInteger(e)?t.day===(i.settings.firstDay?e:e-1)%7:f.isArray(e)||v.isDate(e)?t.pick===i.create(e).pick:f.isPlainObject(e)?i.withinRange(e,t):void 0});return e=e.length&&!e.filter(function(e){return f.isArray(e)&&"inverted"==e[3]||f.isPlainObject(e)&&e.inverted}).length,-1===i.item.enable?!e:e||t.pick<i.item.min.pick||t.pick>i.item.max.pick},i.prototype.parse=function(e,n,t){var r=this,a={};return n&&"string"==typeof n?(t&&t.format||((t=t||{}).format=r.settings.format),r.formats.toArray(t.format).map(function(e){var t=r.formats[e],i=t?v.trigger(t,r,[n,a]):e.replace(/^!/,"").length;t&&(a[e]=n.substr(0,i)),n=n.substr(i)}),[a.yyyy||a.yy,+(a.mm||a.m)-1,a.dd||a.d]):n},i.prototype.formats=function(){function n(e,t,i){var n=e.match(/[^\x00-\x7F]+|\w+/)[0];return i.mm||i.m||(i.m=t.indexOf(n)+1),n.length}function i(e){return e.match(/\w+/)[0].length}return{d:function(e,t){return e?v.digits(e):t.date},dd:function(e,t){return e?2:v.lead(t.date)},ddd:function(e,t){return e?i(e):this.settings.weekdaysShort[t.day]},dddd:function(e,t){return e?i(e):this.settings.weekdaysFull[t.day]},m:function(e,t){return e?v.digits(e):t.month+1},mm:function(e,t){return e?2:v.lead(t.month+1)},mmm:function(e,t){var i=this.settings.monthsShort;return e?n(e,i,t):i[t.month]},mmmm:function(e,t){var i=this.settings.monthsFull;return e?n(e,i,t):i[t.month]},yy:function(e,t){return e?2:(""+t.year).slice(2)},yyyy:function(e,t){return e?4:t.year},toArray:function(e){return e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(e,t){var i=this;return i.formats.toArray(e).map(function(e){return v.trigger(i.formats[e],i,[0,t])||e.replace(/^!/,"")}).join("")}}}(),i.prototype.isDateExact=function(e,t){return v.isInteger(e)&&v.isInteger(t)||"boolean"==typeof e&&"boolean"==typeof t?e===t:(v.isDate(e)||f.isArray(e))&&(v.isDate(t)||f.isArray(t))?this.create(e).pick===this.create(t).pick:!(!f.isPlainObject(e)||!f.isPlainObject(t))&&(this.isDateExact(e.from,t.from)&&this.isDateExact(e.to,t.to))},i.prototype.isDateOverlap=function(e,t){var i=this.settings.firstDay?1:0;return v.isInteger(e)&&(v.isDate(t)||f.isArray(t))?(e=e%7+i)===this.create(t).day+1:v.isInteger(t)&&(v.isDate(e)||f.isArray(e))?(t=t%7+i)===this.create(e).day+1:!(!f.isPlainObject(e)||!f.isPlainObject(t))&&this.overlapRanges(e,t)},i.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(-1==t.enable?1:-1)},i.prototype.deactivate=function(e,t){var n=this,r=n.item.disable.slice(0);return"flip"==t?n.flipEnable():!1===t?(n.flipEnable(1),r=[]):!0===t?(n.flipEnable(-1),r=[]):t.map(function(e){for(var t,i=0;i<r.length;i+=1)if(n.isDateExact(e,r[i])){t=!0;break}t||(v.isInteger(e)||v.isDate(e)||f.isArray(e)||f.isPlainObject(e)&&e.from&&e.to)&&r.push(e)}),r},i.prototype.activate=function(e,t){var a=this,o=a.item.disable,s=o.length;return"flip"==t?a.flipEnable():!0===t?(a.flipEnable(1),o=[]):!1===t?(a.flipEnable(-1),o=[]):t.map(function(e){var t,i,n,r;for(n=0;n<s;n+=1){if(i=o[n],a.isDateExact(i,e)){t=o[n]=null,r=!0;break}if(a.isDateOverlap(i,e)){f.isPlainObject(e)?(e.inverted=!0,t=e):f.isArray(e)?(t=e)[3]||t.push("inverted"):v.isDate(e)&&(t=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}}if(t)for(n=0;n<s;n+=1)if(a.isDateExact(o[n],e)){o[n]=null;break}if(r)for(n=0;n<s;n+=1)if(a.isDateOverlap(o[n],e)){o[n]=null;break}t&&o.push(t)}),o.filter(function(e){return null!=e})},i.prototype.nodes=function(l){var t,i,u=this,c=u.settings,e=u.item,o=e.now,s=e.select,d=e.highlight,h=e.view,p=e.disable,f=e.min,m=e.max,n=(t=(c.showWeekdaysFull?c.weekdaysFull:c.weekdaysShort).slice(0),i=c.weekdaysFull.slice(0),c.firstDay&&(t.push(t.shift()),i.push(i.shift())),v.node("thead",v.node("tr",v.group({min:0,max:6,i:1,node:"th",item:function(e){return[t[e],c.klass.weekdays,'scope=col title="'+i[e]+'"']}})))),r=function(e){return v.node("div"," ",c.klass["nav"+(e?"Next":"Prev")]+(e&&h.year>=m.year&&h.month>=m.month||!e&&h.year<=f.year&&h.month<=f.month?" "+c.klass.navDisabled:""),"data-nav="+(e||-1)+" "+v.ariaAttr({role:"button",controls:u.$node[0].id+"_table"})+' title="'+(e?c.labelMonthNext:c.labelMonthPrev)+'"')},a=function(){var t=c.showMonthsShort?c.monthsShort:c.monthsFull;return c.selectMonths?v.node("select",v.group({min:0,max:11,i:1,node:"option",item:function(e){return[t[e],0,"value="+e+(h.month==e?" selected":"")+(h.year==f.year&&e<f.month||h.year==m.year&&e>m.month?" disabled":"")]}}),c.klass.selectMonth,(l?"":"disabled")+" "+v.ariaAttr({controls:u.$node[0].id+"_table"})+' title="'+c.labelMonthSelect+'"'):v.node("div",t[h.month],c.klass.month)},g=function(){var t=h.year,e=!0===c.selectYears?5:~~(c.selectYears/2);if(e){var i=f.year,n=m.year,r=t-e,a=t+e;if(r<i&&(a+=i-r,r=i),n<a){var o=r-i,s=a-n;r-=s<o?s:o,a=n}return v.node("select",v.group({min:r,max:a,i:1,node:"option",item:function(e){return[e,0,"value="+e+(t==e?" selected":"")]}}),c.klass.selectYear,(l?"":"disabled")+" "+v.ariaAttr({controls:u.$node[0].id+"_table"})+' title="'+c.labelYearSelect+'"')}return v.node("div",t,c.klass.year)};return v.node("div",(c.selectYears?g()+a():a()+g())+r()+r(1),c.klass.header)+v.node("table",n+v.node("tbody",v.group({min:0,max:5,i:1,node:"tr",item:function(e){var t=c.firstDay&&0===u.create([h.year,h.month,1]).day?-7:0;return[v.group({min:7*e-h.day+t+1,max:function(){return this.min+7-1},i:1,node:"td",item:function(e){e=u.create([h.year,h.month,e+(c.firstDay?1:0)]);var t,i=s&&s.pick==e.pick,n=d&&d.pick==e.pick,r=p&&u.disabled(e)||e.pick<f.pick||e.pick>m.pick,a=v.trigger(u.formats.toString,u,[c.format,e]);return[v.node("div",e.date,(t=[c.klass.day],t.push(h.month==e.month?c.klass.infocus:c.klass.outfocus),o.pick==e.pick&&t.push(c.klass.now),i&&t.push(c.klass.selected),n&&t.push(c.klass.highlighted),r&&t.push(c.klass.disabled),t.join(" ")),"data-pick="+e.pick+" "+v.ariaAttr({role:"gridcell",label:a,selected:!(!i||u.$node.val()!==a)||null,activedescendant:!!n||null,disabled:!!r||null})),"",v.ariaAttr({role:"presentation"})]}})]}})),c.klass.table,'id="'+u.$node[0].id+'_table" '+v.ariaAttr({role:"grid",controls:u.$node[0].id,readonly:!0}))+v.node("div",v.node("button",c.today,c.klass.buttonToday,"type=button data-pick="+o.pick+(l&&!u.disabled(o)?"":" disabled")+" "+v.ariaAttr({controls:u.$node[0].id}))+v.node("button",c.clear,c.klass.buttonClear,"type=button data-clear=1"+(l?"":" disabled")+" "+v.ariaAttr({controls:u.$node[0].id}))+v.node("button",c.close,c.klass.buttonClose,"type=button data-close=true "+(l?"":" disabled")+" "+v.ariaAttr({controls:u.$node[0].id})),c.klass.footer)},i.defaults={labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",close:"Close",closeOnSelect:!0,closeOnClear:!0,format:"d mmmm, yyyy",klass:{table:(t=e.klasses().picker+"__")+"table",header:t+"header",navPrev:t+"nav--prev",navNext:t+"nav--next",navDisabled:t+"nav--disabled",month:t+"month",year:t+"year",selectMonth:t+"select--month",selectYear:t+"select--year",weekdays:t+"weekday",day:t+"day",disabled:t+"day--disabled",selected:t+"day--selected",highlighted:t+"day--highlighted",now:t+"day--today",infocus:t+"day--infocus",outfocus:t+"day--outfocus",footer:t+"footer",buttonClear:t+"button--clear",buttonToday:t+"button--today",buttonClose:t+"button--close"}},e.extend("pickadate",i)}),function(e){"function"==typeof define&&define.amd?define(["picker","jquery"],e):"object"==typeof exports?module.exports=e(require("./picker.js"),require("jquery")):e(Picker,jQuery)}(function(e,l){var t,r=1440,p=e._;function i(r,a){var e,t=this,i=r.$node[0].value,n=r.$node.data("value"),o=n||i,s=n?a.formatSubmit:a.format;t.settings=a,t.$node=r.$node,t.queue={interval:"i",min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse create validate",view:"parse create validate",disable:"deactivate",enable:"activate"},t.item={},t.item.clear=null,t.item.interval=a.interval||30,t.item.disable=(a.disable||[]).slice(0),t.item.enable=-(!0===(e=t.item.disable)[0]?e.shift():-1),t.set("min",a.min).set("max",a.max).set("now"),o?t.set("select",o,{format:s}):t.set("select",null).set("highlight",t.item.now),t.key={40:1,38:-1,39:1,37:-1,go:function(e){t.set("highlight",t.item.highlight.pick+e*t.item.interval,{interval:e*t.item.interval}),this.render()}},r.on("render",function(){var e=r.$root.children(),t=e.find("."+a.klass.viewset),n=function(t){return["webkit","moz","ms","o",""].map(function(e){return(e?"-"+e+"-":"")+t})},i=function(t,i){n("transform").map(function(e){t.css(e,i)}),n("transition").map(function(e){t.css(e,i)})};t.length&&(i(e,"none"),e[0].scrollTop=~~t.position().top-2*t[0].clientHeight,i(e,""))},1).on("open",function(){r.$root.find("button").attr("disabled",!1)},1).on("close",function(){r.$root.find("button").attr("disabled",!0)},1)}i.prototype.set=function(t,i,n){var r=this,e=r.item;return null===i?("clear"==t&&(t="select"),e[t]=i):(e["enable"==t?"disable":"flip"==t?"enable":t]=r.queue[t].split(" ").map(function(e){return i=r[e](t,i,n)}).pop(),"select"==t?r.set("highlight",e.select,n):"highlight"==t?r.set("view",e.highlight,n):"interval"==t?r.set("min",e.min,n).set("max",e.max,n):t.match(/^(flip|min|max|disable|enable)$/)&&(e.select&&r.disabled(e.select)&&r.set("select",i,n),e.highlight&&r.disabled(e.highlight)&&r.set("highlight",i,n),"min"==t&&r.set("max",e.max,n))),r},i.prototype.get=function(e){return this.item[e]},i.prototype.create=function(e,t,i){var n=this;return t=void 0===t?e:t,p.isDate(t)&&(t=[t.getHours(),t.getMinutes()]),l.isPlainObject(t)&&p.isInteger(t.pick)?t=t.pick:l.isArray(t)?t=60*+t[0]+ +t[1]:p.isInteger(t)||(t=n.now(e,t,i)),"max"==e&&t<n.item.min.pick&&(t+=r),"min"!=e&&"max"!=e&&(t-n.item.min.pick)%n.item.interval!=0&&(t+=n.item.interval),{hour:~~(24+(t=n.normalize(e,t,i))/60)%24,mins:(60+t%60)%60,time:(r+t)%r,pick:t%r}},i.prototype.createRange=function(e,t){var i=this,n=function(e){return!0===e||l.isArray(e)||p.isDate(e)?i.create(e):e};return p.isInteger(e)||(e=n(e)),p.isInteger(t)||(t=n(t)),p.isInteger(e)&&l.isPlainObject(t)?e=[t.hour,t.mins+e*i.settings.interval]:p.isInteger(t)&&l.isPlainObject(e)&&(t=[e.hour,e.mins+t*i.settings.interval]),{from:n(e),to:n(t)}},i.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},i.prototype.overlapRanges=function(e,t){var i=this;return e=i.createRange(e.from,e.to),t=i.createRange(t.from,t.to),i.withinRange(e,t.from)||i.withinRange(e,t.to)||i.withinRange(t,e.from)||i.withinRange(t,e.to)},i.prototype.now=function(e,t){var i,n=this.item.interval,r=new Date,a=60*r.getHours()+r.getMinutes();return a-=a%n,i=t<0&&n*t+a<=-n,a+="min"==e&&i?0:n,p.isInteger(t)&&(a+=n*(i&&"max"!=e?t+1:t)),a},i.prototype.normalize=function(e,t){var i=this.item.interval,n=this.item.min&&this.item.min.pick||0;return t-="min"==e?0:(t-n)%i},i.prototype.measure=function(e,t,i){return t||(t="min"==e?[0,0]:[23,59]),"string"==typeof t?t=this.parse(e,t):!0===t||p.isInteger(t)?t=this.now(e,t,i):l.isPlainObject(t)&&p.isInteger(t.pick)&&(t=this.normalize(e,t.pick,i)),t},i.prototype.validate=function(e,t,i){var n=this,r=i&&i.interval?i.interval:n.item.interval;return n.disabled(t)&&(t=n.shift(t,r)),t=n.scope(t),n.disabled(t)&&(t=n.shift(t,-1*r)),t},i.prototype.disabled=function(t){var i=this,e=i.item.disable.filter(function(e){return p.isInteger(e)?t.hour==e:l.isArray(e)||p.isDate(e)?t.pick==i.create(e).pick:l.isPlainObject(e)?i.withinRange(e,t):void 0});return e=e.length&&!e.filter(function(e){return l.isArray(e)&&"inverted"==e[2]||l.isPlainObject(e)&&e.inverted}).length,-1===i.item.enable?!e:e||t.pick<i.item.min.pick||t.pick>i.item.max.pick},i.prototype.shift=function(e,t){var i=this,n=i.item.min.pick,r=i.item.max.pick;for(t=t||i.item.interval;i.disabled(e)&&!((e=i.create(e.pick+=t)).pick<=n||e.pick>=r););return e},i.prototype.scope=function(e){var t=this.item.min.pick,i=this.item.max.pick;return this.create(e.pick>i?i:e.pick<t?t:e)},i.prototype.parse=function(e,r,t){var i,n,a,o,s,l=this,u={};if(!r||"string"!=typeof r)return r;for(o in t&&t.format||((t=t||{}).format=l.settings.format),l.formats.toArray(t.format).map(function(e){var t,i=l.formats[e],n=i?p.trigger(i,l,[r,u]):e.replace(/^!/,"").length;i&&(t=r.substr(0,n),u[e]=t.match(/^\d+$/)?+t:t),r=r.substr(n)}),u)s=u[o],p.isInteger(s)?o.match(/^(h|hh)$/i)?(i=s,"h"!=o&&"hh"!=o||(i%=12)):"i"==o&&(n=s):o.match(/^a$/i)&&s.match(/^p/i)&&("h"in u||"hh"in u)&&(a=!0);return 60*(a?i+12:i)+n},i.prototype.formats={h:function(e,t){return e?p.digits(e):t.hour%12||12},hh:function(e,t){return e?2:p.lead(t.hour%12||12)},H:function(e,t){return e?p.digits(e):""+t.hour%24},HH:function(e,t){return e?p.digits(e):p.lead(t.hour%24)},i:function(e,t){return e?2:p.lead(t.mins)},a:function(e,t){return e?4:t.time%r<720?"a.m.":"p.m."},A:function(e,t){return e?2:t.time%r<720?"AM":"PM"},toArray:function(e){return e.split(/(h{1,2}|H{1,2}|i|a|A|!.)/g)},toString:function(e,t){var i=this;return i.formats.toArray(e).map(function(e){return p.trigger(i.formats[e],i,[0,t])||e.replace(/^!/,"")}).join("")}},i.prototype.isTimeExact=function(e,t){return p.isInteger(e)&&p.isInteger(t)||"boolean"==typeof e&&"boolean"==typeof t?e===t:(p.isDate(e)||l.isArray(e))&&(p.isDate(t)||l.isArray(t))?this.create(e).pick===this.create(t).pick:!(!l.isPlainObject(e)||!l.isPlainObject(t))&&(this.isTimeExact(e.from,t.from)&&this.isTimeExact(e.to,t.to))},i.prototype.isTimeOverlap=function(e,t){return p.isInteger(e)&&(p.isDate(t)||l.isArray(t))?e===this.create(t).hour:p.isInteger(t)&&(p.isDate(e)||l.isArray(e))?t===this.create(e).hour:!(!l.isPlainObject(e)||!l.isPlainObject(t))&&this.overlapRanges(e,t)},i.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(-1==t.enable?1:-1)},i.prototype.deactivate=function(e,t){var n=this,r=n.item.disable.slice(0);return"flip"==t?n.flipEnable():!1===t?(n.flipEnable(1),r=[]):!0===t?(n.flipEnable(-1),r=[]):t.map(function(e){for(var t,i=0;i<r.length;i+=1)if(n.isTimeExact(e,r[i])){t=!0;break}t||(p.isInteger(e)||p.isDate(e)||l.isArray(e)||l.isPlainObject(e)&&e.from&&e.to)&&r.push(e)}),r},i.prototype.activate=function(e,t){var a=this,o=a.item.disable,s=o.length;return"flip"==t?a.flipEnable():!0===t?(a.flipEnable(1),o=[]):!1===t?(a.flipEnable(-1),o=[]):t.map(function(e){var t,i,n,r;for(n=0;n<s;n+=1){if(i=o[n],a.isTimeExact(i,e)){t=o[n]=null,r=!0;break}if(a.isTimeOverlap(i,e)){l.isPlainObject(e)?(e.inverted=!0,t=e):l.isArray(e)?(t=e)[2]||t.push("inverted"):p.isDate(e)&&(t=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}}if(t)for(n=0;n<s;n+=1)if(a.isTimeExact(o[n],e)){o[n]=null;break}if(r)for(n=0;n<s;n+=1)if(a.isTimeOverlap(o[n],e)){o[n]=null;break}t&&o.push(t)}),o.filter(function(e){return null!=e})},i.prototype.i=function(e,t){return p.isInteger(t)&&0<t?t:this.item.interval},i.prototype.nodes=function(e){var s=this,l=s.settings,u=s.item.select,c=s.item.highlight,d=s.item.view,h=s.item.disable;return p.node("ul",p.group({min:s.item.min.pick,max:s.item.max.pick,i:s.item.interval,node:"li",item:function(e){var t,i=(e=s.create(e)).pick,n=u&&u.pick==i,r=c&&c.pick==i,a=h&&s.disabled(e),o=p.trigger(s.formats.toString,s,[l.format,e]);return[p.trigger(s.formats.toString,s,[p.trigger(l.formatLabel,s,[e])||l.format,e]),(t=[l.klass.listItem],n&&t.push(l.klass.selected),r&&t.push(l.klass.highlighted),d&&d.pick==i&&t.push(l.klass.viewset),a&&t.push(l.klass.disabled),t.join(" ")),"data-pick="+e.pick+" "+p.ariaAttr({role:"option",label:o,selected:!(!n||s.$node.val()!==o)||null,activedescendant:!!r||null,disabled:!!a||null})]}})+p.node("li",p.node("button",l.clear,l.klass.buttonClear,"type=button data-clear=1"+(e?"":" disabled")+" "+p.ariaAttr({controls:s.$node[0].id})),"",p.ariaAttr({role:"presentation"})),l.klass.list,p.ariaAttr({role:"listbox",controls:s.$node[0].id}))},i.defaults={clear:"Clear",format:"h:i A",interval:30,closeOnSelect:!0,closeOnClear:!0,klass:{picker:(t=e.klasses().picker)+" "+t+"--time",holder:t+"__holder",list:t+"__list",listItem:t+"__list-item",disabled:t+"__list-item--disabled",selected:t+"__list-item--selected",highlighted:t+"__list-item--highlighted",viewset:t+"__list-item--viewset",now:t+"__list-item--now",buttonClear:t+"__button--clear"}},e.extend("pickatime",i)}),[].map||(Array.prototype.map=function(e,t){for(var i=this.length,n=new Array(i),r=0;r<i;r++)r in this&&(n[r]=e.call(t,this[r],r,this));return n}),[].filter||(Array.prototype.filter=function(e){if(null==this)throw new TypeError;var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var n=[],r=arguments[1],a=0;a<i;a++)if(a in t){var o=t[a];e.call(r,o,a,t)&&n.push(o)}return n}),[].indexOf||(Array.prototype.indexOf=function(e){if(null==this)throw new TypeError;var t=Object(this),i=t.length>>>0;if(0===i)return-1;var n=0;if(1<arguments.length&&((n=Number(arguments[1]))!=n?n=0:0!==n&&n!=1/0&&n!=-1/0&&(n=(0<n||-1)*Math.floor(Math.abs(n)))),i<=n)return-1;for(var r=0<=n?n:Math.max(i-Math.abs(n),0);r<i;r++)if(r in t&&t[r]===e)return r;return-1});var nativeSplit=String.prototype.split,compliantExecNpcg=void 0===/()??/.exec("")[1];function UM_check_password_matched(){jQuery(document).on("keyup","input[data-key=user_password],input[data-key=confirm_user_password]",function(e){var t=jQuery("input[data-key=user_password]").val(),i=jQuery("input[data-key=confirm_user_password]").val(),n=jQuery("input[data-key=user_password],input[data-key=confirm_user_password]");t||i?t!==i?n.removeClass("um-validate-matched").addClass("um-validate-not-matched"):n.removeClass("um-validate-not-matched").addClass("um-validate-matched"):n.removeClass("um-validate-matched").removeClass("um-validate-not-matched")})}function UM_hide_menus(){menu=jQuery(".um-dropdown"),menu.parents("div").find("a").removeClass("active"),menu.hide()}function UM_domenus(){jQuery(".um-dropdown").each(function(){var e=jQuery(this),t=jQuery(this).attr("data-element"),i=jQuery(this).attr("data-position");jQuery(t).addClass("um-trigger-menu-on-"+e.attr("data-trigger")),jQuery(window).width()<=1200&&"div.um-profile-edit"==t&&(i="lc"),"lc"==i&&(jQuery(t).find("img").width()<200?left_p=(jQuery(t).width()-jQuery(t).find("img").width())/2+(jQuery(t).find("img").width()-200)/2:left_p=(jQuery(t).width()-jQuery(t).find("img").width())/2,top_=parseInt(jQuery(t).find("a").css("top")),top_?(top_p=jQuery(t).find("img").height()+4+top_,left_gap=4):(top_p=jQuery(t).find("img").height()+4,left_gap=0),4==top_p&&"div.um-cover"==t?top_p=jQuery(t).height()/2+e.height()/2:4==top_p&&(top_p=jQuery(t).height()+20),gap_right=jQuery(t).width()+17,e.css({top:0,width:200,left:"auto",right:gap_right+"px","text-align":"center"}),e.find(".um-dropdown-arr").find("i").removeClass().addClass("um-icon-arrow-right-b"),e.find(".um-dropdown-arr").css({top:"4px",left:"auto",right:"-17px"})),"bc"==i&&(jQuery(t).find("img").width()<200?left_p=(jQuery(t).width()-jQuery(t).find("img").width())/2+(jQuery(t).find("img").width()-200)/2:left_p=(jQuery(t).width()-jQuery(t).find("img").width())/2,top_=parseInt(jQuery(t).find("a").css("top")),top_?(top_p=jQuery(t).find("img").height()+4+top_,left_gap=4):(top_p=jQuery(t).find("img").height()+4,left_gap=0),4==top_p&&"div.um-cover"==t?top_p=jQuery(t).height()/2+e.height()/2:4==top_p&&(top_p=jQuery(t).height()+20),e.css({top:top_p,width:200,left:left_p+left_gap,right:"auto","text-align":"center"}),e.find(".um-dropdown-arr").find("i").removeClass().addClass("um-icon-arrow-up-b"),e.find(".um-dropdown-arr").css({top:"-17px",left:e.width()/2-12,right:"auto"}))})}function um_responsive(){jQuery(".um").each(function(){element_width=jQuery(this).width(),element_width<=340?(jQuery(this).removeClass("uimob340"),jQuery(this).removeClass("uimob500"),jQuery(this).removeClass("uimob800"),jQuery(this).removeClass("uimob960"),jQuery(this).addClass("uimob340")):element_width<=500?(jQuery(this).removeClass("uimob340"),jQuery(this).removeClass("uimob500"),jQuery(this).removeClass("uimob800"),jQuery(this).removeClass("uimob960"),jQuery(this).addClass("uimob500")):element_width<=800?(jQuery(this).removeClass("uimob340"),jQuery(this).removeClass("uimob500"),jQuery(this).removeClass("uimob800"),jQuery(this).removeClass("uimob960"),jQuery(this).addClass("uimob800")):element_width<=960?(jQuery(this).removeClass("uimob340"),jQuery(this).removeClass("uimob500"),jQuery(this).removeClass("uimob800"),jQuery(this).removeClass("uimob960"),jQuery(this).addClass("uimob960")):960<element_width&&(jQuery(this).removeClass("uimob340"),jQuery(this).removeClass("uimob500"),jQuery(this).removeClass("uimob800"),jQuery(this).removeClass("uimob960")),0<jQuery(".um-account-nav").length&&jQuery(".um-account-side").is(":visible")&&0==jQuery(".um-account-tab:visible").length&&jQuery(".um-account-side li a.current").trigger("click"),jQuery(this).css("opacity",1)}),jQuery(".um-cover, .um-member-cover").each(function(){var e=jQuery(this),t=e.data("ratio"),i=e.width(),n=t.split(":");calcHeight=Math.round(i/n[0])+"px",e.height(calcHeight),e.find(".um-cover-add").height(calcHeight)}),jQuery(".um-members").each(function(){UM_Member_Grid(jQuery(this))}),UM_domenus()}function UM_Member_Grid(e){e.masonry({itemSelector:".um-member",columnWidth:".um-member",gutter:".um-gutter-sizer"})}function initImageUpload_UM(a){a.data("upload_help_text")?upload_help_text='<span class="help">'+a.data("upload_help_text")+"</span>":upload_help_text="",a.data("icon")?icon='<span class="icon"><i class="'+a.data("icon")+'"></i></span>':icon="",a.data("upload_text")?upload_text='<span class="str">'+a.data("upload_text")+"</span>":upload_text="";var e=0;jQuery("#um_upload_single:visible").data("user_id")&&(e=jQuery("#um_upload_single:visible").data("user_id")),a.uploadFile({url:wp.ajax.settings.url,method:"POST",multiple:!1,formData:{action:"um_imageupload",key:a.data("key"),set_id:a.data("set_id"),set_mode:a.data("set_mode"),_wpnonce:a.data("nonce"),timestamp:a.data("timestamp"),user_id:e},fileName:a.data("key"),allowedTypes:a.data("allowed_types"),maxFileSize:a.data("max_size"),dragDropStr:icon+upload_text+upload_help_text,sizeErrorStr:a.data("max_size_error"),extErrorStr:a.data("extension_error"),maxFileCountErrorStr:a.data("max_files_error"),maxFileCount:1,showDelete:!1,showAbort:!1,showDone:!1,showFileCounter:!1,showStatusAfterSuccess:!0,returnType:"json",onSubmit:function(e){a.parents(".um-modal-body").find(".um-error-block").remove()},onSuccess:function(e,t,i){a.selectedFiles=0,t.success&&0==t.success||void 0!==t.data.error?(a.parents(".um-modal-body").append('<div class="um-error-block">'+t.data.error+"</div>"),a.parents(".um-modal-body").find(".upload-statusbar").hide(0),um_modal_responsive()):jQuery.each(t.data,function(e,t){var i=a.parents(".um-modal-body").find(".um-single-image-preview img"),n=a.parents(".um-modal-body").find(".um-single-image-preview"),r=new Date;i.attr("src",t.url+"?"+r.getTime()),i.data("file",t.file),i.load(function(){a.parents(".um-modal-body").find(".um-modal-btn.um-finish-upload.disabled").removeClass("disabled"),a.parents(".um-modal-body").find(".ajax-upload-dragdrop,.upload-statusbar").hide(0),n.show(0),um_modal_responsive()})})},onError:function(e){console.log(e)}})}function initFileUpload_UM(n){n.data("upload_help_text")?upload_help_text='<span class="help">'+n.data("upload_help_text")+"</span>":upload_help_text="",n.data("icon")?icon='<span class="icon"><i class="'+n.data("icon")+'"></i></span>':icon="",n.data("upload_text")?upload_text='<span class="str">'+n.data("upload_text")+"</span>":upload_text="",jQuery("#um_upload_single:visible").data("user_id")&&(user_id=jQuery("#um_upload_single:visible").data("user_id")),n.uploadFile({url:wp.ajax.settings.url,method:"POST",multiple:!1,formData:{action:"um_fileupload",key:n.data("key"),set_id:n.data("set_id"),user_id:n.data("user_id"),set_mode:n.data("set_mode"),_wpnonce:n.data("nonce"),timestamp:n.data("timestamp")},fileName:n.data("key"),allowedTypes:n.data("allowed_types"),maxFileSize:n.data("max_size"),dragDropStr:icon+upload_text+upload_help_text,sizeErrorStr:n.data("max_size_error"),extErrorStr:n.data("extension_error"),maxFileCountErrorStr:n.data("max_files_error"),maxFileCount:1,showDelete:!1,showAbort:!1,showDone:!1,showFileCounter:!1,showStatusAfterSuccess:!0,onSubmit:function(e){n.parents(".um-modal-body").find(".um-error-block").remove()},onSuccess:function(e,t,i){n.selectedFiles=0,t.success&&0==t.success||void 0!==t.data.error?(n.parents(".um-modal-body").append('<div class="um-error-block">'+t.data.error+"</div>"),n.parents(".um-modal-body").find(".upload-statusbar").hide(0)):jQuery.each(t.data,function(e,t){n.parents(".um-modal-body").find(".um-modal-btn.um-finish-upload.disabled").removeClass("disabled"),n.parents(".um-modal-body").find(".ajax-upload-dragdrop,.upload-statusbar").hide(0),n.parents(".um-modal-body").find(".um-single-file-preview").show(0),"icon"==e?n.parents(".um-modal-body").find(".um-single-fileinfo i").removeClass().addClass(t):"icon_bg"==e?n.parents(".um-modal-body").find(".um-single-fileinfo span.icon").css({"background-color":t}):"filename"==e?n.parents(".um-modal-body").find(".um-single-fileinfo a").attr("data-file",t):"original_name"==e?(n.parents(".um-modal-body").find(".um-single-fileinfo a").attr("data-orignal-name",t),n.parents(".um-modal-body").find(".um-single-fileinfo span.filename").html(t)):"url"==e&&n.parents(".um-modal-body").find(".um-single-fileinfo a").attr("href",t)}),setTimeout(function(){um_modal_responsive()},1e3)},onError:function(e){console.log(e)}})}function initCrop_UM(){var t=jQuery(".um-modal .um-single-image-preview img").first(),e=jQuery(".um-modal .um-single-image-preview"),i=t.parent().attr("data-crop"),n=t.parent().attr("data-min_width"),r=t.parent().attr("data-min_height"),a=t.parent().attr("data-ratio");if(jQuery(".um-modal").find("#um_upload_single").attr("data-ratio"))a=(a=jQuery(".um-modal").find("#um_upload_single").attr("data-ratio")).split(":")[0];if(t.length&&""!=t.attr("src")){var o=jQuery(window).height()-(jQuery(".um-modal-footer a").height()+20)-50-jQuery(".um-modal-header:visible").height();if(t.css({height:"auto"}),e.css({height:"auto"}),jQuery(window).height()<=400?(e.css({height:o+"px","max-height":o+"px"}),t.css({height:"auto"})):(t.css({height:"auto","max-height":o+"px"}),e.css({height:t.height(),"max-height":o+"px"})),"square"==i)var s={minWidth:n,minHeight:r,dragCrop:!1,aspectRatio:1,zoomable:!1,rotatable:!1,dashed:!1,done:function(e){t.parent().attr("data-coord",Math.round(e.x)+","+Math.round(e.y)+","+Math.round(e.width)+","+Math.round(e.height))}};else if("cover"==i){0<Math.round(n/a)&&(r=Math.round(n/a));s={minWidth:n,minHeight:r,dragCrop:!1,aspectRatio:a,zoomable:!1,rotatable:!1,dashed:!1,done:function(e){t.parent().attr("data-coord",Math.round(e.x)+","+Math.round(e.y)+","+Math.round(e.width)+","+Math.round(e.height))}}}else if("user"==i)s={minWidth:n,minHeight:r,dragCrop:!0,aspectRatio:"auto",zoomable:!1,rotatable:!1,dashed:!1,done:function(e){t.parent().attr("data-coord",Math.round(e.x)+","+Math.round(e.y)+","+Math.round(e.width)+","+Math.round(e.height))}};0!=i&&(t.cropper(s),jQuery(".um-single-image-preview img.cropper-hidden").cropper("destroy"),jQuery(".um-single-image-preview img.lazyloaded").addClass("cropper-hidden"),jQuery(".um-single-image-preview img.lazyloaded").removeClass("lazyloaded"),jQuery(".um-single-image-preview .cropper-container").append('<div class="um-clear"></div>'))}}function um_new_modal(e,t,i,n){if(0==jQuery("body").find(".um-modal-overlay").length)if(jQuery(".tipsy").hide(),UM_hide_menus(),jQuery("body,html,textarea").css("overflow","hidden"),jQuery(document).bind("touchmove",function(e){e.preventDefault()}),jQuery(".um-modal").on("touchmove",function(e){e.stopPropagation()}),i?jQuery("body").append('<div class="um-modal-overlay"></div><div class="um-modal is-photo"></div>'):jQuery("body").append('<div class="um-modal-overlay"></div><div class="um-modal no-photo"></div>'),jQuery("#"+e).prependTo(".um-modal"),i){jQuery(".um-modal").find(".um-modal-photo").html("<img />");var r=jQuery(".um-modal-photo img"),a=jQuery(window).width()-60,o=jQuery(window).height()-.25*jQuery(window).height();r.attr("src",n),r.load(function(){jQuery("#"+e).show(),jQuery(".um-modal").show(),r.css({opacity:0}),r.css({"max-width":a}),r.css({"max-height":o}),jQuery(".um-modal").css({width:r.width(),"margin-left":"-"+r.width()/2+"px"}),r.animate({opacity:1},1e3),um_modal_responsive()})}else jQuery("#"+e).show(),jQuery(".um-modal").show(),um_modal_size(t),initImageUpload_UM(jQuery(".um-modal:visible").find(".um-single-image-upload")),initFileUpload_UM(jQuery(".um-modal:visible").find(".um-single-file-upload")),um_modal_responsive()}function um_modal_responsive(){var e=jQuery(".um-modal:visible");if(jQuery(".um-modal-body.photo:visible").length){e.removeClass("uimob340"),e.removeClass("uimob500");var t=jQuery(".um-modal-photo img"),i=jQuery(window).width()-60,n=jQuery(window).height()-.25*jQuery(window).height();t.css({opacity:0}),t.css({"max-width":i}),t.css({"max-height":n}),jQuery(".um-modal").css({width:t.width(),"margin-left":"-"+t.width()/2+"px"}),t.animate({opacity:1},1e3);var r=(jQuery(window).height()-e.innerHeight())/2+"px";e.animate({bottom:r},300)}else if(e.length){var a=jQuery(window).width();if(e.removeClass("uimob340"),e.removeClass("uimob500"),a<=340)e.addClass("uimob340"),initCrop_UM(),e.animate({bottom:0},300);else if(a<=500)e.addClass("uimob500"),initCrop_UM(),e.animate({bottom:0},300);else if(a<=800){initCrop_UM();r=(jQuery(window).height()-e.innerHeight())/2+"px";e.animate({bottom:r},300)}else if(a<=960){initCrop_UM();r=(jQuery(window).height()-e.innerHeight())/2+"px";e.animate({bottom:r},300)}else if(960<a){initCrop_UM();r=(jQuery(window).height()-e.innerHeight())/2+"px";e.animate({bottom:r},300)}}}function um_remove_modal(){jQuery("img.cropper-hidden").cropper("destroy"),jQuery("body,html,textarea").css("overflow","auto"),jQuery(document).unbind("touchmove"),jQuery('.um-modal div[id^="um_"]').hide().appendTo("body"),jQuery(".um-modal,.um-modal-overlay").remove()}function um_modal_size(e){jQuery(".um-modal:visible").addClass(e)}function um_modal_add_attr(e,t){jQuery(".um-modal:visible").data(e,t)}function prepare_Modal(){0==jQuery(".um-popup-overlay").length&&(jQuery("body").append('<div class="um-popup-overlay"></div>'),jQuery("body").append('<div class="um-popup"></div>'),jQuery(".um-popup").addClass("loading"),jQuery("body,html").css({overflow:"hidden"}))}function remove_Modal(){jQuery(".um-popup-overlay").length&&(jQuery(".tipsy").remove(),jQuery(".um-popup").empty().remove(),jQuery(".um-popup-overlay").empty().remove(),jQuery("body,html").css({overflow:"auto"}))}function show_Modal(e){jQuery(".um-popup-overlay").length&&(jQuery(".um-popup").removeClass("loading").html(e),jQuery(".um-tip-n").tipsy({gravity:"n",opacity:1,offset:3}),jQuery(".um-tip-w").tipsy({gravity:"w",opacity:1,offset:3}),jQuery(".um-tip-e").tipsy({gravity:"e",opacity:1,offset:3}),jQuery(".um-tip-s").tipsy({gravity:"s",opacity:1,offset:3}))}function responsive_Modal(){jQuery(".um-popup-overlay").length&&(ag_height=jQuery(window).height()-jQuery(".um-popup um-popup-header").outerHeight()-jQuery(".um-popup .um-popup-footer").outerHeight()-80,350<ag_height&&(ag_height=350),jQuery(".um-popup-autogrow:visible").length?(jQuery(".um-popup-autogrow:visible").css({height:ag_height+"px"}),jQuery(".um-popup-autogrow:visible").mCustomScrollbar({theme:"dark-3",mouseWheelPixels:500}).mCustomScrollbar("scrollTo","bottom",{scrollInertia:0})):jQuery(".um-popup-autogrow2:visible").length&&(jQuery(".um-popup-autogrow2:visible").css({"max-height":ag_height+"px"}),jQuery(".um-popup-autogrow2:visible").mCustomScrollbar({theme:"dark-3",mouseWheelPixels:500})))}function um_reset_field(e){jQuery(e).find("div.um-field-area").find("input,textarea,select").not(":button, :submit, :reset, :hidden").val("").removeAttr("checked").removeAttr("selected")}String.prototype.split=function(e,t){var i=this;if("[object RegExp]"!==Object.prototype.toString.call(e))return nativeSplit.call(i,e,t);var n,r,a,o,s=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),u=0;for(e=new RegExp(e.source,l+"g"),i+="",compliantExecNpcg||(n=new RegExp("^"+e.source+"$(?!\\s)",l)),t=void 0===t?-1>>>0:t>>>0;(r=e.exec(i))&&!(u<(a=r.index+r[0].length)&&(s.push(i.slice(u,r.index)),!compliantExecNpcg&&1<r.length&&r[0].replace(n,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(r[e]=void 0)}),1<r.length&&r.index<i.length&&Array.prototype.push.apply(s,r.slice(1)),o=r[0].length,u=a,s.length>=t));)e.lastIndex===r.index&&e.lastIndex++;return u===i.length?!o&&e.test("")||s.push(""):s.push(i.slice(u)),s.length>t?s.slice(0,t):s},function(l){"use strict";var u={init:function(e){return this.each(function(){this.self=l(this),u.destroy.call(this.self),this.opt=l.extend(!0,{},l.fn.raty.defaults,e),u._adjustCallback.call(this),u._adjustNumber.call(this),"img"!==this.opt.starType&&u._adjustStarType.call(this),u._adjustPath.call(this),u._createStars.call(this),this.opt.cancel&&u._createCancel.call(this),this.opt.precision&&u._adjustPrecision.call(this),u._createScore.call(this),u._apply.call(this,this.opt.score),u._target.call(this,this.opt.score),this.opt.readOnly?u._lock.call(this):(this.style.cursor="pointer",u._binds.call(this)),this.self.data("options",this.opt)})},_adjustCallback:function(){for(var e=["number","readOnly","score","scoreName","target"],t=0;t<e.length;t++)"function"==typeof this.opt[e[t]]&&(this.opt[e[t]]=this.opt[e[t]].call(this))},_adjustNumber:function(){this.opt.number=u._between(this.opt.number,1,this.opt.numberMax)},_adjustPath:function(){this.opt.path=this.opt.path||"",this.opt.path&&"/"!==this.opt.path.charAt(this.opt.path.length-1)&&(this.opt.path+="/")},_adjustPrecision:function(){this.opt.half=!0,this.opt.targetType="score"},_adjustStarType:function(){this.opt.path="";for(var e=["cancelOff","cancelOn","starHalf","starOff","starOn"],t=0;t<e.length;t++)this.opt[e[t]]=this.opt[e[t]].replace(".","-")},_apply:function(e){u._fill.call(this,e),e&&(0<e&&this.score.val(u._between(e,0,this.opt.number)),u._roundStars.call(this,e))},_between:function(e,t,i){return Math.min(Math.max(parseFloat(e),t),i)},_binds:function(){this.cancel&&(u._bindOverCancel.call(this),u._bindClickCancel.call(this),u._bindOutCancel.call(this)),u._bindOver.call(this),u._bindClick.call(this),u._bindOut.call(this)},_bindClick:function(){var i=this;i.stars.on("click.raty",function(e){var t=l(this);i.score.val(i.opt.half||i.opt.precision?i.self.data("score"):this.alt||t.data("alt")),i.opt.click&&i.opt.click.call(i,+i.score.val(),e)})},_bindClickCancel:function(){var t=this;t.cancel.on("click.raty",function(e){t.score.removeAttr("value"),t.opt.click&&t.opt.click.call(t,null,e)})},_bindOut:function(){var i=this;i.self.on("mouseleave.raty",function(e){var t=+i.score.val()||void 0;u._apply.call(i,t),u._target.call(i,t,e),i.opt.mouseout&&i.opt.mouseout.call(i,t,e)})},_bindOutCancel:function(){var n=this;n.cancel.on("mouseleave.raty",function(e){var t=n.opt.cancelOff;if("img"!==n.opt.starType&&(t=n.opt.cancelClass+" "+t),u._setIcon.call(n,this,t),n.opt.mouseout){var i=+n.score.val()||void 0;n.opt.mouseout.call(n,i,e)}})},_bindOver:function(){var i=this,e=i.opt.half?"mousemove.raty":"mouseover.raty";i.stars.on(e,function(e){var t=u._getScoreByPosition.call(i,e,this);u._fill.call(i,t),i.opt.half&&(u._roundStars.call(i,t),i.self.data("score",t)),u._target.call(i,t,e),i.opt.mouseover&&i.opt.mouseover.call(i,t,e)})},_bindOverCancel:function(){var n=this;n.cancel.on("mouseover.raty",function(e){var t=n.opt.path+n.opt.starOff,i=n.opt.cancelOn;"img"===n.opt.starType?n.stars.attr("src",t):(i=n.opt.cancelClass+" "+i,n.stars.attr("class",t)),u._setIcon.call(n,this,i),u._target.call(n,null,e),n.opt.mouseover&&n.opt.mouseover.call(n,null)})},_buildScoreField:function(){return l("<input />",{name:this.opt.scoreName,type:"hidden"}).appendTo(this)},_createCancel:function(){var e=this.opt.path+this.opt.cancelOff,t=l("<"+this.opt.starType+" />",{title:this.opt.cancelHint,class:this.opt.cancelClass});"img"===this.opt.starType?t.attr({src:e,alt:"x"}):t.attr("data-alt","x").addClass(e),"left"===this.opt.cancelPlace?this.self.prepend("&#160;").prepend(t):this.self.append("&#160;").append(t),this.cancel=t},_createScore:function(){var e=l(this.opt.targetScore);this.score=e.length?e:u._buildScoreField.call(this)},_createStars:function(){for(var e=1;e<=this.opt.number;e++){var t=u._nameForIndex.call(this,e),i={alt:e,src:this.opt.path+this.opt[t]};"img"!==this.opt.starType&&(i={"data-alt":e,class:i.src}),i.title=u._getHint.call(this,e),l("<"+this.opt.starType+" />",i).appendTo(this),this.opt.space&&this.self.append(e<this.opt.number?"&#160;":"")}this.stars=this.self.children(this.opt.starType)},_error:function(e){l(this).text(e),l.error(e)},_fill:function(e){for(var t=0,i=1;i<=this.stars.length;i++){var n,r=this.stars[i-1],a=u._turnOn.call(this,i,e);if(this.opt.iconRange&&this.opt.iconRange.length>t){var o=this.opt.iconRange[t];n=u._getRangeIcon.call(this,o,a),i<=o.range&&u._setIcon.call(this,r,n),i===o.range&&t++}else n=this.opt[a?"starOn":"starOff"],u._setIcon.call(this,r,n)}},_getRangeIcon:function(e,t){return t?e.on||this.opt.starOn:e.off||this.opt.starOff},_getScoreByPosition:function(e,t){var i=parseInt(t.alt||t.getAttribute("data-alt"),10);if(this.opt.half){var n=u._getSize.call(this),r=parseFloat((e.pageX-l(t).offset().left)/n);i=this.opt.precision?i-1+r:i-1+(.5<r?1:.5)}return i},_getSize:function(){var e;return(e="img"===this.opt.starType?this.stars[0].width:parseFloat(this.stars.eq(0).css("font-size")))||u._error.call(this,"Could not be possible get the icon size!"),e},_turnOn:function(e,t){return this.opt.single?e===t:e<=t},_getHint:function(e){var t=this.opt.hints[e-1];return""===t?"":t||e},_lock:function(){var e=parseInt(this.score.val(),10),t=e?u._getHint.call(this,e):this.opt.noRatedMsg;this.style.cursor="",this.title=t,this.score.prop("readonly",!0),this.stars.prop("title",t),this.cancel&&this.cancel.hide(),this.self.data("readonly",!0)},_nameForIndex:function(e){return this.opt.score&&this.opt.score>=e?"starOn":"starOff"},_roundStars:function(e){var t=(e%1).toFixed(2);if(t>this.opt.round.down){var i="starOn";this.opt.halfShow&&t<this.opt.round.up?i="starHalf":t<this.opt.round.full&&(i="starOff");var n=this.opt[i],r=this.stars[Math.ceil(e)-1];u._setIcon.call(this,r,n)}},_setIcon:function(e,t){e["img"===this.opt.starType?"src":"className"]=this.opt.path+t},_setTarget:function(e,t){t&&(t=this.opt.targetFormat.toString().replace("{score}",t)),e.is(":input")?e.val(t):e.html(t)},_target:function(e,t){if(this.opt.target){var i=l(this.opt.target);i.length||u._error.call(this,"Target selector invalid or missing!");var n=t&&"mouseover"===t.type;if(void 0===e)e=this.opt.targetText;else if(null===e)e=n?this.opt.cancelHint:this.opt.targetText;else{"hint"===this.opt.targetType?e=u._getHint.call(this,Math.ceil(e)):this.opt.precision&&(e=parseFloat(e).toFixed(1));var r=t&&"mousemove"===t.type;n||r||this.opt.targetKeep||(e=this.opt.targetText)}u._setTarget.call(this,i,e)}},_unlock:function(){this.style.cursor="pointer",this.removeAttribute("title"),this.score.removeAttr("readonly"),this.self.data("readonly",!1);for(var e=0;e<this.opt.number;e++)this.stars[e].title=u._getHint.call(this,e+1);this.cancel&&this.cancel.css("display","")},cancel:function(t){return this.each(function(){var e=l(this);!0!==e.data("readonly")&&(u[t?"click":"score"].call(e,null),this.score.removeAttr("value"))})},click:function(e){return this.each(function(){!0!==l(this).data("readonly")&&(u._apply.call(this,e),this.opt.click&&this.opt.click.call(this,e,l.Event("click")),u._target.call(this,e))})},destroy:function(){return this.each(function(){var e=l(this),t=e.data("raw");t?e.off(".raty").empty().css({cursor:t.style.cursor}).removeData("readonly"):e.data("raw",e.clone()[0])})},getScore:function(){var e,t=[];return this.each(function(){e=this.score.val(),t.push(e?+e:void 0)}),1<t.length?t:t[0]},move:function(s){return this.each(function(){var e=parseInt(s,10),t=l(this).data("options"),i=(+s).toFixed(1).split(".")[1];e>=t.number&&(e=t.number-1,i=10);var n=u._getSize.call(this)/10,r=l(this.stars[e]),a=r.offset().left+n*parseInt(i,10),o=l.Event("mousemove",{pageX:a});r.trigger(o)})},readOnly:function(t){return this.each(function(){var e=l(this);e.data("readonly")!==t&&(t?(e.off(".raty").children("img").off(".raty"),u._lock.call(this)):(u._binds.call(this),u._unlock.call(this)),e.data("readonly",t))})},reload:function(){return u.set.call(this,{})},score:function(){var e=l(this);return arguments.length?u.setScore.apply(e,arguments):u.getScore.call(e)},set:function(n){return this.each(function(){var e=l(this),t=e.data("options"),i=l.extend({},t,n);e.raty(i)})},setScore:function(e){return this.each(function(){!0!==l(this).data("readonly")&&(u._apply.call(this,e),u._target.call(this,e))})}};l.fn.raty=function(e){return u[e]?u[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void l.error("Method "+e+" does not exist!"):u.init.apply(this,arguments)},l.fn.raty.defaults={cancel:!1,cancelClass:"raty-cancel",cancelHint:"Cancel this rating!",cancelOff:"cancel-off.png",cancelOn:"cancel-on.png",cancelPlace:"left",click:void 0,half:!1,halfShow:!0,hints:["bad","poor","regular","good","gorgeous"],iconRange:void 0,mouseout:void 0,mouseover:void 0,noRatedMsg:"Not rated yet!",number:5,numberMax:20,path:void 0,precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:void 0,scoreName:"score",single:!1,space:!0,starHalf:"star-half.png",starOff:"star-off.png",starOn:"star-on.png",starType:"img",target:void 0,targetFormat:"{score}",targetKeep:!1,targetScore:void 0,targetText:"",targetType:"hint"}}(jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(y){"use strict";var b=y.scrollTo=function(e,t,i){return y(window).scrollTo(e,t,i)};function w(e){return!e.nodeName||-1!==y.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])}function t(e){return y.isFunction(e)||y.isPlainObject(e)?e:{top:e,left:e}}return b.defaults={axis:"xy",duration:0,limit:!0},y.fn.scrollTo=function(e,i,g){"object"==typeof i&&(g=i,i=0),"function"==typeof g&&(g={onAfter:g}),"max"===e&&(e=9e9),g=y.extend({},b.defaults,g),i=i||g.duration;var v=g.queue&&1<g.axis.length;return v&&(i/=2),g.offset=t(g.offset),g.over=t(g.over),this.each(function(){if(null!==e){var l,u=w(this),c=u?this.contentWindow||window:this,d=y(c),h=e,p={};switch(typeof h){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(h)){h=t(h);break}if(!(h=u?y(h):y(h,c)).length)return;case"object":(h.is||h.style)&&(l=(h=y(h)).offset())}var f=y.isFunction(g.offset)&&g.offset(c,h)||g.offset;y.each(g.axis.split(""),function(e,t){var i="x"===t?"Left":"Top",n=i.toLowerCase(),r="scroll"+i,a=d[r](),o=b.max(c,t);if(l)p[r]=l[n]+(u?0:a-d.offset()[n]),g.margin&&(p[r]-=parseInt(h.css("margin"+i),10)||0,p[r]-=parseInt(h.css("border"+i+"Width"),10)||0),p[r]+=f[n]||0,g.over[n]&&(p[r]+=h["x"===t?"width":"height"]()*g.over[n]);else{var s=h[n];p[r]=s.slice&&"%"===s.slice(-1)?parseFloat(s)/100*o:s}g.limit&&/^\d+$/.test(p[r])&&(p[r]=p[r]<=0?0:Math.min(p[r],o)),!e&&1<g.axis.length&&(a===p[r]?p={}:v&&(m(g.onAfterFirst),p={}))}),m(g.onAfter)}function m(e){var t=y.extend({},g,{queue:!0,duration:i,complete:e&&function(){e.call(c,h,g)}});d.animate(p,t)}})},b.max=function(e,t){var i="x"===t?"Width":"Height",n="scroll"+i;if(!w(e))return e[n]-y(e)[i.toLowerCase()]();var r="client"+i,a=e.ownerDocument||e.document,o=a.documentElement,s=a.body;return Math.max(o[n],s[n])-Math.min(o[r],s[r])},y.Tween.propHooks.scrollLeft=y.Tween.propHooks.scrollTop={get:function(e){return y(e.elem)[e.prop]()},set:function(e){var t=this.get(e);if(e.options.interrupt&&e._last&&e._last!==t)return y(e.elem).stop();var i=Math.round(e.now);t!==i&&(y(e.elem)[e.prop](i),e._last=this.get(e))}},b}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(h){function t(e){var t=e||window.event,i=v.call(arguments,1),n=0,r=0,a=0,o=0,s=0,l=0;if((e=h.event.fix(t)).type="mousewheel","detail"in t&&(a=-1*t.detail),"wheelDelta"in t&&(a=t.wheelDelta),"wheelDeltaY"in t&&(a=t.wheelDeltaY),"wheelDeltaX"in t&&(r=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(r=-1*a,a=0),n=0===a?r:a,"deltaY"in t&&(n=a=-1*t.deltaY),"deltaX"in t&&(r=t.deltaX,0===a&&(n=-1*r)),0!==a||0!==r){if(1===t.deltaMode){var u=h.data(this,"mousewheel-line-height");n*=u,a*=u,r*=u}else if(2===t.deltaMode){var c=h.data(this,"mousewheel-page-height");n*=c,a*=c,r*=c}if(o=Math.max(Math.abs(a),Math.abs(r)),(!g||o<g)&&(f(t,g=o)&&(g/=40)),f(t,o)&&(n/=40,r/=40,a/=40),n=Math[1<=n?"floor":"ceil"](n/g),r=Math[1<=r?"floor":"ceil"](r/g),a=Math[1<=a?"floor":"ceil"](a/g),y.settings.normalizeOffset&&this.getBoundingClientRect){var d=this.getBoundingClientRect();s=e.clientX-d.left,l=e.clientY-d.top}return e.deltaX=r,e.deltaY=a,e.deltaFactor=g,e.offsetX=s,e.offsetY=l,e.deltaMode=0,i.unshift(e,n,r,a),m&&clearTimeout(m),m=setTimeout(p,200),(h.event.dispatch||h.event.handle).apply(this,i)}}function p(){g=null}function f(e,t){return y.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var m,g,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],v=Array.prototype.slice;if(h.event.fixHooks)for(var n=e.length;n;)h.event.fixHooks[e[--n]]=h.event.mouseHooks;var y=h.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],t,!1);else this.onmousewheel=t;h.data(this,"mousewheel-line-height",y.getLineHeight(this)),h.data(this,"mousewheel-page-height",y.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],t,!1);else this.onmousewheel=null;h.removeData(this,"mousewheel-line-height"),h.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var t=h(e),i=t["offsetParent"in h.fn?"offsetParent":"parent"]();return i.length||(i=h("body")),parseInt(i.css("fontSize"),10)||parseInt(t.css("fontSize"),10)||16},getPageHeight:function(e){return h(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};h.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(M){var E,p,I,n,r,s,a,m,P,w,v,u,l,c,d,h,f,g,y,b,_,x,j,S,C,k,Q,D,$,L,o,T,A,O,R,H,B,z,q,F,W,U,N,Y,X,G,K,V,Z,J,ee,te,ie,ne,re,e,t,i;e="function"==typeof define&&define.amd,t="undefined"!=typeof module&&module.exports,i="https:"==document.location.protocol?"https:":"http:",e||(t?require("jquery-mousewheel")(M):M.event.special.mousewheel||M("head").append(decodeURI("%3Cscript src="+i+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.12/jquery.mousewheel.min.js%3E%3C/script%3E"))),p="mCustomScrollbar",I="mCS",n=".mCustomScrollbar",r={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:!0},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},s=0,a={},m=window.attachEvent&&!window.addEventListener?1:0,P=!1,w=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],v={init:function(o){var o=M.extend(!0,{},r,o),e=u.call(this);if(o.live){var t=o.liveSelector||this.selector||n,i=M(t);if("off"===o.live)return void c(t);a[t]=setTimeout(function(){i.mCustomScrollbar(o),"once"===o.live&&i.length&&c(t)},500)}else c(t);return o.setWidth=o.set_width?o.set_width:o.setWidth,o.setHeight=o.set_height?o.set_height:o.setHeight,o.axis=o.horizontalScroll?"x":d(o.axis),o.scrollInertia=0<o.scrollInertia&&o.scrollInertia<17?17:o.scrollInertia,"object"!=typeof o.mouseWheel&&1==o.mouseWheel&&(o.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),o.mouseWheel.scrollAmount=o.mouseWheelPixels?o.mouseWheelPixels:o.mouseWheel.scrollAmount,o.mouseWheel.normalizeDelta=o.advanced.normalizeMouseWheelDelta?o.advanced.normalizeMouseWheelDelta:o.mouseWheel.normalizeDelta,o.scrollButtons.scrollType=h(o.scrollButtons.scrollType),l(o),M(e).each(function(){var e=M(this);if(!e.data(I)){e.data(I,{idx:++s,opt:o,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:e.css("direction"),cbOffsets:null,trigger:null});var t=e.data(I),i=t.opt,n=e.data("mcs-axis"),r=e.data("mcs-scrollbar-position"),a=e.data("mcs-theme");n&&(i.axis=n),r&&(i.scrollbarPosition=r),a&&(i.theme=a,l(i)),f.call(this),M("#mCSB_"+t.idx+"_container img:not(."+w[2]+")").addClass(w[2]),v.update.call(null,e)}})},update:function(e,o){var t=e||u.call(this);return M(t).each(function(){var e=M(this);if(e.data(I)){var t=e.data(I),i=t.opt,n=M("#mCSB_"+t.idx+"_container"),r=[M("#mCSB_"+t.idx+"_dragger_vertical"),M("#mCSB_"+t.idx+"_dragger_horizontal")];if(!n.length)return;t.tweenRunning&&G(e),e.hasClass(w[3])&&e.removeClass(w[3]),e.hasClass(w[4])&&e.removeClass(w[4]),_.call(this),y.call(this),"y"===i.axis||i.advanced.autoExpandHorizontalScroll||n.css("width",g(n.children())),t.overflowed=C.call(this),$.call(this),i.autoDraggerLength&&x.call(this),j.call(this),Q.call(this);var a=[Math.abs(n[0].offsetTop),Math.abs(n[0].offsetLeft)];"x"!==i.axis&&(t.overflowed[0]?r[0].height()>r[0].parent().height()?k.call(this):(K(e,a[0].toString(),{dir:"y",dur:0,overwrite:"none"}),t.contentReset.y=null):(k.call(this),"y"===i.axis?D.call(this):"yx"===i.axis&&t.overflowed[1]&&K(e,a[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==i.axis&&(t.overflowed[1]?r[1].width()>r[1].parent().width()?k.call(this):(K(e,a[1].toString(),{dir:"x",dur:0,overwrite:"none"}),t.contentReset.x=null):(k.call(this),"x"===i.axis?D.call(this):"yx"===i.axis&&t.overflowed[0]&&K(e,a[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),o&&t&&(2===o&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===o&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),X.call(this)}})},scrollTo:function(s,l){if(void 0!==s&&null!=s){var e=u.call(this);return M(e).each(function(){var e=M(this);if(e.data(I)){var t=e.data(I),i=t.opt,n={trigger:"external",scrollInertia:i.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},r=M.extend(!0,{},n,l),a=N.call(this,s),o=0<r.scrollInertia&&r.scrollInertia<17?17:r.scrollInertia;a[0]=Y.call(this,a[0],"y"),a[1]=Y.call(this,a[1],"x"),r.moveDragger&&(a[0]*=t.scrollRatio.y,a[1]*=t.scrollRatio.x),r.dur=o,setTimeout(function(){null!==a[0]&&void 0!==a[0]&&"x"!==i.axis&&t.overflowed[0]&&(r.dir="y",r.overwrite="all",K(e,a[0].toString(),r)),null!==a[1]&&void 0!==a[1]&&"y"!==i.axis&&t.overflowed[1]&&(r.dir="x",r.overwrite="none",K(e,a[1].toString(),r))},r.timeout)}})}},stop:function(){var e=u.call(this);return M(e).each(function(){var e=M(this);e.data(I)&&G(e)})},disable:function(t){var e=u.call(this);return M(e).each(function(){var e=M(this);e.data(I)&&(e.data(I),X.call(this,"remove"),D.call(this),t&&k.call(this),$.call(this,!0),e.addClass(w[3]))})},destroy:function(){var o=u.call(this);return M(o).each(function(){var e=M(this);if(e.data(I)){var t=e.data(I),i=t.opt,n=M("#mCSB_"+t.idx),r=M("#mCSB_"+t.idx+"_container"),a=M(".mCSB_"+t.idx+"_scrollbar");i.live&&c(i.liveSelector||M(o).selector),X.call(this,"remove"),D.call(this),k.call(this),e.removeData(I),ee(this,"mcs"),a.remove(),r.find("img."+w[2]).removeClass(w[2]),n.replaceWith(r.contents()),e.removeClass(p+" _"+I+"_"+t.idx+" "+w[6]+" "+w[7]+" "+w[5]+" "+w[3]).addClass(w[4])}})}},u=function(){return"object"!=typeof M(this)||M(this).length<1?n:this},l=function(e){e.autoDraggerLength=!(-1<M.inArray(e.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"]))&&e.autoDraggerLength,e.autoExpandScrollbar=!(-1<M.inArray(e.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"]))&&e.autoExpandScrollbar,e.scrollButtons.enable=!(-1<M.inArray(e.theme,["minimal","minimal-dark"]))&&e.scrollButtons.enable,e.autoHideScrollbar=-1<M.inArray(e.theme,["minimal","minimal-dark"])||e.autoHideScrollbar,e.scrollbarPosition=-1<M.inArray(e.theme,["minimal","minimal-dark"])?"outside":e.scrollbarPosition},c=function(e){a[e]&&(clearTimeout(a[e]),ee(a,e))},d=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},h=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},f=function(){var e=M(this),t=e.data(I),i=t.opt,n=i.autoExpandScrollbar?" "+w[1]+"_expand":"",r=["<div id='mCSB_"+t.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+t.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+n+"'><div class='"+w[12]+"'><div id='mCSB_"+t.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+t.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+t.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+n+"'><div class='"+w[12]+"'><div id='mCSB_"+t.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],a="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",o="yx"===i.axis?r[0]+r[1]:"x"===i.axis?r[1]:r[0],s="yx"===i.axis?"<div id='mCSB_"+t.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",l=i.autoHideScrollbar?" "+w[6]:"",u="x"!==i.axis&&"rtl"===t.langDir?" "+w[7]:"";i.setWidth&&e.css("width",i.setWidth),i.setHeight&&e.css("height",i.setHeight),i.setLeft="y"!==i.axis&&"rtl"===t.langDir?"989999px":i.setLeft,e.addClass(p+" _"+I+"_"+t.idx+l+u).wrapInner("<div id='mCSB_"+t.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+a+"'><div id='mCSB_"+t.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir="+t.langDir+" /></div>");var c=M("#mCSB_"+t.idx),d=M("#mCSB_"+t.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||d.css("width",g(d.children())),"outside"===i.scrollbarPosition?("static"===e.css("position")&&e.css("position","relative"),e.css("overflow","visible"),c.addClass("mCSB_outside").after(o)):(c.addClass("mCSB_inside").append(o),d.wrap(s)),b.call(this);var h=[M("#mCSB_"+t.idx+"_dragger_vertical"),M("#mCSB_"+t.idx+"_dragger_horizontal")];h[0].css("min-height",h[0].height()),h[1].css("min-width",h[1].width())},g=function(e){return Math.max.apply(Math,e.map(function(){return M(this).outerWidth(!0)}).get())},y=function(){var e=M(this),t=e.data(I),i=t.opt,n=M("#mCSB_"+t.idx+"_container");i.advanced.autoExpandHorizontalScroll&&"y"!==i.axis&&n.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(n[0].getBoundingClientRect().right+.4)-Math.floor(n[0].getBoundingClientRect().left),position:"relative"}).unwrap()},b=function(){var e=M(this),t=e.data(I),i=t.opt,n=M(".mCSB_"+t.idx+"_scrollbar:first"),r=ne(i.scrollButtons.tabindex)?"tabindex='"+i.scrollButtons.tabindex+"'":"",a=["<a href='#' class='"+w[13]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+w[14]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+w[15]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+w[16]+"' oncontextmenu='return false;' "+r+" />"],o=["x"===i.axis?a[2]:a[0],"x"===i.axis?a[3]:a[1],a[2],a[3]];i.scrollButtons.enable&&n.prepend(o[0]).append(o[1]).next(".mCSB_scrollTools").prepend(o[2]).append(o[3])},_=function(){var e=M(this),t=e.data(I),i=M("#mCSB_"+t.idx),n=e.css("max-height")||"none",r=-1!==n.indexOf("%"),a=e.css("box-sizing");if("none"!==n){var o=r?e.parent().height()*parseInt(n)/100:parseInt(n);"border-box"===a&&(o-=e.innerHeight()-e.height()+(e.outerHeight()-e.innerHeight())),i.css("max-height",Math.round(o))}},x=function(){var e=M(this),t=e.data(I),i=M("#mCSB_"+t.idx),n=M("#mCSB_"+t.idx+"_container"),r=[M("#mCSB_"+t.idx+"_dragger_vertical"),M("#mCSB_"+t.idx+"_dragger_horizontal")],a=[i.height()/n.outerHeight(!1),i.width()/n.outerWidth(!1)],o=[parseInt(r[0].css("min-height")),Math.round(a[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(a[1]*r[1].parent().width())],s=m&&o[1]<o[0]?o[0]:o[1],l=m&&o[3]<o[2]?o[2]:o[3];r[0].css({height:s,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":o[0]+"px"}),r[1].css({width:l,"max-width":r[1].parent().width()-10})},j=function(){var e=M(this),t=e.data(I),i=M("#mCSB_"+t.idx),n=M("#mCSB_"+t.idx+"_container"),r=[M("#mCSB_"+t.idx+"_dragger_vertical"),M("#mCSB_"+t.idx+"_dragger_horizontal")],a=[n.outerHeight(!1)-i.height(),n.outerWidth(!1)-i.width()],o=[a[0]/(r[0].parent().height()-r[0].height()),a[1]/(r[1].parent().width()-r[1].width())];t.scrollRatio={y:o[0],x:o[1]}},S=function(e,t,i){var n=i?w[0]+"_expanded":"",r=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(w[0]+" "+n),r.toggleClass(w[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(w[0]),r.removeClass(w[1])):(e.addClass(w[0]),r.addClass(w[1])))},C=function(){var e=M(this),t=e.data(I),i=M("#mCSB_"+t.idx),n=M("#mCSB_"+t.idx+"_container"),r=null==t.overflowed?n.height():n.outerHeight(!1),a=null==t.overflowed?n.width():n.outerWidth(!1);return[r>i.height(),a>i.width()]},k=function(){var e=M(this),t=e.data(I),i=t.opt,n=M("#mCSB_"+t.idx),r=M("#mCSB_"+t.idx+"_container"),a=[M("#mCSB_"+t.idx+"_dragger_vertical"),M("#mCSB_"+t.idx+"_dragger_horizontal")];if(G(e),("x"!==i.axis&&!t.overflowed[0]||"y"===i.axis&&t.overflowed[0])&&(a[0].add(r).css("top",0),K(e,"_resetY")),"y"!==i.axis&&!t.overflowed[1]||"x"===i.axis&&t.overflowed[1]){var o=dx=0;"rtl"===t.langDir&&(o=n.width()-r.outerWidth(!1),dx=Math.abs(o/t.scrollRatio.x)),r.css("left",o),a[1].css("left",dx),K(e,"_resetX")}},Q=function(){var t,i=M(this),e=i.data(I),n=e.opt;e.bindEvents||(o.call(this),n.contentTouchScroll&&T.call(this),A.call(this),n.mouseWheel.enable&&function e(){t=setTimeout(function(){M.event.special.mousewheel?(clearTimeout(t),O.call(i[0])):e()},100)}(),B.call(this),q.call(this),n.advanced.autoScrollOnFocus&&z.call(this),n.scrollButtons.enable&&F.call(this),n.keyboard.enable&&W.call(this),e.bindEvents=!0)},D=function(){var e=M(this),t=e.data(I),i=t.opt,n="mCS_"+t.idx,r=".mCSB_"+t.idx+"_scrollbar",a=M("#mCSB_"+t.idx+",#mCSB_"+t.idx+"_container,#mCSB_"+t.idx+"_container_wrapper,"+r+" ."+w[12]+",#mCSB_"+t.idx+"_dragger_vertical,#mCSB_"+t.idx+"_dragger_horizontal,"+r+">a"),o=M("#mCSB_"+t.idx+"_container");i.advanced.releaseDraggableSelectors&&a.add(M(i.advanced.releaseDraggableSelectors)),t.bindEvents&&(M(document).unbind("."+n),a.each(function(){M(this).unbind("."+n)}),clearTimeout(e[0]._focusTimeout),ee(e[0],"_focusTimeout"),clearTimeout(t.sequential.step),ee(t.sequential,"step"),clearTimeout(o[0].onCompleteTimeout),ee(o[0],"onCompleteTimeout"),t.bindEvents=!1)},$=function(e){var t=M(this),i=t.data(I),n=i.opt,r=M("#mCSB_"+i.idx+"_container_wrapper"),a=r.length?r:M("#mCSB_"+i.idx+"_container"),o=[M("#mCSB_"+i.idx+"_scrollbar_vertical"),M("#mCSB_"+i.idx+"_scrollbar_horizontal")],s=[o[0].find(".mCSB_dragger"),o[1].find(".mCSB_dragger")];"x"!==n.axis&&(i.overflowed[0]&&!e?(o[0].add(s[0]).add(o[0].children("a")).css("display","block"),a.removeClass(w[8]+" "+w[10])):(n.alwaysShowScrollbar?(2!==n.alwaysShowScrollbar&&s[0].css("display","none"),a.removeClass(w[10])):(o[0].css("display","none"),a.addClass(w[10])),a.addClass(w[8]))),"y"!==n.axis&&(i.overflowed[1]&&!e?(o[1].add(s[1]).add(o[1].children("a")).css("display","block"),a.removeClass(w[9]+" "+w[11])):(n.alwaysShowScrollbar?(2!==n.alwaysShowScrollbar&&s[1].css("display","none"),a.removeClass(w[11])):(o[1].css("display","none"),a.addClass(w[11])),a.addClass(w[9]))),i.overflowed[0]||i.overflowed[1]?t.removeClass(w[5]):t.addClass(w[5])},L=function(e){var t=e.type;switch(t){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return e.target.ownerDocument!==document?[e.originalEvent.screenY,e.originalEvent.screenX,!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var i=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],n=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[i.screenY,i.screenX,1<n]:[i.pageY,i.pageX,1<n];default:return[e.pageY,e.pageX,!1]}},o=function(){function o(e){var t=f.find("iframe");if(t.length){var i=e?"auto":"none";t.css("pointer-events",i)}}function r(e,t,i,n){if(f[0].idleTimer=h.scrollInertia<233?250:0,s.attr("id")===p[1])var r="x",a=(s[0].offsetLeft-t+n)*d.scrollRatio.x;else var r="y",a=(s[0].offsetTop-e+i)*d.scrollRatio.y;K(c,a.toString(),{dir:r,drag:!0})}var s,l,u,c=M(this),d=c.data(I),h=d.opt,e="mCS_"+d.idx,p=["mCSB_"+d.idx+"_dragger_vertical","mCSB_"+d.idx+"_dragger_horizontal"],f=M("#mCSB_"+d.idx+"_container"),t=M("#"+p[0]+",#"+p[1]),i=h.advanced.releaseDraggableSelectors?t.add(M(h.advanced.releaseDraggableSelectors)):t;t.bind("mousedown."+e+" touchstart."+e+" pointerdown."+e+" MSPointerDown."+e,function(e){if(e.stopImmediatePropagation(),e.preventDefault(),te(e)){P=!0,m&&(document.onselectstart=function(){return!1}),o(!1),G(c);var t=(s=M(this)).offset(),i=L(e)[0]-t.top,n=L(e)[1]-t.left,r=s.height()+t.top,a=s.width()+t.left;i<r&&0<i&&n<a&&0<n&&(l=i,u=n),S(s,"active",h.autoExpandScrollbar)}}).bind("touchmove."+e,function(e){e.stopImmediatePropagation(),e.preventDefault();var t=s.offset(),i=L(e)[0]-t.top,n=L(e)[1]-t.left;r(l,u,i,n)}),M(document).bind("mousemove."+e+" pointermove."+e+" MSPointerMove."+e,function(e){if(s){var t=s.offset(),i=L(e)[0]-t.top,n=L(e)[1]-t.left;if(l===i)return;r(l,u,i,n)}}).add(i).bind("mouseup."+e+" touchend."+e+" pointerup."+e+" MSPointerUp."+e,function(){s&&(S(s,"active",h.autoExpandScrollbar),s=null),P=!1,m&&(document.onselectstart=null),o(!0)})},T=function(){function t(e){if(!ie(e)||P||L(e)[2])E=0;else{E=1,j=x=0;var t=Q.offset();u=L(e)[0]-t.top,h=L(e)[1]-t.left,O=[L(e)[0],L(e)[1]]}}function i(e){if(ie(e)&&!P&&!L(e)[2]&&(e.stopImmediatePropagation(),!j||x)){g=Z();var t=S.offset(),i=L(e)[0]-t.top,n=L(e)[1]-t.left,r="mcsLinearOut";if($.push(i),T.push(n),O[2]=Math.abs(L(e)[0]-O[0]),O[3]=Math.abs(L(e)[1]-O[1]),C.overflowed[0])var a=D[0].parent().height()-D[0].height(),o=0<u-i&&i-u>-a*C.scrollRatio.y&&(2*O[3]<O[2]||"yx"===k.axis);if(C.overflowed[1])var s=D[1].parent().width()-D[1].width(),l=0<h-n&&n-h>-s*C.scrollRatio.x&&(2*O[2]<O[3]||"yx"===k.axis);o||l?(e.preventDefault(),x=1):j=1,w="yx"===k.axis?[u-i,h-n]:"x"===k.axis?[null,h-n]:[u-i,null],Q[0].idleTimer=250,C.overflowed[0]&&d(w[0],0,r,"y","all",!0),C.overflowed[1]&&d(w[1],0,r,"x",A,!0)}}function n(e){if(!ie(e)||P||L(e)[2])E=0;else{E=1,e.stopImmediatePropagation(),G(o),m=Z();var t=S.offset();p=L(e)[0]-t.top,f=L(e)[1]-t.left,$=[],T=[]}}function r(e){if(ie(e)&&!P&&!L(e)[2]){e.stopImmediatePropagation(),j=x=0,v=Z();var t=S.offset(),i=L(e)[0]-t.top,n=L(e)[1]-t.left;if(!(30<v-g)){var r="mcsEaseOut",a=(b=1e3/(v-m))<2.5,o=a?[$[$.length-2],T[T.length-2]]:[0,0];y=a?[i-o[0],n-o[1]]:[i-p,n-f];var s=[Math.abs(y[0]),Math.abs(y[1])];b=a?[Math.abs(y[0]/4),Math.abs(y[1]/4)]:[b,b];var l=[Math.abs(Q[0].offsetTop)-y[0]*c(s[0]/b[0],b[0]),Math.abs(Q[0].offsetLeft)-y[1]*c(s[1]/b[1],b[1])];w="yx"===k.axis?[l[0],l[1]]:"x"===k.axis?[null,l[1]]:[l[0],null],_=[4*s[0]+k.scrollInertia,4*s[1]+k.scrollInertia];var u=parseInt(k.contentTouchScroll)||0;w[0]=u<s[0]?w[0]:0,w[1]=u<s[1]?w[1]:0,C.overflowed[0]&&d(w[0],_[0],r,"y",A,!1),C.overflowed[1]&&d(w[1],_[1],r,"x",A,!1)}}}function c(e,t){var i=[1.5*t,2*t,t/1.5,t/2];return 90<e?4<t?i[0]:i[3]:60<e?3<t?i[3]:i[2]:30<e?8<t?i[1]:6<t?i[0]:4<t?t:i[2]:8<t?t:i[3]}function d(e,t,i,n,r,a){e&&K(o,e.toString(),{dur:t,scrollEasing:i,dir:n,overwrite:r,drag:a})}var u,h,p,f,m,g,v,y,b,w,_,x,j,o=M(this),C=o.data(I),k=C.opt,e="mCS_"+C.idx,S=M("#mCSB_"+C.idx),Q=M("#mCSB_"+C.idx+"_container"),D=[M("#mCSB_"+C.idx+"_dragger_vertical"),M("#mCSB_"+C.idx+"_dragger_horizontal")],$=[],T=[],A="yx"===k.axis?"none":"all",O=[],a=Q.find("iframe"),s=["touchstart."+e+" pointerdown."+e+" MSPointerDown."+e,"touchmove."+e+" pointermove."+e+" MSPointerMove."+e,"touchend."+e+" pointerup."+e+" MSPointerUp."+e];Q.bind(s[0],function(e){t(e)}).bind(s[1],function(e){i(e)}),S.bind(s[0],function(e){n(e)}).bind(s[2],function(e){r(e)}),a.length&&a.each(function(){M(this).load(function(){R(this)&&M(this.contentDocument||this.contentWindow.document).bind(s[0],function(e){t(e),n(e)}).bind(s[1],function(e){i(e)}).bind(s[2],function(e){r(e)})})})},A=function(){function r(e,t,i){l.type=i&&a?"stepped":"stepless",l.scrollAmount=10,U(n,e,t,"mcsLinearOut",i?60:null)}var a,n=M(this),o=n.data(I),s=o.opt,l=o.sequential,e="mCS_"+o.idx,u=M("#mCSB_"+o.idx+"_container"),c=u.parent();u.bind("mousedown."+e,function(){E||a||(a=1,P=!0)}).add(document).bind("mousemove."+e,function(e){if(!E&&a&&(window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&document.selection.createRange().text)){var t=u.offset(),i=L(e)[0]-t.top+u[0].offsetTop,n=L(e)[1]-t.left+u[0].offsetLeft;0<i&&i<c.height()&&0<n&&n<c.width()?l.step&&r("off",null,"stepped"):("x"!==s.axis&&o.overflowed[0]&&(i<0?r("on",38):i>c.height()&&r("on",40)),"y"!==s.axis&&o.overflowed[1]&&(n<0?r("on",37):n>c.width()&&r("on",39)))}}).bind("mouseup."+e,function(){E||(a&&(a=0,r("off",null)),P=!1)})},O=function(){function i(e,t){if(G(c),!H(c,e.target)){var i="auto"!==h.mouseWheel.deltaFactor?parseInt(h.mouseWheel.deltaFactor):m&&e.deltaFactor<100?100:e.deltaFactor||100;if("x"===h.axis||"x"===h.mouseWheel.axis)var n="x",r=[Math.round(i*d.scrollRatio.x),parseInt(h.mouseWheel.scrollAmount)],a="auto"!==h.mouseWheel.scrollAmount?r[1]:r[0]>=p.width()?.9*p.width():r[0],o=Math.abs(M("#mCSB_"+d.idx+"_container")[0].offsetLeft),s=f[1][0].offsetLeft,l=f[1].parent().width()-f[1].width(),u=e.deltaX||e.deltaY||t;else var n="y",r=[Math.round(i*d.scrollRatio.y),parseInt(h.mouseWheel.scrollAmount)],a="auto"!==h.mouseWheel.scrollAmount?r[1]:r[0]>=p.height()?.9*p.height():r[0],o=Math.abs(M("#mCSB_"+d.idx+"_container")[0].offsetTop),s=f[0][0].offsetTop,l=f[0].parent().height()-f[0].height(),u=e.deltaY||t;"y"===n&&!d.overflowed[0]||"x"===n&&!d.overflowed[1]||(h.mouseWheel.invert&&(u=-u),h.mouseWheel.normalizeDelta&&(u=u<0?-1:1),(0<u&&0!==s||u<0&&s!==l||h.mouseWheel.preventDefault)&&(e.stopImmediatePropagation(),e.preventDefault()),K(c,(o-u*a).toString(),{dir:n}))}}var c=M(this),d=c.data(I),h=d.opt,e="mCS_"+d.idx,p=M("#mCSB_"+d.idx),f=[M("#mCSB_"+d.idx+"_dragger_vertical"),M("#mCSB_"+d.idx+"_dragger_horizontal")],t=M("#mCSB_"+d.idx+"_container").find("iframe");d&&(t.length&&t.each(function(){M(this).load(function(){R(this)&&M(this.contentDocument||this.contentWindow.document).bind("mousewheel."+e,function(e,t){i(e,t)})})}),p.bind("mousewheel."+e,function(e,t){i(e,t)}))},R=function(e){var t=null;try{var i=e.contentDocument||e.contentWindow.document;t=i.body.innerHTML}catch(e){}return null!==t},H=function(e,t){var i=t.nodeName.toLowerCase(),n=e.data(I).opt.mouseWheel.disableOver;return-1<M.inArray(i,n)&&!(-1<M.inArray(i,["select","textarea"])&&!M(t).is(":focus"))},B=function(){var o=M(this),s=o.data(I),e="mCS_"+s.idx,l=M("#mCSB_"+s.idx+"_container"),u=l.parent(),t=M(".mCSB_"+s.idx+"_scrollbar ."+w[12]);t.bind("touchstart."+e+" pointerdown."+e+" MSPointerDown."+e,function(){P=!0}).bind("touchend."+e+" pointerup."+e+" MSPointerUp."+e,function(){P=!1}).bind("click."+e,function(e){if(M(e.target).hasClass(w[12])||M(e.target).hasClass("mCSB_draggerRail")){G(o);var t=M(this),i=t.find(".mCSB_dragger");if(0<t.parent(".mCSB_scrollTools_horizontal").length){if(!s.overflowed[1])return;var n="x",r=e.pageX>i.offset().left?-1:1,a=Math.abs(l[0].offsetLeft)-.9*r*u.width()}else{if(!s.overflowed[0])return;var n="y",r=e.pageY>i.offset().top?-1:1,a=Math.abs(l[0].offsetTop)-.9*r*u.height()}K(o,a.toString(),{dir:n,scrollEasing:"mcsEaseInOut"})}})},z=function(){var a=M(this),e=a.data(I),o=e.opt,t="mCS_"+e.idx,s=M("#mCSB_"+e.idx+"_container"),l=s.parent();s.bind("focusin."+t,function(){var r=M(document.activeElement),e=s.find(".mCustomScrollBox").length;r.is(o.advanced.autoScrollOnFocus)&&(G(a),clearTimeout(a[0]._focusTimeout),a[0]._focusTimer=e?17*e:0,a[0]._focusTimeout=setTimeout(function(){var e=[re(r)[0],re(r)[1]],t=[s[0].offsetTop,s[0].offsetLeft],i=[0<=t[0]+e[0]&&t[0]+e[0]<l.height()-r.outerHeight(!1),0<=t[1]+e[1]&&t[0]+e[1]<l.width()-r.outerWidth(!1)],n="yx"!==o.axis||i[0]||i[1]?"all":"none";"x"===o.axis||i[0]||K(a,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:n,dur:0}),"y"===o.axis||i[1]||K(a,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:n,dur:0})},a[0]._focusTimer))})},q=function(){var e=M(this),t=e.data(I),i="mCS_"+t.idx,n=M("#mCSB_"+t.idx+"_container").parent();n.bind("scroll."+i,function(){(0!==n.scrollTop()||0!==n.scrollLeft())&&M(".mCSB_"+t.idx+"_scrollbar").css("visibility","hidden")})},F=function(){var n=M(this),r=n.data(I),a=r.opt,o=r.sequential,e="mCS_"+r.idx,t=".mCSB_"+r.idx+"_scrollbar",i=M(t+">a");i.bind("mousedown."+e+" touchstart."+e+" pointerdown."+e+" MSPointerDown."+e+" mouseup."+e+" touchend."+e+" pointerup."+e+" MSPointerUp."+e+" mouseout."+e+" pointerout."+e+" MSPointerOut."+e+" click."+e,function(e){function t(e,t){o.scrollAmount=a.snapAmount||a.scrollButtons.scrollAmount,U(n,e,t)}if(e.preventDefault(),te(e)){var i=M(this).attr("class");switch(o.type=a.scrollButtons.scrollType,e.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===o.type)return;P=!0,r.tweenRunning=!1,t("on",i);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===o.type)return;P=!1,o.dir&&t("off",i);break;case"click":if("stepped"!==o.type||r.tweenRunning)return;t("on",i)}}})},W=function(){function t(e){function t(e,t){c.type=u.keyboard.scrollType,c.scrollAmount=u.snapAmount||u.keyboard.scrollAmount,"stepped"===c.type&&l.tweenRunning||U(s,e,t)}switch(e.type){case"blur":l.tweenRunning&&c.dir&&t("off",null);break;case"keydown":case"keyup":var i=e.keyCode?e.keyCode:e.which,n="on";if("x"!==u.axis&&(38===i||40===i)||"y"!==u.axis&&(37===i||39===i)){if((38===i||40===i)&&!l.overflowed[0]||(37===i||39===i)&&!l.overflowed[1])return;"keyup"===e.type&&(n="off"),M(document.activeElement).is(p)||(e.preventDefault(),e.stopImmediatePropagation(),t(n,i))}else if(33===i||34===i){if((l.overflowed[0]||l.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type){G(s);var r=34===i?-1:1;if("x"===u.axis||"yx"===u.axis&&l.overflowed[1]&&!l.overflowed[0])var a="x",o=Math.abs(d[0].offsetLeft)-.9*r*h.width();else var a="y",o=Math.abs(d[0].offsetTop)-.9*r*h.height();K(s,o.toString(),{dir:a,scrollEasing:"mcsEaseInOut"})}}else if((35===i||36===i)&&!M(document.activeElement).is(p)&&((l.overflowed[0]||l.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type)){if("x"===u.axis||"yx"===u.axis&&l.overflowed[1]&&!l.overflowed[0])var a="x",o=35===i?Math.abs(h.width()-d.outerWidth(!1)):0;else var a="y",o=35===i?Math.abs(h.height()-d.outerHeight(!1)):0;K(s,o.toString(),{dir:a,scrollEasing:"mcsEaseInOut"})}}}var s=M(this),l=s.data(I),u=l.opt,c=l.sequential,e="mCS_"+l.idx,i=M("#mCSB_"+l.idx),d=M("#mCSB_"+l.idx+"_container"),h=d.parent(),p="input,textarea,select,datalist,keygen,[contenteditable='true']",n=d.find("iframe"),r=["blur."+e+" keydown."+e+" keyup."+e];n.length&&n.each(function(){M(this).load(function(){R(this)&&M(this.contentDocument||this.contentWindow.document).bind(r[0],function(e){t(e)})})}),i.attr("tabindex","0").bind(r[0],function(e){t(e)})},U=function(d,e,t,h,p){function f(e){var t="stepped"!==g.type,i=p||(e?t?y/1.5:b:1e3/60),n=e?t?7.5:40:2.5,r=[Math.abs(v[0].offsetTop),Math.abs(v[0].offsetLeft)],a=[10<m.scrollRatio.y?10:m.scrollRatio.y,10<m.scrollRatio.x?10:m.scrollRatio.x],o="x"===g.dir[0]?r[1]+g.dir[1]*a[1]*n:r[0]+g.dir[1]*a[0]*n,s="x"===g.dir[0]?r[1]+g.dir[1]*parseInt(g.scrollAmount):r[0]+g.dir[1]*parseInt(g.scrollAmount),l="auto"!==g.scrollAmount?s:o,u=h||(e?t?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),c=!!e;return e&&i<17&&(l="x"===g.dir[0]?r[1]:r[0]),K(d,l.toString(),{dir:g.dir[0],scrollEasing:u,dur:i,onComplete:c}),e?void(g.dir=!1):(clearTimeout(g.step),void(g.step=setTimeout(function(){f()},i)))}var m=d.data(I),i=m.opt,g=m.sequential,v=M("#mCSB_"+m.idx+"_container"),n="stepped"===g.type,y=i.scrollInertia<26?26:i.scrollInertia,b=i.scrollInertia<1?17:i.scrollInertia;switch(e){case"on":if(g.dir=[t===w[16]||t===w[15]||39===t||37===t?"x":"y",t===w[13]||t===w[15]||38===t||37===t?-1:1],G(d),ne(t)&&"stepped"===g.type)return;f(n);break;case"off":clearTimeout(g.step),ee(g,"step"),G(d),(n||m.tweenRunning&&g.dir)&&f(!0)}},N=function(e){var t=M(this).data(I).opt,i=[];return"function"==typeof e&&(e=e()),e instanceof Array?i=1<e.length?[e[0],e[1]]:"x"===t.axis?[null,e[0]]:[e[0],null]:(i[0]=e.y?e.y:e.x||"x"===t.axis?null:e,i[1]=e.x?e.x:e.y||"y"===t.axis?null:e),"function"==typeof i[0]&&(i[0]=i[0]()),"function"==typeof i[1]&&(i[1]=i[1]()),i},Y=function(e,t){if(null!=e&&void 0!==e){var i=M(this),n=i.data(I),r=n.opt,a=M("#mCSB_"+n.idx+"_container"),o=a.parent(),s=typeof e;t||(t="x"===r.axis?"x":"y");var l="x"===t?a.outerWidth(!1):a.outerHeight(!1),u="x"===t?a[0].offsetLeft:a[0].offsetTop,c="x"===t?"left":"top";switch(s){case"function":return e();case"object":var d=e.jquery?e:M(e);if(!d.length)return;return"x"===t?re(d)[1]:re(d)[0];case"string":case"number":if(ne(e))return Math.abs(e);if(-1!==e.indexOf("%"))return Math.abs(l*parseInt(e)/100);if(-1!==e.indexOf("-="))return Math.abs(u-parseInt(e.split("-=")[1]));if(-1!==e.indexOf("+=")){var h=u+parseInt(e.split("+=")[1]);return 0<=h?0:Math.abs(h)}if(-1!==e.indexOf("px")&&ne(e.split("px")[0]))return Math.abs(e.split("px")[0]);if("top"===e||"left"===e)return 0;if("bottom"===e)return Math.abs(o.height()-a.outerHeight(!1));if("right"===e)return Math.abs(o.width()-a.outerWidth(!1));if("first"===e||"last"===e){var d=a.find(":"+e);return"x"===t?re(d)[1]:re(d)[0]}return M(e).length?"x"===t?re(M(e))[1]:re(M(e))[0]:(a.css(c,e),void v.update.call(null,i[0]))}}},X=function(e){function t(){var e=0;return o.advanced.updateOnImageLoad&&(e=s.find("img").length),e}function i(){!0===o.advanced.updateOnSelectorChange&&(o.advanced.updateOnSelectorChange="*");var e=0,t=s.find(o.advanced.updateOnSelectorChange);return o.advanced.updateOnSelectorChange&&0<t.length&&t.each(function(){e+=M(this).height()+M(this).width()}),e}function r(e){clearTimeout(s[0].autoUpdate),v.update.call(null,n[0],e)}var n=M(this),a=n.data(I),o=a.opt,s=M("#mCSB_"+a.idx+"_container");if(e)return clearTimeout(s[0].autoUpdate),void ee(s[0],"autoUpdate");var l,u,c,d=s.parent(),h=[M("#mCSB_"+a.idx+"_scrollbar_vertical"),M("#mCSB_"+a.idx+"_scrollbar_horizontal")],p=function(){return[h[0].is(":visible")?h[0].outerHeight(!0):0,h[1].is(":visible")?h[1].outerWidth(!0):0]},f=i(),m=[s.outerHeight(!1),s.outerWidth(!1),d.height(),d.width(),p()[0],p()[1]],g=t();!function e(){clearTimeout(s[0].autoUpdate),s[0].autoUpdate=setTimeout(function(){return o.advanced.updateOnSelectorChange&&(l=i())!==f?(r(3),void(f=l)):(o.advanced.updateOnContentResize&&((u=[s.outerHeight(!1),s.outerWidth(!1),d.height(),d.width(),p()[0],p()[1]])[0]!==m[0]||u[1]!==m[1]||u[2]!==m[2]||u[3]!==m[3]||u[4]!==m[4]||u[5]!==m[5])&&(r(u[0]!==m[0]||u[1]!==m[1]),m=u),o.advanced.updateOnImageLoad&&(c=t())!==g&&(s.find("img").each(function(){!function(e){if(M(e).hasClass(w[2]))return r();var t,i,n=new Image;n.onload=(t=n,i=function(){this.onload=null,M(e).addClass(w[2]),r(2)},function(){return i.apply(t,arguments)}),n.src=e.src}(this)}),g=c),void((o.advanced.updateOnSelectorChange||o.advanced.updateOnContentResize||o.advanced.updateOnImageLoad)&&e()))},60)}()},G=function(e){var t=e.data(I),i=M("#mCSB_"+t.idx+"_container,#mCSB_"+t.idx+"_container_wrapper,#mCSB_"+t.idx+"_dragger_vertical,#mCSB_"+t.idx+"_dragger_horizontal");i.each(function(){J.call(this)})},K=function(r,e,a){function t(e){return l&&u.callbacks[e]&&"function"==typeof u.callbacks[e]}function i(){var e=[p[0].offsetTop,p[0].offsetLeft],t=[v[0].offsetTop,v[0].offsetLeft],i=[p.outerHeight(!1),p.outerWidth(!1)],n=[h.height(),h.width()];r[0].mcs={content:p,top:e[0],left:e[1],draggerTop:t[0],draggerLeft:t[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(i[0])-n[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(i[1])-n[1])),direction:a.dir}}var n,o,s,l=r.data(I),u=l.opt,c={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:u.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},a=M.extend(c,a),d=[a.dur,a.drag?0:a.dur],h=M("#mCSB_"+l.idx),p=M("#mCSB_"+l.idx+"_container"),f=p.parent(),m=u.callbacks.onTotalScrollOffset?N.call(r,u.callbacks.onTotalScrollOffset):[0,0],g=u.callbacks.onTotalScrollBackOffset?N.call(r,u.callbacks.onTotalScrollBackOffset):[0,0];if(l.trigger=a.trigger,(0!==f.scrollTop()||0!==f.scrollLeft())&&(M(".mCSB_"+l.idx+"_scrollbar").css("visibility","visible"),f.scrollTop(0).scrollLeft(0)),"_resetY"!==e||l.contentReset.y||(t("onOverflowYNone")&&u.callbacks.onOverflowYNone.call(r[0]),l.contentReset.y=1),"_resetX"!==e||l.contentReset.x||(t("onOverflowXNone")&&u.callbacks.onOverflowXNone.call(r[0]),l.contentReset.x=1),"_resetY"!==e&&"_resetX"!==e){switch(!l.contentReset.y&&r[0].mcs||!l.overflowed[0]||(t("onOverflowY")&&u.callbacks.onOverflowY.call(r[0]),l.contentReset.x=null),!l.contentReset.x&&r[0].mcs||!l.overflowed[1]||(t("onOverflowX")&&u.callbacks.onOverflowX.call(r[0]),l.contentReset.x=null),u.snapAmount&&(n=e,o=u.snapAmount,s=u.snapOffset,e=Math.round(n/o)*o-s),a.dir){case"x":var v=M("#mCSB_"+l.idx+"_dragger_horizontal"),y="left",b=p[0].offsetLeft,w=[h.width()-p.outerWidth(!1),v.parent().width()-v.width()],_=[e,0===e?0:e/l.scrollRatio.x],x=m[1],j=g[1],C=0<x?x/l.scrollRatio.x:0,k=0<j?j/l.scrollRatio.x:0;break;case"y":var v=M("#mCSB_"+l.idx+"_dragger_vertical"),y="top",b=p[0].offsetTop,w=[h.height()-p.outerHeight(!1),v.parent().height()-v.height()],_=[e,0===e?0:e/l.scrollRatio.y],x=m[0],j=g[0],C=0<x?x/l.scrollRatio.y:0,k=0<j?j/l.scrollRatio.y:0}_[1]<0||0===_[0]&&0===_[1]?_=[0,0]:_[1]>=w[1]?_=[w[0],w[1]]:_[0]=-_[0],r[0].mcs||(i(),t("onInit")&&u.callbacks.onInit.call(r[0])),clearTimeout(p[0].onCompleteTimeout),(l.tweenRunning||!(0===b&&0<=_[0]||b===w[0]&&_[0]<=w[0]))&&(V(v[0],y,Math.round(_[1]),d[1],a.scrollEasing),V(p[0],y,Math.round(_[0]),d[0],a.scrollEasing,a.overwrite,{onStart:function(){a.callbacks&&a.onStart&&!l.tweenRunning&&(t("onScrollStart")&&(i(),u.callbacks.onScrollStart.call(r[0])),l.tweenRunning=!0,S(v),l.cbOffsets=[u.callbacks.alwaysTriggerOffsets||b>=w[0]+x,u.callbacks.alwaysTriggerOffsets||b<=-j])},onUpdate:function(){a.callbacks&&a.onUpdate&&t("whileScrolling")&&(i(),u.callbacks.whileScrolling.call(r[0]))},onComplete:function(){if(a.callbacks&&a.onComplete){"yx"===u.axis&&clearTimeout(p[0].onCompleteTimeout);var e=p[0].idleTimer||0;p[0].onCompleteTimeout=setTimeout(function(){t("onScroll")&&(i(),u.callbacks.onScroll.call(r[0])),t("onTotalScroll")&&_[1]>=w[1]-C&&l.cbOffsets[0]&&(i(),u.callbacks.onTotalScroll.call(r[0])),t("onTotalScrollBack")&&_[1]<=k&&l.cbOffsets[1]&&(i(),u.callbacks.onTotalScrollBack.call(r[0])),l.tweenRunning=!1,p[0].idleTimer=0,S(v,"hide")},e)}}}))}},V=function(e,t,i,n,r,a,o){function s(){y.stop||(m||d.call(),m=Z()-f,l(),m>=y.time&&(y.time=m>y.time?m+u-(m-y.time):m+u-1,y.time<m+1&&(y.time=m+1)),y.time<n?y.id=c(s):p.call())}function l(){0<n?(y.currVal=function(e,t,i,n,r){switch(r){case"linear":case"mcsLinear":return i*e/n+t;case"mcsLinearOut":return e/=n,e--,i*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return(e/=n/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t;case"easeInOutStrong":return(e/=n/2)<1?i/2*Math.pow(2,10*(e-1))+t:(e--,i/2*(2-Math.pow(2,-10*e))+t);case"easeInOut":case"mcsEaseInOut":return(e/=n/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t;case"easeOutSmooth":return e/=n,-i*(--e*e*e*e-1)+t;case"easeOutStrong":return i*(1-Math.pow(2,-10*e/n))+t;case"easeOut":case"mcsEaseOut":default:var a=(e/=n)*e,o=a*e;return t+i*(.499999999999997*o*a+-2.5*a*a+5.5*o+-6.5*a+4*e)}}(y.time,g,b,n,r),v[t]=Math.round(y.currVal)+"px"):v[t]=i+"px",h.call()}e._mTween||(e._mTween={top:{},left:{}});var u,c,o=o||{},d=o.onStart||function(){},h=o.onUpdate||function(){},p=o.onComplete||function(){},f=Z(),m=0,g=e.offsetTop,v=e.style,y=e._mTween[t];"left"===t&&(g=e.offsetLeft);var b=i-g;y.stop=0,"none"!==a&&null!=y.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(y.id):clearTimeout(y.id),y.id=null),u=1e3/60,y.time=m+u,c=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return l(),setTimeout(e,.01)},y.id=c(s)},Z=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},J=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],i=0;i<t.length;i++){var n=t[i];e._mTween[n].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[n].id):clearTimeout(e._mTween[n].id),e._mTween[n].id=null,e._mTween[n].stop=1)}},ee=function(t,i){try{delete t[i]}catch(e){t[i]=null}},te=function(e){return!(e.which&&1!==e.which)},ie=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},ne=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},re=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},M.fn[p]=function(e){return v[e]?v[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void M.error("Method "+e+" does not exist"):v.init.apply(this,arguments)},M[p]=function(e){return v[e]?v[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void M.error("Method "+e+" does not exist"):v.init.apply(this,arguments)},M[p].defaults=r,window[p]=!0,M(window).load(function(){M(n)[p](),M.extend(M.expr[":"],{mcsInView:M.expr[":"].mcsInView||function(e){var t,i,n=M(e),r=n.parents(".mCSB_container");if(r.length)return t=r.parent(),0<=(i=[r[0].offsetTop,r[0].offsetLeft])[0]+re(n)[0]&&i[0]+re(n)[0]<t.height()-n.outerHeight(!1)&&0<=i[1]+re(n)[1]&&i[1]+re(n)[1]<t.width()-n.outerWidth(!1)},mcsOverflow:M.expr[":"].mcsOverflow||function(e){var t=M(e).data(I);if(t)return t.overflowed[0]||t.overflowed[1]}})})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(d){"use strict";var t,i=d(window),n=d(document),r=window.location,o=null,s="undefined",l="directive",e=".cropper",u=/^(e|n|w|s|ne|nw|sw|se|all|crop|move|zoom)$/,c=/^(x|y|width|height)$/,a=/^(naturalWidth|naturalHeight|width|height|aspectRatio|ratio|rotate)$/,h="cropper-modal",j="cropper-hidden",p="cropper-invisible",f="cropper-crop",m="cropper-disabled",g="mousedown touchstart",v="mousemove touchmove",y="mouseup mouseleave touchend touchleave touchcancel",b="wheel mousewheel DOMMouseScroll",w="resize"+e,_="dblclick",x="build"+e,C="built"+e,k="dragstart"+e,S="dragmove"+e,Q="dragend"+e,D=function(e){return"number"==typeof e},$=function(e,t){var i=[];return"number"==typeof t&&i.push(t),i.slice.apply(e,i)},T=function(e,t){var i=$(arguments,2);return function(){return e.apply(t,i.concat($(arguments)))}},A=function(e,t){this.element=e,this.$element=d(e),this.defaults=d.extend({},A.DEFAULTS,d.isPlainObject(t)?t:{}),this.$original=o,this.ready=!1,this.built=!1,this.cropped=!1,this.rotated=!1,this.disabled=!1,this.replaced=!1,this.init()},O=Math.sqrt,M=Math.min,E=Math.max,I=Math.abs,P=Math.sin,L=Math.cos,R=parseFloat;A.prototype={constructor:A,support:{canvas:d.isFunction(d("<canvas>")[0].getContext)},init:function(){var i=this.defaults;d.each(i,function(e,t){switch(e){case"aspectRatio":i[e]=I(R(t))||NaN;break;case"autoCropArea":i[e]=I(R(t))||.8;break;case"minWidth":case"minHeight":i[e]=I(R(t))||0;break;case"maxWidth":case"maxHeight":i[e]=I(R(t))||1/0}}),this.image={rotate:0},this.load()},load:function(){var e,t,i=this,n=this.$element,r=this.element,a=this.image,o="";n.is("img")?t=n.prop("src"):n.is("canvas")&&this.support.canvas&&(t=r.toDataURL()),t&&(this.replaced&&(a.rotate=0),this.defaults.checkImageOrigin&&(n.prop("crossOrigin")||this.isCrossOriginURL(t))&&(o=" crossOrigin"),this.$clone=e=d("<img"+o+' src="'+t+'">'),e.one("load",function(){a.naturalWidth=this.naturalWidth||e.width(),a.naturalHeight=this.naturalHeight||e.height(),a.aspectRatio=a.naturalWidth/a.naturalHeight,i.url=t,i.ready=!0,i.build()}),e.addClass(p).prependTo("body"))},isCrossOriginURL:function(e){var t=e.match(/^(https?:)\/\/([^\:\/\?#]+):?(\d*)/i);return!(!t||t[1]===r.protocol&&t[2]===r.hostname&&t[3]===r.port)},build:function(){var e,t,i=this.$element,n=this.defaults;this.ready&&(this.built&&this.unbuild(),i.one(x,n.build),e=d.Event(x),i.trigger(e),e.isDefaultPrevented()||(this.$cropper=t=d(A.TEMPLATE),i.addClass(j),this.$clone.removeClass(p).prependTo(t),this.rotated||(this.$original=this.$clone.clone(),this.$original.addClass(j).prependTo(this.$cropper),this.originalImage=d.extend({},this.image)),this.$container=i.parent(),this.$container.append(t),this.$canvas=t.find(".cropper-canvas"),this.$dragger=t.find(".cropper-dragger"),this.$viewer=t.find(".cropper-viewer"),n.autoCrop?this.cropped=!0:this.$dragger.addClass(j),n.dragCrop&&this.setDragMode("crop"),n.modal&&this.$canvas.addClass(h),!n.dashed&&this.$dragger.find(".cropper-dashed").addClass(j),!n.movable&&this.$dragger.find(".cropper-face").data(l,"move"),!n.resizable&&this.$dragger.find(".cropper-line, .cropper-point").addClass(j),this.addListeners(),this.initPreview(),this.built=!0,this.update(),this.replaced=!1,i.one(C,n.built),i.trigger(C)))},unbuild:function(){this.built&&(this.built=!1,this.removeListeners(),this.$preview.empty(),this.$preview=o,this.$dragger=o,this.$canvas=o,this.$container=o,this.$cropper.remove(),this.$cropper=o)},update:function(e){this.initContainer(),this.initCropper(),this.initImage(),this.initDragger(),e?(this.setData(e,!0),this.setDragMode("crop")):this.setData(this.defaults.data)},resize:function(){clearTimeout(this.resizing),this.resizing=setTimeout(d.proxy(this.update,this,this.getData()),200)},preview:function(){var e=this.image,i=this.dragger,n=e.width,r=e.height,a=i.left-e.left,o=i.top-e.top;this.$viewer.find("img").css({width:n,height:r,marginLeft:-a,marginTop:-o}),this.$preview.each(function(){var e=d(this),t=e.width()/i.width;e.find("img").css({width:n*t,height:r*t,marginLeft:-a*t,marginTop:-o*t})})},addListeners:function(){var e=this.defaults;this.$element.on(k,e.dragstart).on(S,e.dragmove).on(Q,e.dragend),this.$cropper.on(g,d.proxy(this.dragstart,this)).on(_,d.proxy(this.dblclick,this)),e.zoomable&&this.$cropper.on(b,d.proxy(this.wheel,this)),e.multiple?this.$cropper.on(v,d.proxy(this.dragmove,this)).on(y,d.proxy(this.dragend,this)):n.on(v,this._dragmove=T(this.dragmove,this)).on(y,this._dragend=T(this.dragend,this)),i.on(w,this._resize=T(this.resize,this))},removeListeners:function(){var e=this.defaults;this.$element.off(k,e.dragstart).off(S,e.dragmove).off(Q,e.dragend),this.$cropper.off(g,this.dragstart).off(_,this.dblclick),e.zoomable&&this.$cropper.off(b,this.wheel),e.multiple?this.$cropper.off(v,this.dragmove).off(y,this.dragend):n.off(v,this._dragmove).off(y,this._dragend),i.off(w,this._resize)},initPreview:function(){var e='<img src="'+this.url+'">';this.$preview=d(this.defaults.preview),this.$viewer.html(e),this.$preview.html(e).find("img").css("cssText","min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;")},initContainer:function(){var e=this.$container;e!==o&&(this.container={width:E(e.width(),300),height:E(e.height(),150)})},initCropper:function(){var e,t=this.container,i=this.image;0<=i.naturalWidth*t.height/i.naturalHeight-t.width?(e={width:t.width,height:t.width/i.aspectRatio,left:0}).top=(t.height-e.height)/2:(e={width:t.height*i.aspectRatio,height:t.height,top:0}).left=(t.width-e.width)/2,this.$cropper.css({width:e.width,height:e.height,left:e.left,top:e.top}),this.cropper=e},initImage:function(){var e=this.image,t=this.cropper,i={_width:t.width,_height:t.height,width:t.width,height:t.height,left:0,top:0,ratio:t.width/e.naturalWidth};this.defaultImage=d.extend({},e,i),e._width!==t.width||e._height!==t.height?d.extend(e,i):(e=d.extend({},i,e),this.replaced&&(e.ratio=i.ratio)),this.image=e,this.renderImage()},renderImage:function(e){var t=this.image;"zoom"===e&&(t.left-=(t.width-t.oldWidth)/2,t.top-=(t.height-t.oldHeight)/2),t.left=M(E(t.left,t._width-t.width),0),t.top=M(E(t.top,t._height-t.height),0),this.$clone.css({width:t.width,height:t.height,marginLeft:t.left,marginTop:t.top}),e&&(this.defaults.done(this.getData()),this.preview())},initDragger:function(){var e,t=this.defaults,i=this.cropper,n=t.aspectRatio||this.image.aspectRatio,r=this.image.ratio;(e=0<=i.height*n-i.width?{height:i.width/n,width:i.width,left:0,top:(i.height-i.width/n)/2,maxWidth:i.width,maxHeight:i.width/n}:{height:i.height,width:i.height*n,left:(i.width-i.height*n)/2,top:0,maxWidth:i.height*n,maxHeight:i.height}).minWidth=0,e.minHeight=0,t.aspectRatio?(isFinite(t.maxWidth)?(e.maxWidth=M(e.maxWidth,t.maxWidth*r),e.maxHeight=e.maxWidth/n):isFinite(t.maxHeight)&&(e.maxHeight=M(e.maxHeight,t.maxHeight*r),e.maxWidth=e.maxHeight*n),0<t.minWidth?(e.minWidth=E(0,t.minWidth*r),e.minHeight=e.minWidth/n):0<t.minHeight&&(e.minHeight=E(0,t.minHeight*r),e.minWidth=e.minHeight*n)):(e.maxWidth=M(e.maxWidth,t.maxWidth*r),e.maxHeight=M(e.maxHeight,t.maxHeight*r),e.minWidth=E(0,t.minWidth*r),e.minHeight=E(0,t.minHeight*r)),e.minWidth=M(e.maxWidth,e.minWidth),e.minHeight=M(e.maxHeight,e.minHeight),e.height*=t.autoCropArea,e.width*=t.autoCropArea,e.left=(i.width-e.width)/2,e.top=(i.height-e.height)/2,e.oldLeft=e.left,e.oldTop=e.top,this.defaultDragger=e,this.dragger=d.extend({},e)},renderDragger:function(){var e=this.dragger,t=this.cropper;e.width>e.maxWidth?(e.width=e.maxWidth,e.left=e.oldLeft):e.width<e.minWidth&&(e.width=e.minWidth,e.left=e.oldLeft),e.height>e.maxHeight?(e.height=e.maxHeight,e.top=e.oldTop):e.height<e.minHeight&&(e.height=e.minHeight,e.top=e.oldTop),e.left=M(E(e.left,0),t.width-e.width),e.top=M(E(e.top,0),t.height-e.height),e.oldLeft=e.left,e.oldTop=e.top,this.dragger=e,this.disabled||this.defaults.done(this.getData()),this.$dragger.css({width:e.width,height:e.height,left:e.left,top:e.top}),this.preview()},reset:function(e){this.cropped&&(e&&(this.defaults.data={}),this.image=d.extend({},this.defaultImage),this.renderImage(),this.dragger=d.extend({},this.defaultDragger),this.setData(this.defaults.data))},clear:function(){this.cropped&&(this.cropped=!1,this.setData({x:0,y:0,width:0,height:0}),this.$canvas.removeClass(h),this.$dragger.addClass(j))},destroy:function(){var e=this.$element;this.ready&&(this.unbuild(),e.removeClass(j).removeData("cropper"),this.rotated&&e.attr("src",this.$original.attr("src")))},replace:function(e,t){var i,n=this,r=this.$element,a=this.element;e&&e!==this.url&&e!==r.attr("src")&&(t||(this.rotated=!1,this.replaced=!0),r.is("img")?(r.attr("src",e),this.load()):r.is("canvas")&&this.support.canvas&&(i=a.getContext("2d"),d('<img src="'+e+'">').one("load",function(){a.width=this.width,a.height=this.height,i.clearRect(0,0,a.width,a.height),i.drawImage(this,0,0),n.load()})))},setData:function(e,t){var i=this.cropper,n=this.dragger,r=this.image,a=this.defaults.aspectRatio;this.built&&typeof e!==s&&((e===o||d.isEmptyObject(e))&&(n=d.extend({},this.defaultDragger)),d.isPlainObject(e)&&!d.isEmptyObject(e)&&(t||(this.defaults.data=e),e=this.transformData(e),D(e.x)&&e.x<=i.width-r.left&&(n.left=e.x+r.left),D(e.y)&&e.y<=i.height-r.top&&(n.top=e.y+r.top),a?D(e.width)&&e.width<=n.maxWidth&&e.width>=n.minWidth?(n.width=e.width,n.height=n.width/a):D(e.height)&&e.height<=n.maxHeight&&e.height>=n.minHeight&&(n.height=e.height,n.width=n.height*a):(D(e.width)&&e.width<=n.maxWidth&&e.width>=n.minWidth&&(n.width=e.width),D(e.height)&&e.height<=n.maxHeight&&e.height>=n.minHeight&&(n.height=e.height))),this.dragger=n,this.renderDragger())},getData:function(e){var t=this.dragger,i=this.image,n={};return this.built&&(n={x:t.left-i.left,y:t.top-i.top,width:t.width,height:t.height},n=this.transformData(n,!0,e)),n},transformData:function(e,i,n){var r=this.image.ratio,a={};return d.each(e,function(e,t){t=R(t),c.test(e)&&!isNaN(t)&&(a[e]=i?n?Math.round(t/r):t/r:t*r)}),a},setAspectRatio:function(e){var t="auto"===e;e=R(e),(t||!isNaN(e)&&0<e)&&(this.defaults.aspectRatio=t?NaN:e,this.built&&(this.initDragger(),this.renderDragger()))},getImageData:function(){var i={};return this.ready&&d.each(this.image,function(e,t){a.test(e)&&(i[e]=t)}),i},getDataURL:function(e,t,i){var n,r=d("<canvas>")[0],a=this.getData(),o="";return d.isPlainObject(e)||(i=t,t=e,e={}),e=d.extend({width:a.width,height:a.height},e),this.cropped&&this.support.canvas&&(r.width=e.width,r.height=e.height,n=r.getContext("2d"),"image/jpeg"===t&&(n.fillStyle="#fff",n.fillRect(0,0,e.width,e.height)),n.drawImage(this.$clone[0],a.x,a.y,a.width,a.height,0,0,e.width,e.height),o=r.toDataURL(t,i)),o},setDragMode:function(e){var t=this.$canvas,i=this.defaults,n=!1,r=!1;if(this.built&&!this.disabled){switch(e){case"crop":i.dragCrop&&(n=!0,t.data(l,e));break;case"move":r=!0,t.data(l,e);break;default:t.removeData(l)}t.toggleClass(f,n).toggleClass("cropper-move",r)}},enable:function(){this.built&&(this.disabled=!1,this.$cropper.removeClass(m))},disable:function(){this.built&&(this.disabled=!0,this.$cropper.addClass(m))},rotate:function(e){var t=this.image;e=R(e)||0,this.built&&0!==e&&!this.disabled&&this.defaults.rotatable&&this.support.canvas&&(this.rotated=!0,e=t.rotate=(t.rotate+e)%360,this.replace(this.getRotatedDataURL(e),!0))},getRotatedDataURL:function(e){var t=d("<canvas>")[0],i=t.getContext("2d"),n=e*Math.PI/180,r=I(e)%180,a=(90<r?180-r:r)*Math.PI/180,o=this.originalImage,s=o.naturalWidth,l=o.naturalHeight,u=I(s*L(a)+l*P(a)),c=I(s*P(a)+l*L(a));return t.width=u,t.height=c,i.save(),i.translate(u/2,c/2),i.rotate(n),i.drawImage(this.$original[0],-s/2,-l/2,s,l),i.restore(),t.toDataURL()},zoom:function(e){var t,i,n,r=this.image;e=R(e),this.built&&e&&!this.disabled&&this.defaults.zoomable&&(t=r.width*(1+e),i=r.height*(1+e),10<(n=t/r._width)||(n<1&&(t=r._width,i=r._height),n<=1?this.setDragMode("crop"):this.setDragMode("move"),r.oldWidth=r.width,r.oldHeight=r.height,r.width=t,r.height=i,r.ratio=r.width/r.naturalWidth,this.renderImage("zoom")))},dblclick:function(){this.disabled||(this.$canvas.hasClass(f)?this.setDragMode("move"):this.setDragMode("crop"))},wheel:function(e){var t,i=e.originalEvent;this.disabled||(e.preventDefault(),t=i.deltaY?(t=i.deltaY)%5==0?t/5:t%117.25==0?t/117.25:t/166.66665649414062:i.wheelDelta?-i.wheelDelta/120:i.detail?i.detail/3:0,this.zoom(.1*t))},dragstart:function(e){var t,i,n,r=e.originalEvent.touches,a=e;if(!this.disabled){if(r){if(1<(n=r.length)){if(!this.defaults.zoomable||2!==n)return;a=r[1],this.startX2=a.pageX,this.startY2=a.pageY,t="zoom"}a=r[0]}if(t=t||d(a.target).data(l),u.test(t)){if(e.preventDefault(),i=d.Event(k),this.$element.trigger(i),i.isDefaultPrevented())return;this.directive=t,this.cropping=!1,this.startX=a.pageX,this.startY=a.pageY,"crop"===t&&(this.cropping=!0,this.$canvas.addClass(h))}}},dragmove:function(e){var t,i,n=e.originalEvent.touches,r=e;if(!this.disabled){if(n){if(1<(i=n.length)){if(!this.defaults.zoomable||2!==i)return;r=n[1],this.endX2=r.pageX,this.endY2=r.pageY}r=n[0]}if(this.directive){if(e.preventDefault(),t=d.Event(S),this.$element.trigger(t),t.isDefaultPrevented())return;this.endX=r.pageX,this.endY=r.pageY,this.dragging()}}},dragend:function(e){var t;if(!this.disabled&&this.directive){if(e.preventDefault(),t=d.Event(Q),this.$element.trigger(t),t.isDefaultPrevented())return;this.cropping&&(this.cropping=!1,this.$canvas.toggleClass(h,this.cropped&&this.defaults.modal)),this.directive=""}},dragging:function(){var e,t,i,n,r,a,o,s=this.directive,l=this.image,u=this.cropper,c=u.width,d=u.height,h=this.dragger,p=h.width,f=h.height,m=h.left,g=h.top,v=m+p,y=g+f,b=!0,w=this.defaults,_=w.aspectRatio,x={x:this.endX-this.startX,y:this.endY-this.startY};switch(_&&(x.X=x.y*_,x.Y=x.x/_),s){case"all":m+=x.x,g+=x.y;break;case"e":if(0<=x.x&&(c<=v||_&&(g<=0||d<=y))){b=!1;break}p+=x.x,_&&(f=p/_,g-=x.Y/2),p<0&&(s="w",p=0);break;case"n":if(x.y<=0&&(g<=0||_&&(m<=0||c<=v))){b=!1;break}f-=x.y,g+=x.y,_&&(p=f*_,m+=x.X/2),f<0&&(s="s",f=0);break;case"w":if(x.x<=0&&(m<=0||_&&(g<=0||d<=y))){b=!1;break}p-=x.x,m+=x.x,_&&(f=p/_,g+=x.Y/2),p<0&&(s="e",p=0);break;case"s":if(0<=x.y&&(d<=y||_&&(m<=0||c<=v))){b=!1;break}f+=x.y,_&&(p=f*_,m-=x.X/2),f<0&&(s="n",f=0);break;case"ne":if(_){if(x.y<=0&&(g<=0||c<=v)){b=!1;break}f-=x.y,g+=x.y,p=f*_}else 0<=x.x?v<c?p+=x.x:x.y<=0&&g<=0&&(b=!1):p+=x.x,x.y<=0?0<g&&(f-=x.y,g+=x.y):(f-=x.y,g+=x.y);f<0&&(s="sw",p=f=0);break;case"nw":if(_){if(x.y<=0&&(g<=0||m<=0)){b=!1;break}f-=x.y,g+=x.y,p=f*_,m+=x.X}else x.x<=0?0<m?(p-=x.x,m+=x.x):x.y<=0&&g<=0&&(b=!1):(p-=x.x,m+=x.x),x.y<=0?0<g&&(f-=x.y,g+=x.y):(f-=x.y,g+=x.y);f<0&&(s="se",p=f=0);break;case"sw":if(_){if(x.x<=0&&(m<=0||d<=y)){b=!1;break}p-=x.x,m+=x.x,f=p/_}else x.x<=0?0<m?(p-=x.x,m+=x.x):0<=x.y&&d<=y&&(b=!1):(p-=x.x,m+=x.x),0<=x.y?y<d&&(f+=x.y):f+=x.y;p<0&&(s="ne",p=f=0);break;case"se":if(_){if(0<=x.x&&(c<=v||d<=y)){b=!1;break}f=(p+=x.x)/_}else 0<=x.x?v<c?p+=x.x:0<=x.y&&d<=y&&(b=!1):p+=x.x,0<=x.y?y<d&&(f+=x.y):f+=x.y;p<0&&(s="nw",p=f=0);break;case"move":l.left+=x.x,l.top+=x.y,this.renderImage("move"),b=!1;break;case"zoom":w.zoomable&&(this.zoom((t=l.width,i=l.height,n=I(this.startX-this.startX2),r=I(this.startY-this.startY2),a=I(this.endX-this.endX2),o=I(this.endY-this.endY2),(O(a*a+o*o)-O(n*n+r*r))/O(t*t+i*i))),this.endX2=this.startX2,this.endY2=this.startY2);break;case"crop":x.x&&x.y&&(e=this.$cropper.offset(),m=this.startX-e.left,g=this.startY-e.top,p=h.minWidth,f=h.minHeight,0<x.x?0<x.y?s="se":(s="ne",g-=f):0<x.y?(s="sw",m-=p):(s="nw",m-=p,g-=f),this.cropped||(this.cropped=!0,this.$dragger.removeClass(j)))}b&&(h.width=p,h.height=f,h.left=m,h.top=g,this.directive=s,this.renderDragger()),this.startX=this.endX,this.startY=this.endY}},A.TEMPLATE=(t=(t="div,span,directive,data,point,cropper,class,line,dashed").split(","),'<0 6="5-container"><0 6="5-canvas"></0><0 6="5-dragger"><1 6="5-viewer"></1><1 6="5-8 8-h"></1><1 6="5-8 8-v"></1><1 6="5-face" 3-2="all"></1><1 6="5-7 7-e" 3-2="e"></1><1 6="5-7 7-n" 3-2="n"></1><1 6="5-7 7-w" 3-2="w"></1><1 6="5-7 7-s" 3-2="s"></1><1 6="5-4 4-e" 3-2="e"></1><1 6="5-4 4-n" 3-2="n"></1><1 6="5-4 4-w" 3-2="w"></1><1 6="5-4 4-s" 3-2="s"></1><1 6="5-4 4-ne" 3-2="ne"></1><1 6="5-4 4-nw" 3-2="nw"></1><1 6="5-4 4-sw" 3-2="sw"></1><1 6="5-4 4-se" 3-2="se"></1></0></0>'.replace(/\d+/g,function(e){return t[e]})),A.DEFAULTS={aspectRatio:"auto",autoCropArea:.8,data:{},done:d.noop,preview:"",multiple:!1,autoCrop:!0,dragCrop:!0,dashed:!0,modal:!0,movable:!0,resizable:!0,zoomable:!0,rotatable:!0,checkImageOrigin:!0,minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,build:o,built:o,dragstart:o,dragmove:o,dragend:o},A.setDefaults=function(e){d.extend(A.DEFAULTS,e)},A.other=d.fn.cropper,d.fn.cropper=function(n){var r,a=$(arguments,1);return this.each(function(){var e,t=d(this),i=t.data("cropper");i||t.data("cropper",i=new A(this,n)),"string"==typeof n&&d.isFunction(e=i[n])&&(r=e.apply(i,a))}),typeof r!==s?r:this},d.fn.cropper.Constructor=A,d.fn.cropper.setDefaults=A.setDefaults,d.fn.cropper.noConflict=function(){return d.fn.cropper=A.other,this}}),function(s){function l(e,t){return"function"==typeof e?e.call(t):e}function u(e,t){this.$element=s(e),this.options=t,this.enabled=!0,this.fixTitle()}u.prototype={show:function(){var e=this.getTitle();if(e&&this.enabled){var t=this.tip();t.find(".tipsy-inner")[this.options.html?"html":"text"](e),t[0].className="tipsy",t.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var i,n=s.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),r=t[0].offsetWidth,a=t[0].offsetHeight,o=l(this.options.gravity,this.$element[0]);switch(o.charAt(0)){case"n":i={top:n.top+n.height+this.options.offset,left:n.left+n.width/2-r/2};break;case"s":i={top:n.top-a-this.options.offset,left:n.left+n.width/2-r/2};break;case"e":i={top:n.top+n.height/2-a/2,left:n.left-r-this.options.offset};break;case"w":(extra_gap=0)<s("body").css("position").length&&"relative"==s("body").css("position")&&s("#wpadminbar").length&&(extra_gap=s("#wpadminbar").height()),i={top:n.top+n.height/2-a/2-extra_gap,left:n.left+n.width+this.options.offset}}2==o.length&&("w"==o.charAt(1)?i.left=n.left+n.width/2-15:i.left=n.left+n.width/2-r+15),t.css(i).addClass("tipsy-"+o),t.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+o.charAt(0),this.options.className&&t.addClass(l(this.options.className,this.$element[0])),this.options.fade?t.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):t.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){s(this).remove()}):this.tip().remove()},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("original-title"))&&e.attr("original-title",e.attr("title")||"").removeAttr("title")},getTitle:function(){var e,t=this.$element,i=this.options;return this.fixTitle(),"string"==typeof(i=this.options).title?e=t.attr("title"==i.title?"original-title":i.title):"function"==typeof i.title&&(e=i.title.call(t[0])),(e=(""+e).replace(/(^\s*|\s*$)/,""))||i.fallback},tip:function(){return this.$tip||(this.$tip=s('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>'),this.$tip.data("tipsy-pointee",this.$element[0])),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},s.fn.tipsy=function(i){if(!0===i)return this.data("tipsy");if("string"==typeof i){var e=this.data("tipsy");return e&&e[i](),this}function t(e){var t=s.data(e,"tipsy");return t||(t=new u(e,s.fn.tipsy.elementOptions(e,i)),s.data(e,"tipsy",t)),t}function n(){var e=t(this);e.hoverState="in",0==i.delayIn?e.show():(e.fixTitle(),setTimeout(function(){"in"==e.hoverState&&e.show()},i.delayIn))}function r(){var e=t(this);e.hoverState="out",0==i.delayOut?e.hide():setTimeout(function(){"out"==e.hoverState&&e.hide()},i.delayOut)}if((i=s.extend({},s.fn.tipsy.defaults,i)).live||this.each(function(){t(this)}),"manual"!=i.trigger){var a="hover"==i.trigger?"mouseenter":"focus",o="hover"==i.trigger?"mouseleave":"blur";i.live?s(document).on(a,this.selector,n).on(o,this.selector,r):this.bind(a,n).bind(o,r)}return this},s.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},s.fn.tipsy.revalidate=function(){s(".tipsy").each(function(){var e=s.data(this,"tipsy-pointee");e&&function(e){for(;e=e.parentNode;)if(e==document)return!0;return!1}(e)||s(this).remove()})},s.fn.tipsy.elementOptions=function(e,t){return s.metadata?s.extend({},t,s(e).metadata()):t},s.fn.tipsy.autoNS=function(){return s(this).offset().top>s(document).scrollTop()+s(window).height()/2?"s":"n"},s.fn.tipsy.autoWE=function(){return s(this).offset().left>s(document).scrollLeft()+s(window).width()/2?"e":"w"},s.fn.tipsy.autoBounds=function(r,a){return function(){var e={ns:a[0],ew:1<a.length&&a[1]},t=s(document).scrollTop()+r,i=s(document).scrollLeft()+r,n=s(this);return n.offset().top<t&&(e.ns="n"),n.offset().left<i&&(e.ew="w"),s(window).width()+s(document).scrollLeft()-n.offset().left<r&&(e.ew="e"),s(window).height()+s(document).scrollTop()-n.offset().top<r&&(e.ns="s"),e.ns+(e.ew?e.ew:"")}}}(jQuery),jQuery(function(){jQuery(".um-search form *").keypress(function(e){if(13==e.which)return jQuery(".um-search form").submit(),!1}),2==jQuery("input[data-key=user_password],input[data-key=confirm_user_password]").length&&UM_check_password_matched()}),jQuery(window).load(function(){um_responsive(),um_modal_responsive()}),jQuery(window).resize(function(){responsive_Modal(),jQuery("img.cropper-hidden").cropper("destroy"),um_responsive(),um_modal_responsive()}),jQuery(document).ready(function(){var t=[],o=[],s=[],l={},u={};function i(e){var i=[],n=e.data("key");o.push(n),jQuery.each(e[0].attributes,function(e,t){-1!=t.name.indexOf("data-cond")&&i.push(t.value)});var t=i.length/4,r=t<=0?4:t,a={};return a[n]=function(e,t){for(var i=e.length%t,n=i,r=Math.floor(e.length/t),a=[],o=0;o<e.length;o+=r){var s=r+o,l=!1;0!==i&&n&&(s++,n--,l=!0),a.push(e.slice(o,s)),l&&o++}var u=[];return jQuery.each(a,function(e,t){u.push({action:t[0],if_field:t[1],operator:t[2],value:t[3]})}),u}(i,r),jQuery.each(a[n],function(e,t){var i={};i.field={owner:n,action:t.action,parent:t.if_field,operator:t.operator,value:t.value,condition:{owner:n,action:t.action,operator:t.operator,value:t.value}},s.push(i)}),a}function c(e){switch(d(e)){case"text":case"number":case"date":case"textarea":case"select":case"multiselect":case"radio":case"checkbox":return e.find("input,textarea,select")}return""}function d(e){var i="",t=e.attr("class");return jQuery.each(t.split(" "),function(e,t){-1!=t.indexOf("um-field-type")&&(i=t.split("_")[1])}),i}function e(i,e){var t,n=i.parents(".um-field[data-key]").data("key"),r=l[n],a=(t=i,um_live_field=t.parents(".um-field").data("key"),um_live_value=t.val(),t.is(":checkbox")&&(um_live_value="",1<t.parents(".um-field").find("input:checked").length?t.parents(".um-field").find("input:checked").each(function(){um_live_value=um_live_value+jQuery(this).val()+" "}):1<=t.parents(".um-field").find("input:checked").length&&(um_live_value=t.parents(".um-field").find("input:checked").val())),t.is(":radio")&&(um_live_value=t.parents(".um-field").find("input[type=radio]:checked").val()),um_live_value);jQuery.each(r,function(e,t){"empty"==t.operator&&h(i,t,!a||""==a),"not empty"==t.operator&&h(i,t,!(!a||""==a)),"equals to"==t.operator&&(t.value==a?h(i,t,!0):h(i,t,!1)),"not equals"==t.operator&&(jQuery.isNumeric(t.value)&&parseInt(a)!=parseInt(t.value)&&a?h(i,t,!0):jQuery.isNumeric(t.value)||t.value==a?h(i,t,!1):h(i,t,!0)),"greater than"==t.operator&&(jQuery.isNumeric(t.value)&&parseInt(a)>parseInt(t.value)?h(i,t,!0):h(i,t,!1)),"less than"==t.operator&&(jQuery.isNumeric(t.value)&&parseInt(a)<parseInt(t.value)&&a?h(i,t,!0):h(i,t,!1)),"contains"==t.operator&&(a&&0<=a.indexOf(t.value)?h(i,t,!0):h(i,t,!1))}),i.trigger("um_fields_change")}function h(e,t,i){var n=jQuery('div.um-field[data-key="'+t.owner+'"]');"show"==t.action&&i&&(n.show(),r(n)),"show"!=t.action||i||n.hide(),"hide"==t.action&&i&&n.hide(),"hide"!=t.action||i||(n.show(),r(n)),e.removeClass("um-field-has-changed")}function r(n){var e=d(n),t=n.data("key"),i=u[t];switch(e){case"text":case"number":case"date":case"textarea":n.find("input:text,input[type=number],textarea,select").val(i.value);break;case"select":n.find("select").find("option").prop("selected",!1),n.find("select").val(i.value),n.find("select").trigger("change");break;case"multiselect":n.find("select").find("option").prop("selected",!1),jQuery.each(i.value,function(e,t){n.find("select").find('option[value="'+t+'"]').attr("selected",!0)}),n.find("select").trigger("change");break;case"radio":case"checkbox":if(1<=n.find("input[type=checkbox]:checked").length)if(n.find("input[type=checkbox]:checked").removeAttr("checked"),n.find("span.um-field-checkbox-state i").removeClass("um-icon-android-checkbox-outline"),n.find("span.um-field-checkbox-state i").addClass("um-icon-android-checkbox-outline-blank"),n.find(".um-field-checkbox.active").removeClass("active"),jQuery.isArray(i.value))jQuery.each(i.value,function(e,t){var i=n.find('input[type=checkbox][value="'+t+'"]');i.attr("checked",!0),i.closest(".um-field-checkbox").find("i").removeClass("um-icon-android-checkbox-outline-blank"),i.closest(".um-field-checkbox").find("i").addClass("um-icon-android-checkbox-outline"),i.closest(".um-field-checkbox").addClass("active")});else{var r=n.find('input[type=checkbox][value="'+i.value+'"]');r.attr("checked",!0),r.closest(".um-field-checkbox").find("i").removeClass("um-icon-android-checkbox-outline-blank"),r.closest(".um-field-checkbox").find("i").addClass("um-icon-android-checkbox-outline"),r.closest(".um-field-checkbox").addClass("active")}1<=n.find("input[type=radio]:checked").length&&setTimeout(function(){n.find("input[type=radio]:checked").removeAttr("checked"),n.find("span.um-field-radio-state i").removeClass("um-icon-android-radio-button-on"),n.find("span.um-field-radio-state i").addClass("um-icon-android-radio-button-off"),n.find(".um-field-radio.active").removeClass("active");var e=n.find("input[type=radio][value='"+i.value+"']");e.attr("checked",!0),e.closest(".um-field-radio").find("i").removeClass("um-icon-android-radio-button-off"),e.closest(".um-field-radio").find("i").addClass("um-icon-android-radio-button-on"),e.closest(".um-field-radio").addClass("active")},100)}if(!n.hasClass("um-field-has-changed")){var a=c(n);a&&(a.trigger("change"),n.addClass("um-field-has-changed"))}}function n(){jQuery.each(l,function(e,t){(1<=jQuery('.um-field[data-key="'+e+'"]:hidden').length||"none"==jQuery('.um-field[data-key="'+e+'"]').css("display"))&&jQuery.each(t,function(e,t){jQuery('.um-field[data-key="'+t.owner+'"]').hide()})})}jQuery(document).on("change",".um-field select, .um-field input[type=radio], .um-field input[type=checkbox]",function(){e(jQuery(this))}),jQuery(document).on("input change",".um-field input[type=text]",function(){e(jQuery(this))}),jQuery(document).on("um_fields_change",function(){n(),n()}),jQuery(".um-field[data-key]").each(function(){var e=jQuery(this);t.push(i(e)),u[e.data("key")]=function(e){var t="",i=d(e);switch(i){case"text":case"number":case"date":case"textarea":case"select":t=e.find("input:text,input[type=number],textarea,select").val();break;case"multiselect":t=e.find("select").val();break;case"radio":case"checkbox":1<=e.find("input[type=checkbox]:checked").length&&(1<e.find("input[type=checkbox]:checked").length?e.find("input[type=checkbox]:checked").each(function(){t=t+jQuery(this).val()+" "}):t=e.find("input[type=checkbox]:checked").val()),1<=e.find("input[type=radio]:checked").length&&(t=e.find("input[type=radio]:checked").val())}return{type:i,value:t}}(e)}),jQuery.each(o,function(e,t){var i,n;l[t]=(i=t,n=[],jQuery.each(s,function(e,t){t.field.parent==i&&n.push(t.field.condition)}),n)}),jQuery(".um-field[data-key]:visible").each(function(){var e=c(jQuery(this));void 0!==e.trigger&&e.trigger("change")})}),jQuery(document).ready(function(){jQuery(document).on("click",".um-dropdown a",function(e){return!1}),jQuery(document).on("click",".um-dropdown a.real_url",function(e){window.location=jQuery(this).attr("href")}),jQuery(document).on("click",".um-trigger-menu-on-click",function(e){return jQuery(".um-dropdown").hide(),menu=jQuery(this).find(".um-dropdown"),menu.show(),!1}),jQuery(document).on("click",".um-dropdown-hide",function(e){UM_hide_menus()}),jQuery(document).on("click","a.um-manual-trigger",function(){var e=jQuery(this).attr("data-child"),t=jQuery(this).attr("data-parent");jQuery(this).parents(t).find(e).trigger("click")}),jQuery(".um-tip-n").tipsy({gravity:"n",opacity:1,live:"a.live",offset:3}),jQuery(".um-tip-w").tipsy({gravity:"w",opacity:1,live:"a.live",offset:3}),jQuery(".um-tip-e").tipsy({gravity:"e",opacity:1,live:"a.live",offset:3}),jQuery(".um-tip-s").tipsy({gravity:"s",opacity:1,live:"a.live",offset:3}),jQuery(document).on("change",".um-field-area input[type=radio]",function(){var e=jQuery(this).parents(".um-field-area"),t=jQuery(this).parents("label");e.find(".um-field-radio").removeClass("active"),e.find(".um-field-radio").find("i").removeClass().addClass("um-icon-android-radio-button-off"),t.addClass("active"),t.find("i").removeClass().addClass("um-icon-android-radio-button-on")}),jQuery(document).on("change",".um-field-area input[type=checkbox]",function(){jQuery(this).parents(".um-field-area");var e=jQuery(this).parents("label");e.hasClass("active")?(e.removeClass("active"),e.find("i").removeClass().addClass("um-icon-android-checkbox-outline-blank")):(e.addClass("active"),e.find("i").removeClass().addClass("um-icon-android-checkbox-outline"))}),jQuery(".um-datepicker").each(function(){if(elem=jQuery(this),""!=elem.attr("data-disabled_weekdays"))var e=JSON.parse(elem.attr("data-disabled_weekdays"));else e=!1;var t=elem.attr("data-years"),i=elem.attr("data-date_min"),n=elem.attr("data-date_max"),r=i.split(","),a=n.split(","),o=r.length?new Date(r):null,s=r.length?new Date(a):null;if(o&&"Invalid Date"==o.toString()&&3==r.length){var l=r[1]+"/"+r[2]+"/"+r[0];o=new Date(Date.parse(l))}if(s&&"Invalid Date"==s.toString()&&3==a.length){var u=a[1]+"/"+a[2]+"/"+a[0];s=new Date(Date.parse(u))}elem.pickadate({selectYears:t,min:o,max:s,disable:e,format:elem.attr("data-format"),formatSubmit:"yyyy/mm/dd",hiddenName:!0,onOpen:function(){elem.blur()},onClose:function(){elem.blur()}})}),jQuery(".um-timepicker").each(function(){elem=jQuery(this),elem.pickatime({format:elem.attr("data-format"),interval:parseInt(elem.attr("data-intervals")),formatSubmit:"HH:i",hiddenName:!0,onOpen:function(){elem.blur()},onClose:function(){elem.blur()}})}),jQuery(".um-rating").raty({half:!1,starType:"i",number:function(){return jQuery(this).attr("data-number")},score:function(){return jQuery(this).attr("data-score")},scoreName:function(){return jQuery(this).attr("data-key")},hints:!1,click:function(e,t){live_field=this.id,live_value=e,um_conditional()}}),jQuery(".um-rating-readonly").raty({half:!1,starType:"i",number:function(){return jQuery(this).attr("data-number")},score:function(){return jQuery(this).attr("data-score")},scoreName:function(){return jQuery(this).attr("data-key")},hints:!1,readOnly:!0}),jQuery(document).on("click",".um .um-single-image-preview a.cancel",function(e){e.preventDefault();var t=jQuery(this).parents(".um-field"),i=jQuery(this).parents(".um-field").find(".um-single-image-preview img").attr("src");return t.find(".um-single-image-preview img").attr("src",""),t.find(".um-single-image-preview").hide(),t.find(".um-btn-auto-width").html("Upload"),t.find("input[type=hidden]").val("empty_file"),jQuery.ajax({url:um_scripts.ajaxurl,type:"post",data:{action:"ultimatemember_remove_file",src:i}}),!1}),jQuery(document).on("click",".um .um-single-file-preview a.cancel",function(e){e.preventDefault();var t=jQuery(this).parents(".um-field"),i=jQuery(this).parents(".um-field").find(".um-single-fileinfo a").attr("href");return t.find(".um-single-file-preview").hide(),t.find(".um-btn-auto-width").html("Upload"),t.find("input[type=hidden]").val("empty_file"),jQuery.ajax({url:um_scripts.ajaxurl,type:"post",data:{action:"ultimatemember_remove_file",src:i}}),!1}),jQuery(".um-s1,.um-s2").css({display:"block"}),jQuery(".um-s1").select2({allowClear:!0}),jQuery(".um-s2").select2({allowClear:!1,minimumResultsForSearch:10}),jQuery(document).on("click",".um-field-group-head:not(.disabled)",function(){var e=jQuery(this).parents(".um-field-group"),t=e.data("max_entries");e.find(".um-field-group-body").is(":hidden")?e.find(".um-field-group-body").show():e.find(".um-field-group-body:first").clone().appendTo(e),increase_id=0,e.find(".um-field-group-body").each(function(){increase_id++,jQuery(this).find("input").each(function(){var e=jQuery(this);e.attr("id",e.data("key")+"-"+increase_id),e.attr("name",e.data("key")+"-"+increase_id),e.parent().parent().find("label").attr("for",e.data("key")+"-"+increase_id)})}),0<t&&e.find(".um-field-group-body").length==t&&jQuery(this).addClass("disabled")}),jQuery(document).on("click",".um-field-group-cancel",function(e){e.preventDefault();var t=jQuery(this).parents(".um-field-group"),i=t.data("max_entries");return 1<t.find(".um-field-group-body").length?jQuery(this).parents(".um-field-group-body").remove():jQuery(this).parents(".um-field-group-body").hide(),0<i&&t.find(".um-field-group-body").length<i&&t.find(".um-field-group-head").removeClass("disabled"),!1}),jQuery(document).on("click",".um-ajax-paginate",function(e){e.preventDefault();var t=jQuery(this).parent();t.addClass("loading");var i=jQuery(this).data("args"),n=jQuery(this).data("hook"),r=jQuery(this).parents(".um").find(".um-ajax-items");return jQuery.ajax({url:um_scripts.ajaxurl,type:"post",data:{action:"ultimatemember_ajax_paginate",hook:n,args:i},complete:function(){t.removeClass("loading")},success:function(e){t.remove(),r.append(e)}}),!1}),jQuery(document).on("click",".um-ajax-action",function(e){e.preventDefault();var t=jQuery(this).data("hook"),i=jQuery(this).data("user_id"),arguments=jQuery(this).data("arguments");return jQuery(this).data("js-remove")&&jQuery(this).parents("."+jQuery(this).data("js-remove")).fadeOut("fast"),jQuery.ajax({url:um_scripts.ajaxurl,type:"post",data:{action:"ultimatemember_muted_action",hook:t,user_id:i,arguments:arguments},success:function(e){}}),!1}),jQuery(document).on("click","#um-search-button",function(){jQuery(this).parents("form").submit()}),jQuery(".um-form input[class=um-button][type=submit]").removeAttr("disabled"),jQuery(document).one("click",".um:not(.um-account) .um-form input[class=um-button][type=submit]:not(.um-has-recaptcha)",function(){jQuery(this).attr("disabled","disabled"),jQuery(this).parents("form").submit()});var s={};function l(e,t,i,n){var r=e.data("um-parent");e.attr("name"),jQuery('select[name="'+r+'"]');e.find('option[value!=""]').remove(),e.hasClass("um-child-option-disabled")||e.removeAttr("disabled");n=[];jQuery.each(t.items,function(e,t){n.push({id:e,text:t})}),e.select2("destroy"),e.select2({data:n,allowClear:!0,minimumResultsForSearch:10}),void 0===t.field.default||e.data("um-original-value")?""!=e.data("um-original-value")&&e.val(e.data("um-original-value")).trigger("change"):e.val(t.field.default).trigger("change"),0==t.field.editable&&(e.addClass("um-child-option-disabled"),e.attr("disabled","disabled")),s[i]=t}jQuery("select[data-um-parent]").each(function(){var r=jQuery(this),e=r.data("um-parent"),a=r.data("um-ajax-url"),o=r.data("um-ajax-source");r.val();r.attr("data-um-init-field",!0),jQuery(document).on("change",'select[name="'+e+'"]',function(){var t=jQuery(this),e=t.closest("form").find("input[type=hidden][name=form_id]").val(),i=t.val();if(""!=t.val()&&"object"!=typeof s[i]&&jQuery.ajax({url:a,type:"post",data:{action:"ultimatemember_ajax_select_options",parent_option:t.val(),child_callback:o,child_name:r.attr("name"),form_id:e},success:function(e){"success"==e.status&&""!=t.val()&&l(r,e,i),void 0!==e.debug&&console.log(e)},error:function(e){console.log(e)}}),""!=t.val()&&"object"==typeof s[i]){var n=s[i];l(r,n,i)}""==t.val()&&(r.find('option[value!=""]').remove(),r.val("").trigger("change"))}),jQuery('select[name="'+e+'"]').trigger("change")})}),jQuery(document).ready(function(){jQuery(".um-members").each(function(){UM_Member_Grid(jQuery(this))}),jQuery(".um-member-connect").each(function(){0==jQuery(this).find("a").length&&jQuery(this).remove()}),jQuery(".um-member-meta-main").each(function(){0==jQuery(this).find(".um-member-metaline").length&&0==jQuery(this).find(".um-member-connect").find("a").length&&jQuery(this).remove()}),jQuery(document).on("click",".um-member-more a",function(e){e.preventDefault();var t=jQuery(this).parents(".um-member"),i=jQuery(this).parents(".um-members");return t.find(".um-member-more").hide(),t.find(".um-member-meta").slideDown(function(){UM_Member_Grid(i)}),t.find(".um-member-less").fadeIn(),setTimeout(function(){UM_Member_Grid(i)},100),!1}),jQuery(document).on("click",".um-member-less a",function(e){e.preventDefault();var t=jQuery(this).parents(".um-member"),i=jQuery(this).parents(".um-members");return t.find(".um-member-less").hide(),t.find(".um-member-meta").slideUp(function(){t.find(".um-member-more").fadeIn(),UM_Member_Grid(i)}),!1}),jQuery(document).on("click",".um-do-search",function(e){return e.preventDefault(),jQuery(this).parents("form").submit(),!1})}),jQuery(document).ready(function(){function e(){if(void 0!==jQuery("textarea[id=um-meta-bio]").val()){var e=jQuery("textarea[id=um-meta-bio]").attr("data-character-limit")-jQuery("textarea[id=um-meta-bio]").val().length;jQuery("span.um-meta-bio-character span.um-bio-limit").text(e),e<5?jQuery("span.um-meta-bio-character").css("color","red"):jQuery("span.um-meta-bio-character").css("color","")}}jQuery(".um-profile.um-viewing .um-profile-body .um-row").each(function(){var e=jQuery(this);0==e.find(".um-field").length&&(e.prev(".um-row-heading").remove(),e.remove())}),jQuery(".um-profile.um-viewing .um-profile-body").length&&0==jQuery(".um-profile.um-viewing .um-profile-body").find(".um-field").length&&(jQuery(".um-row-heading,.um-row").remove(),jQuery(".um-profile-note").show()),jQuery(document).on("click",".um-profile-save",function(e){return e.preventDefault(),jQuery(this).parents(".um").find("form").submit(),!1}),jQuery(document).on("click",".um-profile-edit-a",function(e){jQuery(this).addClass("active")}),jQuery(document).on("click",".um-cover a, .um-photo a",function(e){return e.preventDefault(),!1}),jQuery(document).on("click",".um-photo-modal",function(e){return e.preventDefault(),um_new_modal("um_view_photo","fit",!0,jQuery(this).attr("data-src")),!1}),jQuery(document).on("click",".um-reset-profile-photo",function(e){jQuery(".um-profile-photo-img img").attr("src",jQuery(this).attr("data-default_src")),user_id=jQuery(this).attr("data-user_id"),metakey="profile_photo",jQuery.ajax({url:um_scripts.ajaxurl,type:"post",data:{action:"ultimatemember_delete_profile_photo",metakey:metakey,user_id:user_id}})}),jQuery(document).on("click",".um-reset-cover-photo",function(e){jQuery(".um-cover-overlay").hide(),jQuery(".um-cover-e").html('<a href="#" class="um-cover-add um-manual-trigger" data-parent=".um-cover" data-child=".um-btn-auto-width"><span class="um-cover-add-i"><i class="um-icon-plus um-tip-n" title="Upload a cover photo"></i></span></a>'),jQuery(".um-dropdown").hide(),um_responsive(),user_id=jQuery(this).attr("data-user_id"),metakey="cover_photo",jQuery.ajax({url:um_scripts.ajaxurl,type:"post",data:{action:"ultimatemember_delete_cover_photo",metakey:metakey,user_id:user_id}})}),e(),jQuery("textarea[id=um-meta-bio]").change(e),jQuery("textarea[id=um-meta-bio]").keyup(e),jQuery(".um-profile-edit a.um_delete-item").click(function(e){if(e.preventDefault(),!confirm("Are you sure that you want to delete this user?"))return!1})}),jQuery(document).ready(function(){var e=jQuery(".um-account-main").attr("data-current_tab");e&&jQuery(".um-account-tab[data-tab="+e+"]").show(),jQuery(document).on("click",".um-account-side li a",function(e){e.preventDefault();var t=jQuery(this);t.parents("ul").find("li a").removeClass("current"),t.addClass("current");var i=jQuery(this).attr("href"),n=jQuery(this).attr("data-tab");return jQuery("input[id=_um_account_tab]:hidden").val(n),window.history.pushState("","",i),jQuery(".um-account-tab").hide(),jQuery(".um-account-tab[data-tab="+n+"]").fadeIn(),jQuery(".um-account-nav a").removeClass("current"),jQuery(".um-account-nav a[data-tab="+n+"]").addClass("current"),!1})}),jQuery(document).on("click",".um-account-nav a",function(e){e.preventDefault();var t=jQuery(this).attr("data-tab"),i=jQuery(this).parents("div"),n=jQuery(this);return jQuery("input[id=_um_account_tab]:hidden").val(t),jQuery(".um-account-tab").hide(),n.hasClass("current")?(i.next(".um-account-tab").slideUp(),n.removeClass("current")):(i.next(".um-account-tab").slideDown(),n.parents("div").find("a").removeClass("current"),n.addClass("current")),jQuery(".um-account-side li a").removeClass("current"),jQuery(".um-account-side li a[data-tab="+t+"]").addClass("current"),!1});