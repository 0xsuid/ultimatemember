wp.blocks.registerBlockType("um-block/um-member-directories",{title:wp.i18n.__("Member Directory","ultimate-member"),description:wp.i18n.__("Choose display directory","ultimate-member"),icon:"groups",category:"um-blocks",attributes:{content:{source:"html",selector:"p"},member_id:{type:"select"}},edit:wp.data.withSelect(function(e){return{posts:e("core").getEntityRecords("postType","um_directory",{per_page:-1})}})(function(t){var e,r=t.posts,n=t.className,i=(t.attributes,t.setAttributes,t.attributes.member_id);t.attributes.content;function m(e){return void 0!==e?'[ultimatemember form_id="'+e+'"]':""}if(!r)return wp.element.createElement("p",{className:n},wp.element.createElement(wp.components.Spinner,null),wp.i18n.__("Loading Forms","ultimate-member"));if(0===r.length)return wp.element.createElement("p",null,wp.i18n.__("No Posts","ultimate-member"));void 0===i&&(t.setAttributes({member_id:r[0].id}),e=m(r[0].id),t.setAttributes({content:e}));var s,r=(s=[],r.map(function(e){s.push({label:e.title.rendered,value:e.id})}),s);return wp.element.createElement("div",{className:n},wp.element.createElement(wp.components.SelectControl,{label:wp.i18n.__("Select Directories","ultimate-member"),className:"um_select_directory",type:"number",value:i,options:r,onChange:function(e){t.setAttributes({member_id:e});e=m(e);t.setAttributes({content:e})}}))}),save:function(e){return wp.element.createElement(wp.editor.RichText.Content,{tagName:"p",className:e.className,value:e.attributes.content})}});